{"PlaceName":"Baseplate","TotalScripts":66,"DecompileEndTime":1757241364,"PlaceId":168556275,"ScriptsSuccessful":62,"DecompileStartTime":1757241357,"Scripts":[{"Path":"StarterPlayer.StarterPlayerScripts.RbxCharacterSounds","Name":"RbxCharacterSounds","ClassName":"LocalScript","Category":"StarterPlayerScripts","FileName":"RbxCharacterSounds1.lua","Source":"-- Decompiled with Velocity Script Decompiler\nlocal v_u_1 = game:GetService(\"Players\")\nlocal v_u_2 = game:GetService(\"RunService\")\nlocal v_u_3 = game:GetService(\"SoundService\")\nlocal v_u_4 = \"UserSoundsUseRelativeVelocity2\"\nlocal v5, v6 = pcall(function()\n    -- upvalues: (copy) v_u_4\n    return UserSettings():IsUserFeatureEnabled(v_u_4)\nend)\nlocal v_u_7 = v5 and v6\nlocal v_u_8 = \"UserNewCharacterSoundsApi3\"\nlocal v9, v10 = pcall(function()\n    -- upvalues: (copy) v_u_8\n    return UserSettings():IsUserFeatureEnabled(v_u_8)\nend)\nlocal v_u_11 = v9 and v10\nlocal v_u_12 = \"UserFixCharSoundsEmitters\"\nlocal v13, v14 = pcall(function()\n    -- upvalues: (copy) v_u_12\n    return UserSettings():IsUserFeatureEnabled(v_u_12)\nend)\nlocal v_u_15 = v13 and v14\nlocal v_u_16 = {\n    [\"Climbing\"] = {\n        [\"SoundId\"] = \"rbxasset://sounds/action_footsteps_plastic.mp3\",\n        [\"Looped\"] = true\n    },\n    [\"Died\"] = {\n        [\"SoundId\"] = \"rbxasset://sounds/uuhhh.mp3\"\n    },\n    [\"FreeFalling\"] = {\n        [\"SoundId\"] = \"rbxasset://sounds/action_falling.ogg\",\n        [\"Looped\"] = true\n    },\n    [\"GettingUp\"] = {\n        [\"SoundId\"] = \"rbxasset://sounds/action_get_up.mp3\"\n    },\n    [\"Jumping\"] = {\n        [\"SoundId\"] = \"rbxasset://sounds/action_jump.mp3\"\n    },\n    [\"Landing\"] = {\n        [\"SoundId\"] = \"rbxasset://sounds/action_jump_land.mp3\"\n    },\n    [\"Running\"] = {\n        [\"SoundId\"] = \"rbxasset://sounds/action_footsteps_plastic.mp3\",\n        [\"Looped\"] = true,\n        [\"Pitch\"] = 1.85\n    },\n    [\"Splash\"] = {\n        [\"SoundId\"] = \"rbxasset://sounds/impact_water.mp3\"\n    },\n    [\"Swimming\"] = {\n        [\"SoundId\"] = \"rbxasset://sounds/action_swim.mp3\",\n        [\"Looped\"] = true,\n        [\"Pitch\"] = 1.6\n    }\n}\nlocal v_u_17 = {\n    [\"Climbing\"] = {\n        [\"AssetId\"] = \"rbxasset://sounds/action_footsteps_plastic.mp3\",\n        [\"Looping\"] = true\n    },\n    [\"Died\"] = {\n        [\"AssetId\"] = \"rbxasset://sounds/uuhhh.mp3\"\n    },\n    [\"FreeFalling\"] = {\n        [\"AssetId\"] = \"rbxasset://sounds/action_falling.ogg\",\n        [\"Looping\"] = true\n    },\n    [\"GettingUp\"] = {\n        [\"AssetId\"] = \"rbxasset://sounds/action_get_up.mp3\"\n    },\n    [\"Jumping\"] = {\n        [\"AssetId\"] = \"rbxasset://sounds/action_jump.mp3\"\n    },\n    [\"Landing\"] = {\n        [\"AssetId\"] = \"rbxasset://sounds/action_jump_land.mp3\"\n    },\n    [\"Running\"] = {\n        [\"AssetId\"] = \"rbxasset://sounds/action_footsteps_plastic.mp3\",\n        [\"Looping\"] = true,\n        [\"PlaybackSpeed\"] = 1.85\n    },\n    [\"Splash\"] = {\n        [\"AssetId\"] = \"rbxasset://sounds/impact_water.mp3\"\n    },\n    [\"Swimming\"] = {\n        [\"AssetId\"] = \"rbxasset://sounds/action_swim.mp3\",\n        [\"Looping\"] = true,\n        [\"PlaybackSpeed\"] = 1.6\n    }\n}\nlocal function v_u_21(p18, p19)\n    if p18 then\n        local v20 = p18.ActiveController and (not (p18.ActiveController:IsA(\"GroundController\") and p18.GroundSensor) and p18.ActiveController:IsA(\"ClimbController\"))\n        if v20 then\n            v20 = p18.ClimbSensor\n        end\n        if v20 and v20.SensedPart then\n            return p19 - v20.SensedPart:GetVelocityAtPosition(p18.RootPart.Position)\n        else\n            return p19\n        end\n    else\n        return p19\n    end\nend\nlocal v_u_98 = require(script:WaitForChild(\"AtomicBinding\")).new({\n    [\"humanoid\"] = \"Humanoid\",\n    [\"rootPart\"] = \"HumanoidRootPart\"\n}, function(p22)\n    -- upvalues: (copy) v_u_7, (copy) v_u_11, (copy) v_u_3, (copy) v_u_15, (copy) v_u_1, (copy) v_u_17, (copy) v_u_16, (copy) v_u_21, (copy) v_u_2\n    local v_u_23 = p22.humanoid\n    local v_u_24 = p22.rootPart\n    local v_u_25\n    if v_u_7 then\n        v_u_25 = v_u_23.Parent:FindFirstChild(\"ControllerManager\")\n    else\n        v_u_25 = nil\n    end\n    local v_u_26 = {}\n    if v_u_11 and v_u_3.CharacterSoundsUseNewApi == Enum.RolloutState.Enabled then\n        local v27 = nil\n        local v28 = nil\n        if v_u_15 then\n            v28 = v_u_23.RootPart\n        else\n            v27 = v_u_1.LocalPlayer.Character\n        end\n        local v29 = 5\n        local v30 = {}\n        while v29 < 150 do\n            v30[v29] = 5 / v29\n            v29 = v29 * 1.25\n        end\n        v30[150] = 0\n        local v31\n        if v_u_15 then\n            v31 = Instance.new(\"AudioEmitter\", v28)\n        else\n            v31 = Instance.new(\"AudioEmitter\", v27)\n        end\n        v31.Name = \"RbxCharacterSoundsEmitter\"\n        v31:SetDistanceAttenuation(v30)\n        for v32, v33 in pairs(v_u_17) do\n            local v34 = Instance.new(\"AudioPlayer\")\n            local v35 = Instance.new(\"Wire\")\n            v34.Name = v32\n            v35.Name = v32 .. \"Wire\"\n            v34.Archivable = false\n            v34.Volume = 0.65\n            for v36, v37 in pairs(v33) do\n                v34[v36] = v37\n            end\n            v34.Parent = v_u_24\n            v35.Parent = v34\n            v35.SourceInstance = v34\n            v35.TargetInstance = v31\n            v_u_26[v32] = v34\n        end\n    else\n        for v38, v39 in pairs(v_u_16) do\n            local v40 = Instance.new(\"Sound\")\n            v40.Name = v38\n            v40.Archivable = false\n            v40.RollOffMinDistance = 5\n            v40.RollOffMaxDistance = 150\n            v40.Volume = 0.65\n            for v41, v42 in pairs(v39) do\n                v40[v41] = v42\n            end\n            v40.Parent = v_u_24\n            v_u_26[v38] = v40\n        end\n    end\n    local v_u_43 = {}\n    local function v_u_52(p44)\n        -- upvalues: (copy) v_u_43, (ref) v_u_11\n        local v45 = pairs\n        local v46 = v_u_43\n        local v47 = {}\n        local v48 = p44 or nil\n        for v49, v50 in pairs(v46) do\n            v47[v49] = v50\n        end\n        for v51 in v45(v47) do\n            if v51 ~= v48 then\n                if v_u_11 and v51:IsA(\"AudioPlayer\") then\n                    v51:Stop()\n                else\n                    v51.Playing = false\n                end\n                v_u_43[v51] = nil\n            end\n        end\n    end\n    local v_u_73 = {\n        [Enum.HumanoidStateType.FallingDown] = function()\n            -- upvalues: (copy) v_u_52\n            v_u_52()\n        end,\n        [Enum.HumanoidStateType.GettingUp] = function()\n            -- upvalues: (copy) v_u_52, (copy) v_u_26, (ref) v_u_11\n            v_u_52()\n            local v53 = v_u_26.GettingUp\n            v53.TimePosition = 0\n            if v_u_11 and v53:IsA(\"AudioPlayer\") then\n                v53:Play()\n            else\n                v53.Playing = true\n            end\n        end,\n        [Enum.HumanoidStateType.Jumping] = function()\n            -- upvalues: (copy) v_u_52, (copy) v_u_26, (ref) v_u_11\n            v_u_52()\n            local v54 = v_u_26.Jumping\n            v54.TimePosition = 0\n            if v_u_11 and v54:IsA(\"AudioPlayer\") then\n                v54:Play()\n            else\n                v54.Playing = true\n            end\n        end,\n        [Enum.HumanoidStateType.Swimming] = function()\n            -- upvalues: (copy) v_u_24, (copy) v_u_26, (ref) v_u_11, (copy) v_u_52, (copy) v_u_43\n            local v55 = v_u_24.AssemblyLinearVelocity.Y\n            local v56 = math.abs(v55)\n            if v56 > 0.1 then\n                local v57 = v_u_26.Splash\n                local v58 = (v56 - 100) * 0.72 / 250 + 0.28\n                v57.Volume = math.clamp(v58, 0, 1)\n                local v59 = v_u_26.Splash\n                v59.TimePosition = 0\n                if v_u_11 and v59:IsA(\"AudioPlayer\") then\n                    v59:Play()\n                else\n                    v59.Playing = true\n                end\n            end\n            v_u_52(v_u_26.Swimming)\n            local v60 = v_u_26.Swimming\n            if v_u_11 and v60:IsA(\"AudioPlayer\") then\n                v60:Play()\n            else\n                v60.Playing = true\n            end\n            v_u_43[v_u_26.Swimming] = true\n        end,\n        [Enum.HumanoidStateType.Freefall] = function()\n            -- upvalues: (copy) v_u_26, (copy) v_u_52, (ref) v_u_11, (copy) v_u_43\n            v_u_26.FreeFalling.Volume = 0\n            v_u_52(v_u_26.FreeFalling)\n            local v61 = v_u_26.FreeFalling\n            if v_u_11 and v61:IsA(\"AudioPlayer\") then\n                v61.Looping = true\n            else\n                v61.Looped = true\n            end\n            if v_u_26.FreeFalling:IsA(\"Sound\") then\n                v_u_26.FreeFalling.PlaybackRegionsEnabled = true\n            end\n            v_u_26.FreeFalling.LoopRegion = NumberRange.new(2, 9)\n            local v62 = v_u_26.FreeFalling\n            v62.TimePosition = 0\n            if v_u_11 and v62:IsA(\"AudioPlayer\") then\n                v62:Play()\n            else\n                v62.Playing = true\n            end\n            v_u_43[v_u_26.FreeFalling] = true\n        end,\n        [Enum.HumanoidStateType.Landed] = function()\n            -- upvalues: (copy) v_u_52, (copy) v_u_24, (copy) v_u_26, (ref) v_u_11\n            v_u_52()\n            local v63 = v_u_24.AssemblyLinearVelocity.Y\n            local v64 = math.abs(v63)\n            if v64 > 75 then\n                local v65 = v_u_26.Landing\n                local v66 = (v64 - 50) * 1 / 50 + 0\n                v65.Volume = math.clamp(v66, 0, 1)\n                local v67 = v_u_26.Landing\n                v67.TimePosition = 0\n                if v_u_11 and v67:IsA(\"AudioPlayer\") then\n                    v67:Play()\n                    return\n                end\n                v67.Playing = true\n            end\n        end,\n        [Enum.HumanoidStateType.Running] = function()\n            -- upvalues: (copy) v_u_52, (copy) v_u_26, (ref) v_u_11, (copy) v_u_43\n            v_u_52(v_u_26.Running)\n            local v68 = v_u_26.Running\n            if v_u_11 and v68:IsA(\"AudioPlayer\") then\n                v68:Play()\n            else\n                v68.Playing = true\n            end\n            v_u_43[v_u_26.Running] = true\n        end,\n        [Enum.HumanoidStateType.Climbing] = function()\n            -- upvalues: (copy) v_u_26, (copy) v_u_24, (ref) v_u_7, (ref) v_u_21, (ref) v_u_25, (ref) v_u_11, (copy) v_u_52, (copy) v_u_43\n            local v69 = v_u_26.Climbing\n            local v70 = v_u_24.AssemblyLinearVelocity\n            if v_u_7 then\n                v70 = v_u_21(v_u_25, v70)\n            end\n            local v71 = v70.Y\n            if math.abs(v71) > 0.1 then\n                if v_u_11 and v69:IsA(\"AudioPlayer\") then\n                    v69:Play()\n                else\n                    v69.Playing = true\n                end\n                v_u_52(v69)\n            else\n                v_u_52()\n            end\n            v_u_43[v69] = true\n        end,\n        [Enum.HumanoidStateType.Seated] = function()\n            -- upvalues: (copy) v_u_52\n            v_u_52()\n        end,\n        [Enum.HumanoidStateType.Dead] = function()\n            -- upvalues: (copy) v_u_52, (copy) v_u_26, (ref) v_u_11\n            v_u_52()\n            local v72 = v_u_26.Died\n            v72.TimePosition = 0\n            if v_u_11 and v72:IsA(\"AudioPlayer\") then\n                v72:Play()\n            else\n                v72.Playing = true\n            end\n        end\n    }\n    local v_u_84 = {\n        [v_u_26.Climbing] = function(_, p74, p75)\n            -- upvalues: (ref) v_u_7, (ref) v_u_21, (ref) v_u_25, (ref) v_u_11\n            if v_u_7 then\n                p75 = v_u_21(v_u_25, p75)\n            end\n            local v76 = p75.Magnitude > 0.1\n            if v_u_11 and p74:IsA(\"AudioPlayer\") then\n                if p74.IsPlaying and not v76 then\n                    p74:Stop()\n                    return\n                end\n                if not p74.IsPlaying and v76 then\n                    p74:Play()\n                    return\n                end\n            else\n                p74.Playing = v76\n            end\n        end,\n        [v_u_26.FreeFalling] = function(p77, p78, p79)\n            if p79.Magnitude > 75 then\n                local v80 = p78.Volume + p77 * 0.9\n                p78.Volume = math.clamp(v80, 0, 1)\n            else\n                p78.Volume = 0\n            end\n        end,\n        [v_u_26.Running] = function(_, p81, p82)\n            -- upvalues: (copy) v_u_23, (ref) v_u_11\n            local v83\n            if p82.Magnitude > 0.5 then\n                v83 = v_u_23.MoveDirection.Magnitude > 0.5\n            else\n                v83 = false\n            end\n            if v_u_11 and p81:IsA(\"AudioPlayer\") then\n                if p81.IsPlaying and not v83 then\n                    p81:Stop()\n                    return\n                end\n                if not p81.IsPlaying and v83 then\n                    p81:Play()\n                    return\n                end\n            else\n                p81.Playing = v83\n            end\n        end\n    }\n    local v_u_85 = {\n        [Enum.HumanoidStateType.RunningNoPhysics] = Enum.HumanoidStateType.Running\n    }\n    local v_u_86 = v_u_85[v_u_23:GetState()] or v_u_23:GetState()\n    local v87 = v_u_86\n    local v88 = v_u_73[v87]\n    if v88 then\n        v88()\n    end\n    v_u_86 = v87\n    local v_u_92 = v_u_23.StateChanged:Connect(function(_, p89)\n        -- upvalues: (copy) v_u_85, (ref) v_u_86, (copy) v_u_73\n        local v90 = v_u_85[p89] or p89\n        if v90 ~= v_u_86 then\n            local v91 = v_u_73[v90]\n            if v91 then\n                v91()\n            end\n            v_u_86 = v90\n        end\n    end)\n    local v_u_96 = v_u_2.Stepped:Connect(function(_, p93)\n        -- upvalues: (copy) v_u_43, (copy) v_u_84, (copy) v_u_24\n        for v94 in pairs(v_u_43) do\n            local v95 = v_u_84[v94]\n            if v95 then\n                v95(p93, v94, v_u_24.AssemblyLinearVelocity)\n            end\n        end\n    end)\n    return function()\n        -- upvalues: (copy) v_u_92, (copy) v_u_96, (copy) v_u_26\n        v_u_92:Disconnect()\n        v_u_96:Disconnect()\n        for _, v97 in pairs(v_u_26) do\n            v97:Destroy()\n        end\n        table.clear(v_u_26)\n    end\nend)\nlocal v_u_99 = {}\nlocal function v_u_101(p100)\n    -- upvalues: (copy) v_u_98\n    v_u_98:bindRoot(p100)\nend\nlocal function v_u_103(p102)\n    -- upvalues: (copy) v_u_98\n    v_u_98:unbindRoot(p102)\nend\nlocal function v110(p104)\n    -- upvalues: (copy) v_u_99, (copy) v_u_98, (copy) v_u_101, (copy) v_u_103\n    local v105 = v_u_99[p104]\n    if not v105 then\n        v105 = {}\n        v_u_99[p104] = v105\n    end\n    if p104.Character then\n        v_u_98:bindRoot(p104.Character)\n    end\n    local v106 = p104.CharacterAdded\n    local v107 = v_u_101\n    table.insert(v105, v106:Connect(v107))\n    local v108 = p104.CharacterRemoving\n    local v109 = v_u_103\n    table.insert(v105, v108:Connect(v109))\nend\nlocal function v114(p111)\n    -- upvalues: (copy) v_u_99, (copy) v_u_98\n    local v112 = v_u_99[p111]\n    if v112 then\n        for _, v113 in ipairs(v112) do\n            v113:Disconnect()\n        end\n        v_u_99[p111] = nil\n    end\n    if p111.Character then\n        v_u_98:unbindRoot(p111.Character)\n    end\nend\nfor _, v115 in ipairs(v_u_1:GetPlayers()) do\n    task.spawn(v110, v115)\nend\nv_u_1.PlayerAdded:Connect(v110)\nv_u_1.PlayerRemoving:Connect(v114)"},{"Path":"StarterPlayer.StarterPlayerScripts.RbxCharacterSounds.AtomicBinding","Name":"AtomicBinding","ClassName":"ModuleScript","Category":"StarterPlayerScripts","FileName":"AtomicBinding2.lua","Source":"-- Decompiled with Velocity Script Decompiler\nlocal function v_u_4(p1)\n    local v2 = string.split(p1, \"/\")\n    for v3 = #v2, 1, -1 do\n        if v2[v3] == \"\" then\n            table.remove(v2, v3)\n        end\n    end\n    return v2\nend\nlocal function v_u_11(p5, p6)\n    -- upvalues: (copy) v_u_11\n    if p5.instance ~= nil then\n        p5.instance = nil\n        local v7 = p5.connections\n        if v7 then\n            for _, v8 in ipairs(v7) do\n                v8:Disconnect()\n            end\n            table.clear(v7)\n        end\n        if p6 and p5.alias then\n            p6[p5.alias] = nil\n        end\n        local v9 = p5.children\n        if v9 then\n            for _, v10 in pairs(v9) do\n                v_u_11(v10, p6)\n            end\n        end\n    end\nend\nlocal v_u_12 = {}\nv_u_12.__index = v_u_12\nfunction v_u_12.new(p13, p14)\n    -- upvalues: (copy) v_u_4, (copy) v_u_12\n    local v15 = {}\n    local v16 = 1\n    local v17 = {}\n    local v18 = {}\n    local v19 = {}\n    local v20 = {}\n    for v21, v22 in pairs(p13) do\n        v15[v21] = v_u_4(v22)\n        v16 = v16 + 1\n    end\n    local v23 = v_u_12\n    return setmetatable({\n        [\"_boundFn\"] = p14,\n        [\"_parsedManifest\"] = v15,\n        [\"_manifestSizeTarget\"] = v16,\n        [\"_dtorMap\"] = v17,\n        [\"_connections\"] = v18,\n        [\"_rootInstToRootNode\"] = v19,\n        [\"_rootInstToManifest\"] = v20\n    }, v23)\nend\nfunction v_u_12._startBoundFn(p24, p25, p26)\n    local v27 = p24._boundFn\n    local v28 = p24._dtorMap\n    local v29 = v28[p25]\n    if v29 then\n        v29()\n        v28[p25] = nil\n    end\n    local v30 = v27(p26)\n    if v30 then\n        v28[p25] = v30\n    end\nend\nfunction v_u_12._stopBoundFn(p31, p32)\n    local v33 = p31._dtorMap\n    local v34 = v33[p32]\n    if v34 then\n        v34()\n        v33[p32] = nil\n    end\nend\nfunction v_u_12.bindRoot(p_u_35, p_u_36)\n    -- upvalues: (copy) v_u_11\n    debug.profilebegin(\"AtomicBinding:BindRoot\")\n    local v37 = p_u_35._parsedManifest\n    local v38 = p_u_35._rootInstToRootNode\n    local v39 = p_u_35._rootInstToManifest\n    local v_u_40 = p_u_35._manifestSizeTarget\n    local v41 = v39[p_u_36] == nil\n    assert(v41)\n    local v_u_42 = {}\n    v39[p_u_36] = v_u_42\n    debug.profilebegin(\"BuildTree\")\n    local v43 = {\n        [\"alias\"] = \"root\",\n        [\"instance\"] = p_u_36\n    }\n    if next(v37) then\n        v43.children = {}\n        v43.connections = {}\n    end\n    v38[p_u_36] = v43\n    for v44, v45 in pairs(v37) do\n        local v46 = v43\n        for v47, v48 in ipairs(v45) do\n            local v49 = v47 == #v45\n            local v50 = v43.children[v48] or {}\n            if v49 then\n                if v50.alias ~= nil then\n                    error(\"Multiple aliases assigned to one instance\")\n                end\n                v50.alias = v44\n            else\n                v50.children = v50.children or {}\n                v50.connections = v50.connections or {}\n            end\n            v43.children[v48] = v50\n            v43 = v50\n        end\n        v43 = v46\n    end\n    debug.profileend()\n    local function v_u_77(p51)\n        -- upvalues: (copy) v_u_42, (copy) v_u_77, (copy) p_u_35, (copy) p_u_36, (ref) v_u_11, (copy) v_u_40\n        local v52 = p51.instance\n        local v_u_53 = assert(v52)\n        local v_u_54 = p51.children\n        local v55 = p51.alias\n        local v56 = not v_u_54\n        if v55 then\n            v_u_42[v55] = v_u_53\n        end\n        if not v56 then\n            local function v59(p57)\n                -- upvalues: (copy) v_u_54, (ref) v_u_77\n                local v58 = v_u_54[p57.Name]\n                if v58 and v58.instance == nil then\n                    v58.instance = p57\n                    v_u_77(v58)\n                end\n            end\n            local function v66(p60)\n                -- upvalues: (copy) v_u_54, (ref) p_u_35, (ref) p_u_36, (ref) v_u_11, (ref) v_u_42, (copy) v_u_53, (ref) v_u_77\n                local v61 = p60.Name\n                local v62 = v_u_54[v61]\n                if v62 then\n                    if v62.instance == p60 then\n                        p_u_35:_stopBoundFn(p_u_36)\n                        v_u_11(v62, v_u_42)\n                        local v63 = v62.instance == nil\n                        assert(v63)\n                        local v64 = v_u_53:FindFirstChild(v61)\n                        local v65 = v64 and v_u_54[v64.Name]\n                        if v65 then\n                            if v65.instance ~= nil then\n                                return\n                            end\n                            v65.instance = v64\n                            v_u_77(v65)\n                        end\n                    end\n                else\n                    return\n                end\n            end\n            for _, v67 in ipairs(v_u_53:GetChildren()) do\n                local v68 = v_u_54[v67.Name]\n                if v68 then\n                    if v68.instance == nil then\n                        v68.instance = v67\n                        v_u_77(v68)\n                    end\n                end\n            end\n            local v69 = p51.connections\n            local v70 = v_u_53.ChildAdded\n            table.insert(v69, v70:Connect(v59))\n            local v71 = p51.connections\n            local v72 = v_u_53.ChildRemoved\n            table.insert(v71, v72:Connect(v66))\n        end\n        if v56 then\n            local v73 = v_u_42\n            local v74 = v_u_40\n            local v75 = 0\n            for _ in pairs(v73) do\n                v75 = v75 + 1\n            end\n            local v76 = v75 <= v74\n            assert(v76, v75)\n            if v75 == v74 then\n                p_u_35:_startBoundFn(p_u_36, v_u_42)\n            end\n        end\n    end\n    debug.profilebegin(\"ResolveTree\")\n    v_u_77(v43)\n    debug.profileend()\n    debug.profileend()\nend\nfunction v_u_12.unbindRoot(p78, p79)\n    -- upvalues: (copy) v_u_11\n    local v80 = p78._rootInstToRootNode\n    local v81 = p78._rootInstToManifest\n    p78:_stopBoundFn(p79)\n    local v82 = v80[p79]\n    if v82 then\n        local v83 = v81[p79]\n        v_u_11(v82, (assert(v83)))\n        v80[p79] = nil\n    end\n    v81[p79] = nil\nend\nfunction v_u_12.destroy(p84)\n    -- upvalues: (copy) v_u_11\n    debug.profilebegin(\"AtomicBinding:destroy\")\n    for _, v85 in pairs(p84._dtorMap) do\n        v85:destroy()\n    end\n    table.clear(p84._dtorMap)\n    for _, v86 in ipairs(p84._connections) do\n        v86:Disconnect()\n    end\n    table.clear(p84._connections)\n    local v87 = p84._rootInstToManifest\n    for v88, v89 in pairs(p84._rootInstToRootNode) do\n        local v90 = v87[v88]\n        v_u_11(v89, (assert(v90)))\n    end\n    table.clear(p84._rootInstToManifest)\n    table.clear(p84._rootInstToRootNode)\n    debug.profileend()\nend\nreturn v_u_12"},{"Path":"StarterPlayer.StarterPlayerScripts.PlayerModule","Name":"PlayerModule","ClassName":"ModuleScript","Category":"StarterPlayerScripts","FileName":"PlayerModule3.lua","Source":"-- Decompiled with Velocity Script Decompiler\nlocal v_u_1 = {}\nv_u_1.__index = v_u_1\nfunction v_u_1.new()\n    -- upvalues: (copy) v_u_1\n    local v2 = v_u_1\n    local v3 = setmetatable({}, v2)\n    v3.cameras = require(script:WaitForChild(\"CameraModule\"))\n    v3.controls = require(script:WaitForChild(\"ControlModule\"))\n    return v3\nend\nfunction v_u_1.GetCameras(p4)\n    return p4.cameras\nend\nfunction v_u_1.GetControls(p5)\n    return p5.controls\nend\nfunction v_u_1.GetClickToMoveController(p6)\n    return p6.controls:GetClickToMoveController()\nend\nreturn v_u_1.new()"},{"Path":"StarterPlayer.StarterPlayerScripts.PlayerModule.ControlModule","Name":"ControlModule","ClassName":"ModuleScript","Category":"StarterPlayerScripts","FileName":"ControlModule4.lua","Source":"-- Decompiled with Velocity Script Decompiler\nlocal v_u_1 = {}\nv_u_1.__index = v_u_1\nlocal v_u_2 = game:GetService(\"Players\")\nlocal v_u_3 = game:GetService(\"RunService\")\nlocal v_u_4 = game:GetService(\"UserInputService\")\nlocal v_u_5 = game:GetService(\"GuiService\")\nlocal v_u_6 = game:GetService(\"Workspace\")\nlocal v_u_7 = UserSettings():GetService(\"UserGameSettings\")\nlocal v_u_8 = game:GetService(\"VRService\")\nlocal v9 = script.Parent:WaitForChild(\"CommonUtils\")\nlocal v_u_10 = require(script:WaitForChild(\"Keyboard\"))\nlocal v_u_11 = require(script:WaitForChild(\"Gamepad\"))\nlocal v_u_12 = require(script:WaitForChild(\"DynamicThumbstick\"))\nlocal v13 = require(v9:WaitForChild(\"FlagUtil\"))\nlocal v14, v15 = pcall(function()\n    return UserSettings():IsUserFeatureEnabled(\"UserDynamicThumbstickSafeAreaUpdate\")\nend)\nlocal v_u_16 = v14 and v15\nlocal v_u_17 = v13.getUserFlag(\"UserPreferredInputPlayerScripts2\")\nlocal v_u_18 = require(script:WaitForChild(\"TouchThumbstick\"))\nlocal v_u_19 = require(script:WaitForChild(\"ClickToMoveController\"))\nlocal v_u_20 = require(script:WaitForChild(\"TouchJump\"))\nlocal v_u_21 = require(script:WaitForChild(\"VehicleController\"))\nlocal v_u_22 = Enum.ContextActionPriority.Medium.Value\nlocal v_u_23 = {\n    [Enum.TouchMovementMode.DPad] = v_u_12,\n    [Enum.DevTouchMovementMode.DPad] = v_u_12,\n    [Enum.TouchMovementMode.Thumbpad] = v_u_12,\n    [Enum.DevTouchMovementMode.Thumbpad] = v_u_12,\n    [Enum.TouchMovementMode.Thumbstick] = v_u_18,\n    [Enum.DevTouchMovementMode.Thumbstick] = v_u_18,\n    [Enum.TouchMovementMode.DynamicThumbstick] = v_u_12,\n    [Enum.DevTouchMovementMode.DynamicThumbstick] = v_u_12,\n    [Enum.TouchMovementMode.ClickToMove] = v_u_19,\n    [Enum.DevTouchMovementMode.ClickToMove] = v_u_19,\n    [Enum.TouchMovementMode.Default] = v_u_12,\n    [Enum.ComputerMovementMode.Default] = v_u_10,\n    [Enum.ComputerMovementMode.KeyboardMouse] = v_u_10,\n    [Enum.DevComputerMovementMode.KeyboardMouse] = v_u_10,\n    [Enum.DevComputerMovementMode.Scriptable] = nil,\n    [Enum.ComputerMovementMode.ClickToMove] = v_u_19,\n    [Enum.DevComputerMovementMode.ClickToMove] = v_u_19\n}\nlocal v_u_24 = {\n    [Enum.UserInputType.Keyboard] = v_u_10,\n    [Enum.UserInputType.MouseButton1] = v_u_10,\n    [Enum.UserInputType.MouseButton2] = v_u_10,\n    [Enum.UserInputType.MouseButton3] = v_u_10,\n    [Enum.UserInputType.MouseWheel] = v_u_10,\n    [Enum.UserInputType.MouseMovement] = v_u_10,\n    [Enum.UserInputType.Gamepad1] = v_u_11,\n    [Enum.UserInputType.Gamepad2] = v_u_11,\n    [Enum.UserInputType.Gamepad3] = v_u_11,\n    [Enum.UserInputType.Gamepad4] = v_u_11\n}\nlocal v_u_25 = nil\nfunction v_u_1.new()\n    -- upvalues: (copy) v_u_1, (copy) v_u_2, (copy) v_u_17, (copy) v_u_21, (copy) v_u_22, (copy) v_u_3, (copy) v_u_4, (copy) v_u_7, (copy) v_u_5\n    local v26 = v_u_1\n    local v_u_27 = setmetatable({}, v26)\n    v_u_27.controllers = {}\n    v_u_27.activeControlModule = nil\n    v_u_27.activeController = nil\n    v_u_27.touchJumpController = nil\n    v_u_27.moveFunction = v_u_2.LocalPlayer.Move\n    v_u_27.humanoid = nil\n    if not v_u_17 then\n        v_u_27.lastInputType = Enum.UserInputType.None\n    end\n    v_u_27.controlsEnabled = true\n    v_u_27.humanoidSeatedConn = nil\n    v_u_27.vehicleController = nil\n    v_u_27.touchControlFrame = nil\n    v_u_27.currentTorsoAngle = 0\n    v_u_27.inputMoveVector = Vector3.new(0, 0, 0)\n    v_u_27.vehicleController = v_u_21.new(v_u_22)\n    v_u_2.LocalPlayer.CharacterAdded:Connect(function(p28)\n        -- upvalues: (copy) v_u_27\n        v_u_27:OnCharacterAdded(p28)\n    end)\n    v_u_2.LocalPlayer.CharacterRemoving:Connect(function(p29)\n        -- upvalues: (copy) v_u_27\n        v_u_27:OnCharacterRemoving(p29)\n    end)\n    if v_u_2.LocalPlayer.Character then\n        v_u_27:OnCharacterAdded(v_u_2.LocalPlayer.Character)\n    end\n    v_u_3:BindToRenderStep(\"ControlScriptRenderstep\", Enum.RenderPriority.Input.Value, function(p30)\n        -- upvalues: (copy) v_u_27\n        v_u_27:OnRenderStepped(p30)\n    end)\n    if not v_u_17 then\n        v_u_4.LastInputTypeChanged:Connect(function(p31)\n            -- upvalues: (copy) v_u_27\n            v_u_27:OnLastInputTypeChanged(p31)\n        end)\n    end\n    v_u_7:GetPropertyChangedSignal(\"TouchMovementMode\"):Connect(function()\n        -- upvalues: (ref) v_u_17, (copy) v_u_27\n        if v_u_17 then\n            v_u_27:UpdateMovementMode()\n        else\n            v_u_27:OnTouchMovementModeChange()\n        end\n    end)\n    v_u_2.LocalPlayer:GetPropertyChangedSignal(\"DevTouchMovementMode\"):Connect(function()\n        -- upvalues: (ref) v_u_17, (copy) v_u_27\n        if v_u_17 then\n            v_u_27:UpdateMovementMode()\n        else\n            v_u_27:OnTouchMovementModeChange()\n        end\n    end)\n    v_u_7:GetPropertyChangedSignal(\"ComputerMovementMode\"):Connect(function()\n        -- upvalues: (ref) v_u_17, (copy) v_u_27\n        if v_u_17 then\n            v_u_27:UpdateMovementMode()\n        else\n            v_u_27:OnComputerMovementModeChange()\n        end\n    end)\n    v_u_2.LocalPlayer:GetPropertyChangedSignal(\"DevComputerMovementMode\"):Connect(function()\n        -- upvalues: (ref) v_u_17, (copy) v_u_27\n        if v_u_17 then\n            v_u_27:UpdateMovementMode()\n        else\n            v_u_27:OnComputerMovementModeChange()\n        end\n    end)\n    v_u_27.playerGui = nil\n    v_u_27.touchGui = nil\n    v_u_27.playerGuiAddedConn = nil\n    v_u_5:GetPropertyChangedSignal(\"TouchControlsEnabled\"):Connect(function()\n        -- upvalues: (ref) v_u_17, (copy) v_u_27\n        if v_u_17 then\n            v_u_27:UpdateMovementMode()\n        else\n            v_u_27:UpdateTouchGuiVisibility()\n        end\n        v_u_27:UpdateActiveControlModuleEnabled()\n    end)\n    if v_u_17 then\n        v_u_4:GetPropertyChangedSignal(\"PreferredInput\"):Connect(function()\n            -- upvalues: (copy) v_u_27\n            v_u_27:UpdateMovementMode()\n        end)\n        v_u_27.playerGui = v_u_2.LocalPlayer:FindFirstChildOfClass(\"PlayerGui\")\n        if not v_u_27.playerGui then\n            v_u_27.playerGuiAddedConn = v_u_2.LocalPlayer.ChildAdded:Connect(function(p32)\n                -- upvalues: (copy) v_u_27\n                if p32:IsA(\"PlayerGui\") then\n                    v_u_27.playerGui = p32\n                    v_u_27.playerGuiAddedConn:Disconnect()\n                    v_u_27.playerGuiAddedConn = nil\n                    v_u_27:UpdateMovementMode()\n                end\n            end)\n        end\n        v_u_27:UpdateMovementMode()\n        return v_u_27\n    end\n    if not v_u_4.TouchEnabled then\n        v_u_27:OnLastInputTypeChanged(v_u_4:GetLastInputType())\n        return v_u_27\n    end\n    v_u_27.playerGui = v_u_2.LocalPlayer:FindFirstChildOfClass(\"PlayerGui\")\n    if not v_u_27.playerGui then\n        v_u_27.playerGuiAddedConn = v_u_2.LocalPlayer.ChildAdded:Connect(function(p33)\n            -- upvalues: (copy) v_u_27, (ref) v_u_4\n            if p33:IsA(\"PlayerGui\") then\n                v_u_27.playerGui = p33\n                v_u_27:CreateTouchGuiContainer()\n                v_u_27.playerGuiAddedConn:Disconnect()\n                v_u_27.playerGuiAddedConn = nil\n                v_u_27:OnLastInputTypeChanged(v_u_4:GetLastInputType())\n            end\n        end)\n        return v_u_27\n    end\n    v_u_27:CreateTouchGuiContainer()\n    v_u_27:OnLastInputTypeChanged(v_u_4:GetLastInputType())\n    return v_u_27\nend\nfunction v_u_1.GetMoveVector(p34)\n    return not p34.activeController and Vector3.new(0, 0, 0) or p34.activeController:GetMoveVector()\nend\nfunction v_u_1.GetEstimatedVRTorsoFrame(p35)\n    -- upvalues: (copy) v_u_8\n    local v36 = v_u_8:GetUserCFrame(Enum.UserCFrame.Head)\n    local _, v37, _ = v36:ToEulerAnglesYXZ()\n    local v38 = -v37\n    if v_u_8:GetUserCFrameEnabled(Enum.UserCFrame.RightHand) and v_u_8:GetUserCFrameEnabled(Enum.UserCFrame.LeftHand) then\n        local v39 = v_u_8:GetUserCFrame(Enum.UserCFrame.LeftHand)\n        local v40 = v_u_8:GetUserCFrame(Enum.UserCFrame.RightHand)\n        local v41 = v36.Position - v39.Position\n        local v42 = v36.Position - v40.Position\n        local v43 = v41.X\n        local v44 = v41.Z\n        local v45 = -math.atan2(v43, v44)\n        local v46 = v42.X\n        local v47 = v42.Z\n        local v48 = (-math.atan2(v46, v47) - v45 + 12.566370614359172) % 6.283185307179586\n        if v48 > 3.141592653589793 then\n            v48 = v48 - 6.283185307179586\n        end\n        local v49 = (v45 + v48 / 2 + 12.566370614359172) % 6.283185307179586\n        if v49 > 3.141592653589793 then\n            v49 = v49 - 6.283185307179586\n        end\n        local v50 = (v38 - p35.currentTorsoAngle + 12.566370614359172) % 6.283185307179586\n        if v50 > 3.141592653589793 then\n            v50 = v50 - 6.283185307179586\n        end\n        local v51 = (v49 - p35.currentTorsoAngle + 12.566370614359172) % 6.283185307179586\n        if v51 > 3.141592653589793 then\n            v51 = v51 - 6.283185307179586\n        end\n        local v52\n        if v51 > -1.5707963267948966 then\n            v52 = v51 < 1.5707963267948966\n        else\n            v52 = false\n        end\n        if not v52 then\n            v51 = v50\n        end\n        local v53 = math.min(v51, v50)\n        local v54 = math.max(v51, v50)\n        local v55 = 0\n        if v53 > 0 then\n            v54 = v53\n        elseif v54 >= 0 then\n            v54 = v55\n        end\n        p35.currentTorsoAngle = v54 + p35.currentTorsoAngle\n    else\n        p35.currentTorsoAngle = v38\n    end\n    return CFrame.new(v36.Position) * CFrame.fromEulerAnglesYXZ(0, -p35.currentTorsoAngle, 0)\nend\nfunction v_u_1.GetActiveController(p56)\n    return p56.activeController\nend\nfunction v_u_1.UpdateActiveControlModuleEnabled(p_u_57)\n    -- upvalues: (copy) v_u_2, (copy) v_u_17, (copy) v_u_4, (copy) v_u_19, (copy) v_u_18, (copy) v_u_12, (copy) v_u_20, (copy) v_u_5\n    local function v58()\n        -- upvalues: (copy) p_u_57, (ref) v_u_17, (ref) v_u_4, (ref) v_u_19, (ref) v_u_18, (ref) v_u_12, (ref) v_u_20, (ref) v_u_2\n        if p_u_57.touchControlFrame and (not v_u_17 or v_u_4.PreferredInput == Enum.PreferredInput.Touch) and (p_u_57.activeControlModule == v_u_19 or (p_u_57.activeControlModule == v_u_18 or p_u_57.activeControlModule == v_u_12)) then\n            if not p_u_57.controllers[v_u_20] then\n                p_u_57.controllers[v_u_20] = v_u_20.new()\n            end\n            p_u_57.touchJumpController = p_u_57.controllers[v_u_20]\n            p_u_57.touchJumpController:Enable(true, p_u_57.touchControlFrame)\n        elseif p_u_57.touchJumpController then\n            p_u_57.touchJumpController:Enable(false)\n        end\n        if p_u_57.activeControlModule == v_u_19 then\n            p_u_57.activeController:Enable(true, v_u_2.LocalPlayer.DevComputerMovementMode == Enum.DevComputerMovementMode.UserChoice, p_u_57.touchJumpController)\n            return\n        elseif p_u_57.touchControlFrame then\n            p_u_57.activeController:Enable(true, p_u_57.touchControlFrame)\n        else\n            p_u_57.activeController:Enable(true)\n        end\n    end\n    if p_u_57.activeController then\n        if p_u_57.controlsEnabled then\n            local v59\n            if v_u_17 then\n                v59 = v_u_4.PreferredInput == Enum.PreferredInput.Touch\n            else\n                v59 = v_u_4.TouchEnabled\n            end\n            if v_u_5.TouchControlsEnabled or (not v59 or p_u_57.activeControlModule ~= v_u_19 and (p_u_57.activeControlModule ~= v_u_18 and p_u_57.activeControlModule ~= v_u_12)) then\n                v58()\n            else\n                p_u_57.activeController:Enable(false)\n                if p_u_57.touchJumpController then\n                    p_u_57.touchJumpController:Enable(false)\n                end\n                if p_u_57.moveFunction then\n                    p_u_57.moveFunction(v_u_2.LocalPlayer, Vector3.new(0, 0, 0), true)\n                end\n            end\n        else\n            p_u_57.activeController:Enable(false)\n            if p_u_57.touchJumpController then\n                p_u_57.touchJumpController:Enable(false)\n            end\n            if p_u_57.moveFunction then\n                p_u_57.moveFunction(v_u_2.LocalPlayer, Vector3.new(0, 0, 0), true)\n            end\n            return\n        end\n    else\n        return\n    end\nend\nfunction v_u_1.Enable(p60, p61)\n    local v62 = p61 == nil and true or p61\n    if p60.controlsEnabled == v62 then\n        return\n    else\n        p60.controlsEnabled = v62\n        if p60.activeController then\n            p60:UpdateActiveControlModuleEnabled()\n        end\n    end\nend\nfunction v_u_1.Disable(p63)\n    p63:Enable(false)\nend\nfunction v_u_1.SelectComputerMovementModule(_)\n    -- upvalues: (copy) v_u_4, (copy) v_u_2, (copy) v_u_17, (copy) v_u_11, (copy) v_u_10, (copy) v_u_24, (ref) v_u_25, (copy) v_u_7, (copy) v_u_19, (copy) v_u_23\n    if v_u_4.KeyboardEnabled or v_u_4.GamepadEnabled then\n        local v64 = nil\n        local v65 = v_u_2.LocalPlayer.DevComputerMovementMode\n        if v65 == Enum.DevComputerMovementMode.UserChoice then\n            if v_u_17 then\n                if v_u_4.PreferredInput == Enum.PreferredInput.Gamepad then\n                    v64 = v_u_11\n                elseif v_u_4.PreferredInput == Enum.PreferredInput.KeyboardAndMouse then\n                    v64 = v_u_10\n                end\n            else\n                v64 = v_u_24[v_u_25]\n            end\n            if v_u_7.ComputerMovementMode == Enum.ComputerMovementMode.ClickToMove and v64 == v_u_10 then\n                v64 = v_u_19\n            end\n        else\n            v64 = v_u_23[v65]\n            if not v64 and v65 ~= Enum.DevComputerMovementMode.Scriptable then\n                warn(\"No character control module is associated with DevComputerMovementMode \", v65)\n            end\n        end\n        if v64 then\n            return v64, true\n        elseif v65 == Enum.DevComputerMovementMode.Scriptable then\n            return nil, true\n        else\n            return nil, false\n        end\n    else\n        return nil, false\n    end\nend\nfunction v_u_1.SelectTouchModule(_)\n    -- upvalues: (copy) v_u_4, (copy) v_u_2, (copy) v_u_23, (copy) v_u_7\n    if not v_u_4.TouchEnabled then\n        return nil, false\n    end\n    local v66 = v_u_2.LocalPlayer.DevTouchMovementMode\n    local v67\n    if v66 == Enum.DevTouchMovementMode.UserChoice then\n        v67 = v_u_23[v_u_7.TouchMovementMode]\n    else\n        if v66 == Enum.DevTouchMovementMode.Scriptable then\n            return nil, true\n        end\n        v67 = v_u_23[v66]\n    end\n    return v67, true\nend\nlocal function v_u_70()\n    -- upvalues: (copy) v_u_4\n    local v68 = v_u_4:GetGamepadState(Enum.UserInputType.Gamepad1)\n    for _, v69 in pairs(v68) do\n        if v69.KeyCode == Enum.KeyCode.Thumbstick2 then\n            return v69.Position\n        end\n    end\n    return Vector3.new(0, 0, 0)\nend\nfunction v_u_1.calculateRawMoveVector(p71, p72, p73)\n    -- upvalues: (copy) v_u_6, (copy) v_u_8, (copy) v_u_70\n    local v74 = v_u_6.CurrentCamera\n    if not v74 then\n        return p73\n    end\n    local v75 = v74.CFrame\n    if v_u_8.VREnabled and p72.RootPart then\n        v_u_8:GetUserCFrame(Enum.UserCFrame.Head)\n        local v76 = p71:GetEstimatedVRTorsoFrame()\n        if (v74.Focus.Position - v75.Position).Magnitude < 3 then\n            v75 = v75 * v76\n        else\n            v75 = v74.CFrame * (v76.Rotation + v76.Position * v74.HeadScale)\n        end\n    end\n    if p72:GetState() ~= Enum.HumanoidStateType.Swimming then\n        local _, _, _, v81, v78, v79, _, _, v80, _, _, v81 = v75:GetComponents()\n        if v80 >= 1 or v80 <= -1 then\n            v79 = -v78 * math.sign(v80)\n        end\n        local v82 = v81 * v81 + v79 * v79\n        local v83 = math.sqrt(v82)\n        local v84 = (v81 * p73.X + v79 * p73.Z) / v83\n        local v85 = (v81 * p73.Z - v79 * p73.X) / v83\n        return Vector3.new(v84, 0, v85)\n    end\n    if not v_u_8.VREnabled then\n        return v75:VectorToWorldSpace(p73)\n    end\n    local v86 = p73.X\n    local v87 = p73.Z\n    local v88 = Vector3.new(v86, 0, v87)\n    if v88.Magnitude < 0.01 then\n        return Vector3.new(0, 0, 0)\n    end\n    local v89 = -v_u_70().Y * 1.3962634015954636\n    local v90 = -v88.X\n    local v91 = -v88.Z\n    local v92 = math.atan2(v90, v91)\n    local _, v93, _ = v75:ToEulerAnglesYXZ()\n    local v94 = v92 + v93\n    return CFrame.fromEulerAnglesYXZ(v89, v94, 0).LookVector\nend\nfunction v_u_1.OnRenderStepped(p95, p96)\n    -- upvalues: (copy) v_u_11, (copy) v_u_8, (copy) v_u_2\n    if p95.activeController and (p95.activeController.enabled and p95.humanoid) then\n        local v97 = p95.activeController:GetMoveVector()\n        local v98 = p95.activeController:IsMoveVectorCameraRelative()\n        local v99 = p95:GetClickToMoveController()\n        if p95.activeController == v99 then\n            v99:OnRenderStepped(p96)\n        elseif v97.magnitude > 0 then\n            v99:CleanupPath()\n        else\n            v99:OnRenderStepped(p96)\n            v97 = v99:GetMoveVector()\n            v98 = v99:IsMoveVectorCameraRelative()\n        end\n        if p95.vehicleController then\n            local v100\n            v97, v100 = p95.vehicleController:Update(v97, v98, p95.activeControlModule == v_u_11)\n        end\n        if v98 then\n            v97 = p95:calculateRawMoveVector(p95.humanoid, v97)\n        end\n        p95.inputMoveVector = v97\n        if v_u_8.VREnabled then\n            v97 = p95:updateVRMoveVector(v97)\n        end\n        p95.moveFunction(v_u_2.LocalPlayer, v97, false)\n        local v101 = p95.humanoid\n        local v102 = not p95.activeController:GetIsJumping() and p95.touchJumpController\n        if v102 then\n            v102 = p95.touchJumpController:GetIsJumping()\n        end\n        v101.Jump = v102\n    end\nend\nfunction v_u_1.updateVRMoveVector(p103, p104)\n    -- upvalues: (copy) v_u_8\n    local v105 = workspace.CurrentCamera\n    local v106 = (v105.Focus.Position - v105.CFrame.Position).Magnitude < 5\n    if p104.Magnitude ~= 0 or (not v106 or (not v_u_8.AvatarGestures or (not p103.humanoid or p103.humanoid.Sit))) then\n        return p104\n    end\n    local v107 = v_u_8:GetUserCFrame(Enum.UserCFrame.Head)\n    local v108 = v107.Rotation + v107.Position * v105.HeadScale\n    local v109 = -0.7 * p103.humanoid.RootPart.Size.Y / 2\n    local v110 = (v105.CFrame * v108 * CFrame.new(0, v109, 0)).Position - p103.humanoid.RootPart.CFrame.Position\n    local v111 = v110.x\n    local v112 = v110.z\n    return Vector3.new(v111, 0, v112)\nend\nfunction v_u_1.OnHumanoidSeated(p113, p114, p115)\n    -- upvalues: (copy) v_u_22\n    if p114 then\n        if p115 and p115:IsA(\"VehicleSeat\") then\n            if not p113.vehicleController then\n                p113.vehicleController = p113.vehicleController.new(v_u_22)\n            end\n            p113.vehicleController:Enable(true, p115)\n            return\n        end\n    elseif p113.vehicleController then\n        p113.vehicleController:Enable(false, p115)\n    end\nend\nfunction v_u_1.OnCharacterAdded(p_u_116, p117)\n    -- upvalues: (copy) v_u_17\n    p_u_116.humanoid = p117:FindFirstChildOfClass(\"Humanoid\")\n    while not p_u_116.humanoid do\n        p117.ChildAdded:wait()\n        p_u_116.humanoid = p117:FindFirstChildOfClass(\"Humanoid\")\n    end\n    if not v_u_17 then\n        p_u_116:UpdateTouchGuiVisibility()\n    end\n    if p_u_116.humanoidSeatedConn then\n        p_u_116.humanoidSeatedConn:Disconnect()\n        p_u_116.humanoidSeatedConn = nil\n    end\n    p_u_116.humanoidSeatedConn = p_u_116.humanoid.Seated:Connect(function(p118, p119)\n        -- upvalues: (copy) p_u_116\n        p_u_116:OnHumanoidSeated(p118, p119)\n    end)\n    if v_u_17 then\n        p_u_116:UpdateMovementMode()\n    end\nend\nfunction v_u_1.OnCharacterRemoving(p120, _)\n    -- upvalues: (copy) v_u_17\n    p120.humanoid = nil\n    if v_u_17 then\n        p120:UpdateMovementMode()\n    else\n        p120:UpdateTouchGuiVisibility()\n    end\nend\nfunction v_u_1.UpdateTouchGuiVisibility(p121)\n    -- upvalues: (copy) v_u_17, (copy) v_u_5, (copy) v_u_4\n    local v122\n    if v_u_17 then\n        v122 = p121.humanoid and v_u_5.TouchControlsEnabled\n        if v122 then\n            v122 = v_u_4.PreferredInput == Enum.PreferredInput.Touch\n        end\n        if v122 and not p121.touchGui then\n            p121:CreateTouchGuiContainer()\n        end\n    else\n        v122 = p121.humanoid\n        if v122 then\n            v122 = v_u_5.TouchControlsEnabled\n        end\n    end\n    if p121.touchGui then\n        p121.touchGui.Enabled = v122 and true or false\n    end\nend\nfunction v_u_1.SwitchToController(p123, p124)\n    -- upvalues: (copy) v_u_22\n    if p124 then\n        if not p123.controllers[p124] then\n            p123.controllers[p124] = p124.new(v_u_22)\n        end\n        if p123.activeController ~= p123.controllers[p124] then\n            if p123.activeController then\n                p123.activeController:Enable(false)\n            end\n            p123.activeController = p123.controllers[p124]\n            p123.activeControlModule = p124\n            p123:UpdateActiveControlModuleEnabled()\n        end\n    else\n        if p123.activeController then\n            p123.activeController:Enable(false)\n        end\n        p123.activeController = nil\n        p123.activeControlModule = nil\n    end\nend\nfunction v_u_1.UpdateMovementMode(p125)\n    -- upvalues: (copy) v_u_4\n    p125:UpdateTouchGuiVisibility()\n    if v_u_4.PreferredInput == Enum.PreferredInput.Touch then\n        local v126, v127 = p125:SelectTouchModule()\n        if v127 and p125.touchControlFrame then\n            p125:SwitchToController(v126)\n            return\n        end\n    else\n        p125:SwitchToController((p125:SelectComputerMovementModule()))\n    end\nend\nfunction v_u_1.OnLastInputTypeChanged(p128, p129)\n    -- upvalues: (ref) v_u_25, (copy) v_u_24\n    if v_u_25 == p129 then\n        warn(\"LastInputType Change listener called with current type.\")\n    end\n    v_u_25 = p129\n    if v_u_25 == Enum.UserInputType.Touch then\n        local v130, v131 = p128:SelectTouchModule()\n        if v131 then\n            while not p128.touchControlFrame do\n                wait()\n            end\n            p128:SwitchToController(v130)\n        end\n    elseif v_u_24[v_u_25] ~= nil then\n        local v132 = p128:SelectComputerMovementModule()\n        if v132 then\n            p128:SwitchToController(v132)\n        end\n    end\n    p128:UpdateTouchGuiVisibility()\nend\nfunction v_u_1.OnComputerMovementModeChange(p133)\n    local v134, v135 = p133:SelectComputerMovementModule()\n    if v135 then\n        p133:SwitchToController(v134)\n    end\nend\nfunction v_u_1.OnTouchMovementModeChange(p136)\n    local v137, v138 = p136:SelectTouchModule()\n    if v138 then\n        while not p136.touchControlFrame do\n            wait()\n        end\n        p136:SwitchToController(v137)\n    end\nend\nfunction v_u_1.CreateTouchGuiContainer(p139)\n    -- upvalues: (copy) v_u_17, (ref) v_u_16\n    if not v_u_17 or p139.playerGui then\n        if p139.touchGui then\n            p139.touchGui:Destroy()\n        end\n        p139.touchGui = Instance.new(\"ScreenGui\")\n        p139.touchGui.Name = \"TouchGui\"\n        p139.touchGui.ResetOnSpawn = false\n        p139.touchGui.ZIndexBehavior = Enum.ZIndexBehavior.Sibling\n        if not v_u_17 then\n            p139:UpdateTouchGuiVisibility()\n        end\n        if v_u_16 then\n            p139.touchGui.ClipToDeviceSafeArea = false\n        end\n        p139.touchControlFrame = Instance.new(\"Frame\")\n        p139.touchControlFrame.Name = \"TouchControlFrame\"\n        p139.touchControlFrame.Size = UDim2.new(1, 0, 1, 0)\n        p139.touchControlFrame.BackgroundTransparency = 1\n        p139.touchControlFrame.Parent = p139.touchGui\n        p139.touchGui.Parent = p139.playerGui\n    end\nend\nfunction v_u_1.GetClickToMoveController(p140)\n    -- upvalues: (copy) v_u_19, (copy) v_u_22\n    if not p140.controllers[v_u_19] then\n        p140.controllers[v_u_19] = v_u_19.new(v_u_22)\n    end\n    return p140.controllers[v_u_19]\nend\nreturn v_u_1.new()"},{"Path":"StarterPlayer.StarterPlayerScripts.PlayerModule.ControlModule.VRNavigation","Name":"VRNavigation","ClassName":"ModuleScript","Category":"StarterPlayerScripts","FileName":"VRNavigation5.lua","Source":"-- Decompiled with Velocity Script Decompiler\nlocal v_u_1 = game:GetService(\"VRService\")\nlocal v_u_2 = game:GetService(\"UserInputService\")\nlocal v_u_3 = game:GetService(\"RunService\")\nlocal v4 = game:GetService(\"Players\")\nlocal v_u_5 = game:GetService(\"PathfindingService\")\nlocal v_u_6 = game:GetService(\"ContextActionService\")\nlocal v_u_7 = game:GetService(\"StarterGui\")\nlocal v8 = script.Parent.Parent:WaitForChild(\"CommonUtils\")\nlocal v9 = require(v8:WaitForChild(\"FlagUtil\"))\nlocal v_u_10 = nil\nlocal v_u_11 = v4.LocalPlayer\nlocal v_u_12 = RaycastParams.new()\nv_u_12.FilterType = Enum.RaycastFilterType.Exclude\nlocal v_u_13 = v9.getUserFlag(\"UserRaycastUpdateAPI\")\nlocal v_u_14 = Instance.new(\"BindableEvent\")\nv_u_14.Name = \"MovementUpdate\"\nv_u_14.Parent = script\ncoroutine.wrap(function()\n    -- upvalues: (ref) v_u_10\n    local v15 = script.Parent:WaitForChild(\"PathDisplay\")\n    if v15 then\n        v_u_10 = require(v15)\n    end\nend)()\nlocal v_u_16 = require(script.Parent:WaitForChild(\"BaseCharacterController\"))\nlocal v_u_17 = setmetatable({}, v_u_16)\nv_u_17.__index = v_u_17\nfunction v_u_17.new(p18)\n    -- upvalues: (copy) v_u_16, (copy) v_u_17\n    local v19 = v_u_16.new()\n    local v20 = v_u_17\n    local v21 = setmetatable(v19, v20)\n    v21.CONTROL_ACTION_PRIORITY = p18\n    v21.navigationRequestedConn = nil\n    v21.heartbeatConn = nil\n    v21.currentDestination = nil\n    v21.currentPath = nil\n    v21.currentPoints = nil\n    v21.currentPointIdx = 0\n    v21.expectedTimeToNextPoint = 0\n    v21.timeReachedLastPoint = tick()\n    v21.moving = false\n    v21.isJumpBound = false\n    v21.moveLatch = false\n    v21.userCFrameEnabledConn = nil\n    return v21\nend\nfunction v_u_17.SetLaserPointerMode(_, p_u_22)\n    -- upvalues: (copy) v_u_7\n    pcall(function()\n        -- upvalues: (ref) v_u_7, (copy) p_u_22\n        v_u_7:SetCore(\"VRLaserPointerMode\", p_u_22)\n    end)\nend\nfunction v_u_17.GetLocalHumanoid(_)\n    -- upvalues: (copy) v_u_11\n    local v23 = v_u_11.Character\n    if v23 then\n        for _, v24 in pairs(v23:GetChildren()) do\n            if v24:IsA(\"Humanoid\") then\n                return v24\n            end\n        end\n        return nil\n    end\nend\nfunction v_u_17.HasBothHandControllers(_)\n    -- upvalues: (copy) v_u_1\n    local v25 = v_u_1:GetUserCFrameEnabled(Enum.UserCFrame.RightHand)\n    if v25 then\n        v25 = v_u_1:GetUserCFrameEnabled(Enum.UserCFrame.LeftHand)\n    end\n    return v25\nend\nfunction v_u_17.HasAnyHandControllers(_)\n    -- upvalues: (copy) v_u_1\n    return v_u_1:GetUserCFrameEnabled(Enum.UserCFrame.RightHand) or v_u_1:GetUserCFrameEnabled(Enum.UserCFrame.LeftHand)\nend\nfunction v_u_17.IsMobileVR(_)\n    -- upvalues: (copy) v_u_2\n    return v_u_2.TouchEnabled\nend\nfunction v_u_17.HasGamepad(_)\n    -- upvalues: (copy) v_u_2\n    return v_u_2.GamepadEnabled\nend\nfunction v_u_17.ShouldUseNavigationLaser(p26)\n    if p26:IsMobileVR() then\n        return true\n    elseif p26:HasBothHandControllers() then\n        return false\n    else\n        return p26:HasAnyHandControllers() and true or not p26:HasGamepad()\n    end\nend\nfunction v_u_17.StartFollowingPath(p27, p28)\n    -- upvalues: (copy) v_u_14\n    currentPath = p28\n    currentPoints = currentPath:GetPointCoordinates()\n    currentPointIdx = 1\n    moving = true\n    timeReachedLastPoint = tick()\n    local v29 = p27:GetLocalHumanoid()\n    if v29 and (v29.Torso and #currentPoints >= 1) then\n        expectedTimeToNextPoint = (currentPoints[1] - v29.Torso.Position).magnitude / v29.WalkSpeed\n    end\n    v_u_14:Fire(\"targetPoint\", p27.currentDestination)\nend\nfunction v_u_17.GoToPoint(p30, p31)\n    -- upvalues: (copy) v_u_14\n    currentPath = true\n    currentPoints = { p31 }\n    currentPointIdx = 1\n    moving = true\n    local v32 = p30:GetLocalHumanoid()\n    local v33 = (v32.Torso.Position - p31).magnitude / v32.WalkSpeed\n    timeReachedLastPoint = tick()\n    expectedTimeToNextPoint = v33\n    v_u_14:Fire(\"targetPoint\", p31)\nend\nfunction v_u_17.StopFollowingPath(p34)\n    currentPath = nil\n    currentPoints = nil\n    currentPointIdx = 0\n    moving = false\n    p34.moveVector = Vector3.new(0, 0, 0)\nend\nfunction v_u_17.TryComputePath(_, p35, p36)\n    -- upvalues: (copy) v_u_5\n    local v37 = nil\n    local v38 = 0\n    while not v37 and v38 < 5 do\n        v37 = v_u_5:ComputeSmoothPathAsync(p35, p36, 200)\n        v38 = v38 + 1\n        if v37.Status == Enum.PathStatus.ClosestNoPath or v37.Status == Enum.PathStatus.ClosestOutOfRange then\n            return nil\n        end\n        if v37 and v37.Status == Enum.PathStatus.FailStartNotEmpty then\n            p35 = p35 + (p36 - p35).Unit\n            v37 = nil\n        end\n        if v37 and v37.Status == Enum.PathStatus.FailFinishNotEmpty then\n            p36 = p36 + Vector3.new(0, 1, 0)\n            v37 = nil\n        end\n    end\n    return v37\nend\nfunction v_u_17.OnNavigationRequest(p39, p40, _)\n    -- upvalues: (ref) v_u_10\n    local v41 = p40.Position\n    local v42 = p39.currentDestination\n    local v43 = v41.x\n    local v44\n    if v43 == v43 and v43 ~= (1 / 0) then\n        v44 = v43 ~= (-1 / 0)\n    else\n        v44 = false\n    end\n    if v44 then\n        local v45 = v41.y\n        if v45 == v45 and v45 ~= (1 / 0) then\n            v44 = v45 ~= (-1 / 0)\n        else\n            v44 = false\n        end\n        if v44 then\n            local v46 = v41.z\n            if v46 == v46 and v46 ~= (1 / 0) then\n                v44 = v46 ~= (-1 / 0)\n            else\n                v44 = false\n            end\n        end\n    end\n    if v44 then\n        p39.currentDestination = v41\n        local v47 = p39:GetLocalHumanoid()\n        if v47 and v47.Torso then\n            local v48 = v47.Torso.Position\n            if (p39.currentDestination - v48).magnitude < 12 then\n                p39:GoToPoint(p39.currentDestination)\n            elseif v42 and (p39.currentDestination - v42).magnitude <= 4 then\n                if moving then\n                    p39.currentPoints[#currentPoints] = p39.currentDestination\n                    return\n                end\n                p39:GoToPoint(p39.currentDestination)\n            else\n                local v49 = p39:TryComputePath(v48, p39.currentDestination)\n                if v49 then\n                    p39:StartFollowingPath(v49)\n                    if v_u_10 then\n                        v_u_10.setCurrentPoints(p39.currentPoints)\n                        v_u_10.renderPath()\n                        return\n                    end\n                else\n                    p39:StopFollowingPath()\n                    if v_u_10 then\n                        v_u_10.clearRenderedPath()\n                        return\n                    end\n                end\n            end\n        else\n            return\n        end\n    else\n        return\n    end\nend\nfunction v_u_17.OnJumpAction(p50, _, p51, _)\n    if p51 == Enum.UserInputState.Begin then\n        p50.isJumping = true\n    end\n    return Enum.ContextActionResult.Sink\nend\nfunction v_u_17.BindJumpAction(p_u_52, p53)\n    -- upvalues: (copy) v_u_6\n    if p53 then\n        if not p_u_52.isJumpBound then\n            p_u_52.isJumpBound = true\n            v_u_6:BindActionAtPriority(\"VRJumpAction\", function()\n                -- upvalues: (copy) p_u_52\n                return p_u_52:OnJumpAction()\n            end, false, p_u_52.CONTROL_ACTION_PRIORITY, Enum.KeyCode.ButtonA)\n            return\n        end\n    elseif p_u_52.isJumpBound then\n        p_u_52.isJumpBound = false\n        v_u_6:UnbindAction(\"VRJumpAction\")\n    end\nend\nfunction v_u_17.ControlCharacterGamepad(p54, _, p55, p56)\n    -- upvalues: (ref) v_u_10, (copy) v_u_14\n    if p56.KeyCode == Enum.KeyCode.Thumbstick1 then\n        if p55 ~= Enum.UserInputState.Cancel then\n            if p55 == Enum.UserInputState.End then\n                p54.moveVector = Vector3.new(0, 0, 0)\n                if p54:ShouldUseNavigationLaser() then\n                    p54:BindJumpAction(false)\n                    p54:SetLaserPointerMode(\"Navigation\")\n                end\n                if p54.moveLatch then\n                    p54.moveLatch = false\n                    v_u_14:Fire(\"offtrack\")\n                end\n            else\n                p54:StopFollowingPath()\n                if v_u_10 then\n                    v_u_10.clearRenderedPath()\n                end\n                if p54:ShouldUseNavigationLaser() then\n                    p54:BindJumpAction(true)\n                    p54:SetLaserPointerMode(\"Hidden\")\n                end\n                if p56.Position.magnitude > 0.22 then\n                    local v57 = p56.Position.X\n                    local v58 = -p56.Position.Y\n                    p54.moveVector = Vector3.new(v57, 0, v58)\n                    if p54.moveVector.magnitude > 0 then\n                        local v59 = p54.moveVector.unit\n                        local v60 = p56.Position.magnitude\n                        p54.moveVector = v59 * math.min(1, v60)\n                    end\n                    p54.moveLatch = true\n                end\n            end\n            return Enum.ContextActionResult.Sink\n        end\n        p54.moveVector = Vector3.new(0, 0, 0)\n    end\nend\nfunction v_u_17.OnHeartbeat(p61, p62)\n    -- upvalues: (ref) v_u_10, (copy) v_u_13, (copy) v_u_12, (copy) v_u_14\n    local v63 = p61.moveVector\n    local v64 = p61:GetLocalHumanoid()\n    if v64 and v64.Torso then\n        if p61.moving and p61.currentPoints then\n            local v65 = v64.Torso.Position\n            local v66 = (currentPoints[1] - v65) * Vector3.new(1, 0, 1)\n            local v67 = v66.magnitude\n            local v68 = v66 / v67\n            if v67 < 1 then\n                local v69 = currentPoints[1]\n                local v70 = 0\n                for v71, v72 in pairs(currentPoints) do\n                    if v71 ~= 1 then\n                        v70 = v70 + (v72 - v69).magnitude / v64.WalkSpeed\n                        v69 = v72\n                    end\n                end\n                table.remove(currentPoints, 1)\n                currentPointIdx = currentPointIdx + 1\n                if #currentPoints == 0 then\n                    p61:StopFollowingPath()\n                    if v_u_10 then\n                        v_u_10.clearRenderedPath()\n                    end\n                    return\n                end\n                if v_u_10 then\n                    v_u_10.setCurrentPoints(currentPoints)\n                    v_u_10.renderPath()\n                end\n                expectedTimeToNextPoint = (currentPoints[1] - v65).magnitude / v64.WalkSpeed\n                timeReachedLastPoint = tick()\n            else\n                if v_u_13 then\n                    v_u_12.FilterDescendantsInstances = { game.Players.LocalPlayer.Character, workspace.CurrentCamera }\n                    local v73 = workspace:Raycast(v65 - Vector3.new(0, 1, 0), v68 * 3, v_u_12)\n                    if v73 then\n                        local v74 = workspace:Raycast(v73.Position + v68 * 0.5 + Vector3.new(0, 100, 0), Vector3.new(-0, -100, -0), v_u_12).Position.Y - v65.Y\n                        if v74 < 6 and v74 > -2 then\n                            v64.Jump = true\n                        end\n                    end\n                else\n                    local v75 = { game.Players.LocalPlayer.Character, workspace.CurrentCamera }\n                    local v76 = Ray.new(v65 - Vector3.new(0, 1, 0), v68 * 3)\n                    local v77, v78, _ = workspace:FindPartOnRayWithIgnoreList(v76, v75)\n                    if v77 then\n                        local v79 = Ray.new(v78 + v68 * 0.5 + Vector3.new(0, 100, 0), Vector3.new(-0, -100, -0))\n                        local _, v80, _ = workspace:FindPartOnRayWithIgnoreList(v79, v75)\n                        local v81 = v80.Y - v65.Y\n                        if v81 < 6 and v81 > -2 then\n                            v64.Jump = true\n                        end\n                    end\n                end\n                if tick() - timeReachedLastPoint > expectedTimeToNextPoint + 2 then\n                    p61:StopFollowingPath()\n                    if v_u_10 then\n                        v_u_10.clearRenderedPath()\n                    end\n                    v_u_14:Fire(\"offtrack\")\n                end\n                v63 = p61.moveVector:Lerp(v68, p62 * 10)\n            end\n        end\n        local v82 = v63.x\n        local v83\n        if v82 == v82 and v82 ~= (1 / 0) then\n            v83 = v82 ~= (-1 / 0)\n        else\n            v83 = false\n        end\n        if v83 then\n            local v84 = v63.y\n            if v84 == v84 and v84 ~= (1 / 0) then\n                v83 = v84 ~= (-1 / 0)\n            else\n                v83 = false\n            end\n            if v83 then\n                local v85 = v63.z\n                if v85 == v85 and v85 ~= (1 / 0) then\n                    v83 = v85 ~= (-1 / 0)\n                else\n                    v83 = false\n                end\n            end\n        end\n        if v83 then\n            p61.moveVector = v63\n        end\n    end\nend\nfunction v_u_17.OnUserCFrameEnabled(p86)\n    if p86:ShouldUseNavigationLaser() then\n        p86:BindJumpAction(false)\n        p86:SetLaserPointerMode(\"Navigation\")\n    else\n        p86:BindJumpAction(true)\n        p86:SetLaserPointerMode(\"Hidden\")\n    end\nend\nfunction v_u_17.Enable(p_u_87, p88)\n    -- upvalues: (copy) v_u_1, (copy) v_u_3, (copy) v_u_6\n    p_u_87.moveVector = Vector3.new(0, 0, 0)\n    p_u_87.isJumping = false\n    if p88 then\n        p_u_87.navigationRequestedConn = v_u_1.NavigationRequested:Connect(function(p89, p90)\n            -- upvalues: (copy) p_u_87\n            p_u_87:OnNavigationRequest(p89, p90)\n        end)\n        p_u_87.heartbeatConn = v_u_3.Heartbeat:Connect(function(p91)\n            -- upvalues: (copy) p_u_87\n            p_u_87:OnHeartbeat(p91)\n        end)\n        v_u_6:BindAction(\"MoveThumbstick\", function(p92, p93, p94)\n            -- upvalues: (copy) p_u_87\n            return p_u_87:ControlCharacterGamepad(p92, p93, p94)\n        end, false, p_u_87.CONTROL_ACTION_PRIORITY, Enum.KeyCode.Thumbstick1)\n        v_u_6:BindActivate(Enum.UserInputType.Gamepad1, Enum.KeyCode.ButtonR2)\n        p_u_87.userCFrameEnabledConn = v_u_1.UserCFrameEnabled:Connect(function()\n            -- upvalues: (copy) p_u_87\n            p_u_87:OnUserCFrameEnabled()\n        end)\n        p_u_87:OnUserCFrameEnabled()\n        v_u_1:SetTouchpadMode(Enum.VRTouchpad.Left, Enum.VRTouchpadMode.VirtualThumbstick)\n        v_u_1:SetTouchpadMode(Enum.VRTouchpad.Right, Enum.VRTouchpadMode.ABXY)\n        p_u_87.enabled = true\n    else\n        p_u_87:StopFollowingPath()\n        v_u_6:UnbindAction(\"MoveThumbstick\")\n        v_u_6:UnbindActivate(Enum.UserInputType.Gamepad1, Enum.KeyCode.ButtonR2)\n        p_u_87:BindJumpAction(false)\n        p_u_87:SetLaserPointerMode(\"Disabled\")\n        if p_u_87.navigationRequestedConn then\n            p_u_87.navigationRequestedConn:Disconnect()\n            p_u_87.navigationRequestedConn = nil\n        end\n        if p_u_87.heartbeatConn then\n            p_u_87.heartbeatConn:Disconnect()\n            p_u_87.heartbeatConn = nil\n        end\n        if p_u_87.userCFrameEnabledConn then\n            p_u_87.userCFrameEnabledConn:Disconnect()\n            p_u_87.userCFrameEnabledConn = nil\n        end\n        p_u_87.enabled = false\n    end\nend\nreturn v_u_17"},{"Path":"StarterPlayer.StarterPlayerScripts.PlayerModule.ControlModule.PathDisplay","Name":"PathDisplay","ClassName":"ModuleScript","Category":"StarterPlayerScripts","FileName":"PathDisplay6.lua","Source":"-- Decompiled with Velocity Script Decompiler\nlocal v1 = script.Parent.Parent:WaitForChild(\"CommonUtils\")\nlocal v_u_2 = require(v1:WaitForChild(\"FlagUtil\")).getUserFlag(\"UserRaycastUpdateAPI\")\nlocal v_u_3 = RaycastParams.new()\nv_u_3.FilterType = Enum.RaycastFilterType.Exclude\nlocal v_u_4 = {\n    [\"spacing\"] = 8,\n    [\"image\"] = \"rbxasset://textures/Cursors/Gamepad/Pointer.png\",\n    [\"imageSize\"] = Vector2.new(2, 2)\n}\nlocal v_u_5 = Instance.new(\"Model\")\nv_u_5.Name = \"PathDisplayPoints\"\nlocal v6 = Instance.new(\"Part\")\nv6.Anchored = true\nv6.CanCollide = false\nv6.Transparency = 1\nv6.Name = \"PathDisplayAdornee\"\nv6.CFrame = CFrame.new(0, 0, 0)\nv6.Parent = v_u_5\nlocal v_u_7 = 30\nlocal v_u_8 = {}\nlocal v_u_9 = {}\nlocal v_u_10 = {}\nfor v11 = 1, v_u_7 do\n    local v12 = Instance.new(\"ImageHandleAdornment\")\n    v12.Archivable = false\n    v12.Adornee = v6\n    v12.Image = v_u_4.image\n    v12.Size = v_u_4.imageSize\n    v_u_8[v11] = v12\nend\nlocal function v_u_22(p13, _)\n    -- upvalues: (ref) v_u_7, (copy) v_u_8, (copy) v_u_2, (copy) v_u_3, (copy) v_u_5\n    if v_u_7 == 0 then\n        return nil\n    else\n        local v14 = v_u_8[1]\n        if v14 then\n            local v15 = v_u_8\n            local v16 = v_u_7\n            v_u_8[1] = v_u_8[v_u_7]\n            v15[v16] = nil\n            v_u_7 = v_u_7 - 1\n        else\n            v14 = nil\n        end\n        if v_u_2 then\n            v_u_3.FilterDescendantsInstances = { game.Players.LocalPlayer.Character, workspace.CurrentCamera }\n            local v17 = workspace:Raycast(p13 + Vector3.new(0, 2, 0), Vector3.new(0, -8, 0), v_u_3)\n            if not v17 then\n                return nil\n            end\n            v14.CFrame = CFrame.lookAlong(v17.Position, v17.Normal)\n            v14.Parent = v_u_5\n            return v14\n        else\n            local v18 = Ray.new(p13 + Vector3.new(0, 2, 0), Vector3.new(0, -8, 0))\n            local v19, v20, v21 = workspace:FindPartOnRayWithIgnoreList(v18, { game.Players.LocalPlayer.Character, workspace.CurrentCamera })\n            if not v19 then\n                return nil\n            end\n            v14.CFrame = CFrame.new(v20, v20 + v21)\n            v14.Parent = v_u_5\n            return v14\n        end\n    end\nend\nfunction v_u_4.setCurrentPoints(p23)\n    -- upvalues: (ref) v_u_9\n    if typeof(p23) == \"table\" then\n        v_u_9 = p23\n    else\n        v_u_9 = {}\n    end\nend\nfunction v_u_4.clearRenderedPath()\n    -- upvalues: (ref) v_u_10, (ref) v_u_7, (copy) v_u_8, (copy) v_u_5\n    for _, v24 in ipairs(v_u_10) do\n        v24.Parent = nil\n        v_u_7 = v_u_7 + 1\n        v_u_8[v_u_7] = v24\n    end\n    v_u_10 = {}\n    v_u_5.Parent = nil\nend\nfunction v_u_4.renderPath()\n    -- upvalues: (copy) v_u_4, (ref) v_u_9, (ref) v_u_10, (copy) v_u_22, (copy) v_u_5\n    v_u_4.clearRenderedPath()\n    if v_u_9 and #v_u_9 ~= 0 then\n        local v25 = #v_u_9\n        v_u_10[1] = v_u_22(v_u_9[v25], true)\n        if v_u_10[1] then\n            local v26 = 0\n            while true do\n                local v27 = v_u_9[v25]\n                local v28 = v_u_9[v25 - 1]\n                if v25 < 2 then\n                    break\n                end\n                local v29 = v28 - v27\n                local v30 = v29.magnitude\n                if v30 < v26 then\n                    v26 = v26 - v30\n                    v25 = v25 - 1\n                else\n                    local v31 = v_u_22(v27 + v29.unit * v26, false)\n                    if v31 then\n                        v_u_10[#v_u_10 + 1] = v31\n                    end\n                    v26 = v26 + v_u_4.spacing\n                end\n            end\n            v_u_5.Parent = workspace.CurrentCamera\n        end\n    else\n        return\n    end\nend\nreturn v_u_4"},{"Path":"StarterPlayer.StarterPlayerScripts.PlayerModule.ControlModule.VehicleController","Name":"VehicleController","ClassName":"ModuleScript","Category":"StarterPlayerScripts","FileName":"VehicleController7.lua","Source":"-- Decompiled with Velocity Script Decompiler\nlocal v_u_1 = game:GetService(\"ContextActionService\")\nlocal v_u_2 = {}\nv_u_2.__index = v_u_2\nfunction v_u_2.new(p3)\n    -- upvalues: (copy) v_u_2\n    local v4 = v_u_2\n    local v5 = setmetatable({}, v4)\n    v5.CONTROL_ACTION_PRIORITY = p3\n    v5.enabled = false\n    v5.vehicleSeat = nil\n    v5.throttle = 0\n    v5.steer = 0\n    v5.acceleration = 0\n    v5.decceleration = 0\n    v5.turningRight = 0\n    v5.turningLeft = 0\n    v5.vehicleMoveVector = Vector3.new(0, 0, 0)\n    v5.autoPilot = {}\n    v5.autoPilot.MaxSpeed = 0\n    v5.autoPilot.MaxSteeringAngle = 0\n    return v5\nend\nfunction v_u_2.BindContextActions(p_u_6)\n    -- upvalues: (copy) v_u_1\n    v_u_1:BindActionAtPriority(\"throttleAccel\", function(p7, p8, p9)\n        -- upvalues: (copy) p_u_6\n        p_u_6:OnThrottleAccel(p7, p8, p9)\n        return Enum.ContextActionResult.Pass\n    end, false, p_u_6.CONTROL_ACTION_PRIORITY, Enum.KeyCode.ButtonR2)\n    v_u_1:BindActionAtPriority(\"throttleDeccel\", function(p10, p11, p12)\n        -- upvalues: (copy) p_u_6\n        p_u_6:OnThrottleDeccel(p10, p11, p12)\n        return Enum.ContextActionResult.Pass\n    end, false, p_u_6.CONTROL_ACTION_PRIORITY, Enum.KeyCode.ButtonL2)\n    v_u_1:BindActionAtPriority(\"arrowSteerRight\", function(p13, p14, p15)\n        -- upvalues: (copy) p_u_6\n        p_u_6:OnSteerRight(p13, p14, p15)\n        return Enum.ContextActionResult.Pass\n    end, false, p_u_6.CONTROL_ACTION_PRIORITY, Enum.KeyCode.Right)\n    v_u_1:BindActionAtPriority(\"arrowSteerLeft\", function(p16, p17, p18)\n        -- upvalues: (copy) p_u_6\n        p_u_6:OnSteerLeft(p16, p17, p18)\n        return Enum.ContextActionResult.Pass\n    end, false, p_u_6.CONTROL_ACTION_PRIORITY, Enum.KeyCode.Left)\nend\nfunction v_u_2.Enable(p19, p20, p21)\n    -- upvalues: (copy) v_u_1\n    if p20 ~= p19.enabled or p21 ~= p19.vehicleSeat then\n        p19.enabled = p20\n        p19.vehicleMoveVector = Vector3.new(0, 0, 0)\n        if p20 then\n            if p21 then\n                p19.vehicleSeat = p21\n                p19:SetupAutoPilot()\n                p19:BindContextActions()\n                return\n            end\n        else\n            v_u_1:UnbindAction(\"throttleAccel\")\n            v_u_1:UnbindAction(\"throttleDeccel\")\n            v_u_1:UnbindAction(\"arrowSteerRight\")\n            v_u_1:UnbindAction(\"arrowSteerLeft\")\n            p19.vehicleSeat = nil\n        end\n    end\nend\nfunction v_u_2.OnThrottleAccel(p22, _, p23, _)\n    if p23 == Enum.UserInputState.End or p23 == Enum.UserInputState.Cancel then\n        p22.acceleration = 0\n    else\n        p22.acceleration = -1\n    end\n    p22.throttle = p22.acceleration + p22.decceleration\nend\nfunction v_u_2.OnThrottleDeccel(p24, _, p25, _)\n    if p25 == Enum.UserInputState.End or p25 == Enum.UserInputState.Cancel then\n        p24.decceleration = 0\n    else\n        p24.decceleration = 1\n    end\n    p24.throttle = p24.acceleration + p24.decceleration\nend\nfunction v_u_2.OnSteerRight(p26, _, p27, _)\n    if p27 == Enum.UserInputState.End or p27 == Enum.UserInputState.Cancel then\n        p26.turningRight = 0\n    else\n        p26.turningRight = 1\n    end\n    p26.steer = p26.turningRight + p26.turningLeft\nend\nfunction v_u_2.OnSteerLeft(p28, _, p29, _)\n    if p29 == Enum.UserInputState.End or p29 == Enum.UserInputState.Cancel then\n        p28.turningLeft = 0\n    else\n        p28.turningLeft = -1\n    end\n    p28.steer = p28.turningRight + p28.turningLeft\nend\nfunction v_u_2.Update(p30, p31, p32, _)\n    if not p30.vehicleSeat then\n        return p31, false\n    end\n    if not p32 then\n        local v33 = p30.vehicleSeat.Occupant.RootPart.CFrame:VectorToObjectSpace(p31)\n        p30.vehicleSeat.ThrottleFloat = p30:ComputeThrottle(v33)\n        p30.vehicleSeat.SteerFloat = p30:ComputeSteer(v33)\n        return Vector3.new(0, 0, 0), true\n    end\n    local v34 = p30.steer\n    local v35 = p30.throttle\n    local v36 = p31 + Vector3.new(v34, 0, v35)\n    p30.vehicleSeat.ThrottleFloat = -v36.Z\n    p30.vehicleSeat.SteerFloat = v36.X\n    return v36, true\nend\nfunction v_u_2.ComputeThrottle(_, p37)\n    return p37 == Vector3.new(0, 0, 0) and 0 or -p37.Z\nend\nfunction v_u_2.ComputeSteer(p38, p39)\n    if p39 == Vector3.new(0, 0, 0) then\n        return 0\n    end\n    local v40 = -p39.x\n    local v41 = -p39.z\n    return -math.atan2(v40, v41) * 57.29577951308232 / p38.autoPilot.MaxSteeringAngle\nend\nfunction v_u_2.SetupAutoPilot(p42)\n    p42.autoPilot.MaxSpeed = p42.vehicleSeat.MaxSpeed\n    p42.autoPilot.MaxSteeringAngle = 35\nend\nreturn v_u_2"},{"Path":"StarterPlayer.StarterPlayerScripts.PlayerModule.ControlModule.ClickToMoveController","Name":"ClickToMoveController","ClassName":"ModuleScript","Category":"StarterPlayerScripts","FileName":"ClickToMoveController8.lua","Source":"-- Decompiled with Velocity Script Decompiler\nlocal v1, v2 = pcall(function()\n    return UserSettings():IsUserFeatureEnabled(\"UserExcludeNonCollidableForPathfinding\")\nend)\nlocal v_u_3 = v1 and v2\nlocal v4, v5 = pcall(function()\n    return UserSettings():IsUserFeatureEnabled(\"UserClickToMoveSupportAgentCanClimb2\")\nend)\nlocal v_u_6 = v4 and v5\nlocal v_u_7 = game:GetService(\"UserInputService\")\nlocal v_u_8 = game:GetService(\"PathfindingService\")\nlocal v_u_9 = game:GetService(\"Players\")\ngame:GetService(\"Debris\")\nlocal v_u_10 = game:GetService(\"StarterGui\")\nlocal v_u_11 = game:GetService(\"Workspace\")\nlocal v_u_12 = game:GetService(\"CollectionService\")\nlocal v_u_13 = game:GetService(\"GuiService\")\nlocal v14 = script.Parent.Parent:WaitForChild(\"CommonUtils\")\nlocal v15 = require(v14:WaitForChild(\"FlagUtil\"))\nlocal v_u_16 = v15.getUserFlag(\"UserRaycastUpdateAPI\")\nlocal v_u_17 = v15.getUserFlag(\"UserPreferredInputPlayerScripts2\")\nlocal v_u_18 = true\nlocal v_u_19 = true\nlocal v_u_20 = false\nlocal v_u_21 = 1\nlocal v_u_22 = 8\nlocal v_u_23 = {\n    [Enum.KeyCode.W] = true,\n    [Enum.KeyCode.A] = true,\n    [Enum.KeyCode.S] = true,\n    [Enum.KeyCode.D] = true,\n    [Enum.KeyCode.Up] = true,\n    [Enum.KeyCode.Down] = true\n}\nlocal v_u_24 = v_u_9.LocalPlayer\nlocal v_u_25 = require(script.Parent:WaitForChild(\"ClickToMoveDisplay\"))\nlocal v_u_26 = RaycastParams.new()\nv_u_26.FilterType = Enum.RaycastFilterType.Exclude\nlocal v_u_27 = {}\nif not v_u_16 then\n    local function v_u_30(p28)\n        -- upvalues: (copy) v_u_30\n        if p28 then\n            local v29 = p28:FindFirstChildOfClass(\"Humanoid\")\n            if v29 then\n                return p28, v29\n            else\n                return v_u_30(p28.Parent)\n            end\n        else\n            return\n        end\n    end\n    v_u_27.FindCharacterAncestor = v_u_30\n    local function v_u_41(p31, p32, p33)\n        -- upvalues: (copy) v_u_11, (copy) v_u_30, (copy) v_u_41\n        local v34 = p33 or {}\n        local v35, v36, v37, v38 = v_u_11:FindPartOnRayWithIgnoreList(p31, v34)\n        if not v35 then\n            return nil, nil\n        end\n        if p32 and v35.CanCollide == false then\n            local v39 = not v35 or v35:FindFirstChildOfClass(\"Humanoid\")\n            if not v39 then\n                local v40\n                v40, v39 = v_u_30(v35.Parent)\n            end\n            if v39 == nil then\n                table.insert(v34, v35)\n                return v_u_41(p31, p32, v34)\n            end\n        end\n        return v35, v36, v37, v38\n    end\n    v_u_27.Raycast = v_u_41\nend\nlocal v_u_42 = {}\nlocal v_u_43 = nil\nlocal v_u_44 = nil\nlocal v_u_45 = nil\nlocal v_u_46 = nil\nlocal function v_u_57(p47)\n    -- upvalues: (ref) v_u_44, (ref) v_u_45, (ref) v_u_46, (ref) v_u_43, (copy) v_u_24, (copy) v_u_12\n    if p47 ~= v_u_44 then\n        if v_u_45 then\n            v_u_45:Disconnect()\n            v_u_45 = nil\n        end\n        if v_u_46 then\n            v_u_46:Disconnect()\n            v_u_46 = nil\n        end\n        v_u_44 = p47\n        local v48 = {}\n        local v49 = v_u_24\n        if v49 then\n            v49 = v_u_24.Character\n        end\n        __set_list(v48, 1, {v49})\n        v_u_43 = v48\n        if v_u_44 ~= nil then\n            local v50 = v_u_12:GetTagged(v_u_44)\n            for _, v51 in ipairs(v50) do\n                local v52 = v_u_43\n                table.insert(v52, v51)\n            end\n            v_u_45 = v_u_12:GetInstanceAddedSignal(v_u_44):Connect(function(p53)\n                -- upvalues: (ref) v_u_43\n                local v54 = v_u_43\n                table.insert(v54, p53)\n            end)\n            v_u_46 = v_u_12:GetInstanceRemovedSignal(v_u_44):Connect(function(p55)\n                -- upvalues: (ref) v_u_43\n                for v56 = 1, #v_u_43 do\n                    if v_u_43[v56] == p55 then\n                        v_u_43[v56] = v_u_43[#v_u_43]\n                        table.remove(v_u_43)\n                        return\n                    end\n                end\n            end)\n        end\n    end\nend\nlocal function v_u_122(p58)\n    if p58 == nil or p58.PrimaryPart == nil then\n        return\n    else\n        assert(p58, \"\")\n        local v59 = p58.PrimaryPart\n        assert(v59, \"\")\n        local v60 = p58.PrimaryPart.CFrame:Inverse()\n        local v61 = Vector3.new(inf, inf, inf)\n        local v62 = Vector3.new(-inf, -inf, -inf)\n        for _, v63 in pairs(p58:GetDescendants()) do\n            if v63:IsA(\"BasePart\") and v63.CanCollide then\n                local v64 = v60 * v63.CFrame\n                local v65 = v63.Size.X / 2\n                local v66 = v63.Size.Y / 2\n                local v67 = v63.Size.Z / 2\n                local v68 = Vector3.new(v65, v66, v67)\n                local v69 = {}\n                local v70 = v68.X\n                local v71 = v68.Y\n                local v72 = v68.Z\n                local v73 = Vector3.new(v70, v71, v72)\n                local v74 = v68.X\n                local v75 = v68.Y\n                local v76 = -v68.Z\n                local v77 = Vector3.new(v74, v75, v76)\n                local v78 = v68.X\n                local v79 = -v68.Y\n                local v80 = v68.Z\n                local v81 = Vector3.new(v78, v79, v80)\n                local v82 = v68.X\n                local v83 = -v68.Y\n                local v84 = -v68.Z\n                local v85 = Vector3.new(v82, v83, v84)\n                local v86 = -v68.X\n                local v87 = v68.Y\n                local v88 = v68.Z\n                local v89 = Vector3.new(v86, v87, v88)\n                local v90 = -v68.X\n                local v91 = v68.Y\n                local v92 = -v68.Z\n                local v93 = Vector3.new(v90, v91, v92)\n                local v94 = -v68.X\n                local v95 = -v68.Y\n                local v96 = v68.Z\n                local v97 = Vector3.new(v94, v95, v96)\n                local v98 = -v68.X\n                local v99 = -v68.Y\n                local v100 = -v68.Z\n                __set_list(v69, 1, {v73, v77, v81, v85, v89, v93, v97, (Vector3.new(v98, v99, v100))})\n                for _, v101 in ipairs(v69) do\n                    local v102 = v64 * v101\n                    local v103 = v61.X\n                    local v104 = v102.X\n                    local v105 = math.min(v103, v104)\n                    local v106 = v61.Y\n                    local v107 = v102.Y\n                    local v108 = math.min(v106, v107)\n                    local v109 = v61.Z\n                    local v110 = v102.Z\n                    local v111 = math.min(v109, v110)\n                    v61 = Vector3.new(v105, v108, v111)\n                    local v112 = v62.X\n                    local v113 = v102.X\n                    local v114 = math.max(v112, v113)\n                    local v115 = v62.Y\n                    local v116 = v102.Y\n                    local v117 = math.max(v115, v116)\n                    local v118 = v62.Z\n                    local v119 = v102.Z\n                    local v120 = math.max(v118, v119)\n                    v62 = Vector3.new(v114, v117, v120)\n                end\n            end\n        end\n        local v121 = v62 - v61\n        if v121.X < 0 or (v121.Y < 0 or v121.Z < 0) then\n            return nil\n        else\n            return v121\n        end\n    end\nend\nlocal function v_u_195(p123, p124, p125)\n    -- upvalues: (ref) v_u_20, (copy) v_u_24, (copy) v_u_42, (ref) v_u_21, (copy) v_u_3, (copy) v_u_122, (copy) v_u_6, (copy) v_u_8, (ref) v_u_18, (copy) v_u_25, (ref) v_u_22, (copy) v_u_16, (copy) v_u_26, (ref) v_u_43, (copy) v_u_11\n    local v_u_126 = {}\n    local v127\n    if p125 == nil then\n        v127 = v_u_20\n        p125 = true\n    else\n        v127 = p125\n    end\n    v_u_126.Cancelled = false\n    v_u_126.Started = false\n    v_u_126.Finished = Instance.new(\"BindableEvent\")\n    v_u_126.PathFailed = Instance.new(\"BindableEvent\")\n    v_u_126.PathComputing = false\n    v_u_126.PathComputed = false\n    v_u_126.OriginalTargetPoint = p123\n    v_u_126.TargetPoint = p123\n    v_u_126.TargetSurfaceNormal = p124\n    v_u_126.DiedConn = nil\n    v_u_126.SeatedConn = nil\n    v_u_126.BlockedConn = nil\n    v_u_126.TeleportedConn = nil\n    v_u_126.CurrentPoint = 0\n    v_u_126.HumanoidOffsetFromPath = Vector3.new(0, 0, 0)\n    v_u_126.CurrentWaypointPosition = nil\n    v_u_126.CurrentWaypointPlaneNormal = Vector3.new(0, 0, 0)\n    v_u_126.CurrentWaypointPlaneDistance = 0\n    v_u_126.CurrentWaypointNeedsJump = false\n    v_u_126.CurrentHumanoidPosition = Vector3.new(0, 0, 0)\n    v_u_126.CurrentHumanoidVelocity = 0\n    v_u_126.NextActionMoveDirection = Vector3.new(0, 0, 0)\n    v_u_126.NextActionJump = false\n    v_u_126.Timeout = 0\n    local v128 = v_u_24\n    local v129\n    if v128 then\n        v129 = v128.Character\n    else\n        v129 = v128\n    end\n    local v130\n    if v129 then\n        v130 = v_u_42[v128]\n        if not v130 or v130.Parent ~= v129 then\n            v_u_42[v128] = nil\n            v130 = v129:FindFirstChildOfClass(\"Humanoid\")\n            if v130 then\n                v_u_42[v128] = v130\n            end\n        end\n    else\n        v130 = nil\n    end\n    v_u_126.Humanoid = v130\n    v_u_126.OriginPoint = nil\n    v_u_126.AgentCanFollowPath = false\n    v_u_126.DirectPath = false\n    v_u_126.DirectPathRiseFirst = false\n    v_u_126.stopTraverseFunc = nil\n    v_u_126.setPointFunc = nil\n    v_u_126.pointList = nil\n    local v131 = v_u_126.Humanoid\n    if v131 then\n        v131 = v_u_126.Humanoid.RootPart\n    end\n    if v131 then\n        v_u_126.OriginPoint = v131.CFrame.Position\n        local v132 = 2\n        local v133 = 5\n        local v134 = true\n        local v135 = v_u_126.Humanoid.SeatPart\n        if v135 and v135:IsA(\"VehicleSeat\") then\n            local v136 = v135:FindFirstAncestorOfClass(\"Model\")\n            if v136 then\n                local v137 = v136.PrimaryPart\n                v136.PrimaryPart = v135\n                if p125 then\n                    local v138 = v136:GetExtentsSize()\n                    local v139 = v_u_21 * 0.5\n                    local v140 = v138.X * v138.X + v138.Z * v138.Z\n                    v132 = v139 * math.sqrt(v140)\n                    v133 = v_u_21 * v138.Y\n                    v_u_126.AgentCanFollowPath = true\n                    v_u_126.DirectPath = p125\n                    v134 = false\n                end\n                v136.PrimaryPart = v137\n            end\n        else\n            local v141 = nil\n            if v_u_3 then\n                local v142 = v_u_24\n                if v142 then\n                    v142 = v_u_24.Character\n                end\n                if v142 ~= nil then\n                    v141 = v_u_122(v142)\n                end\n            end\n            if v141 == nil then\n                local v143 = v_u_24\n                if v143 then\n                    v143 = v_u_24.Character\n                end\n                v141 = v143:GetExtentsSize()\n            end\n            assert(v141, \"\")\n            local v144 = v_u_21 * 0.5\n            local v145 = v141.X * v141.X + v141.Z * v141.Z\n            v132 = v144 * math.sqrt(v145)\n            v133 = v_u_21 * v141.Y\n            v134 = v_u_126.Humanoid.JumpPower > 0\n            v_u_126.AgentCanFollowPath = true\n            v_u_126.DirectPath = v127\n            v_u_126.DirectPathRiseFirst = v_u_126.Humanoid.Sit\n        end\n        if v_u_6 then\n            v_u_126.pathResult = v_u_8:CreatePath({\n                [\"AgentRadius\"] = v132,\n                [\"AgentHeight\"] = v133,\n                [\"AgentCanJump\"] = v134,\n                [\"AgentCanClimb\"] = true\n            })\n        else\n            v_u_126.pathResult = v_u_8:CreatePath({\n                [\"AgentRadius\"] = v132,\n                [\"AgentHeight\"] = v133,\n                [\"AgentCanJump\"] = v134\n            })\n        end\n    end\n    function v_u_126.Cleanup(_)\n        -- upvalues: (copy) v_u_126\n        if v_u_126.stopTraverseFunc then\n            v_u_126.stopTraverseFunc()\n            v_u_126.stopTraverseFunc = nil\n        end\n        if v_u_126.BlockedConn then\n            v_u_126.BlockedConn:Disconnect()\n            v_u_126.BlockedConn = nil\n        end\n        if v_u_126.DiedConn then\n            v_u_126.DiedConn:Disconnect()\n            v_u_126.DiedConn = nil\n        end\n        if v_u_126.SeatedConn then\n            v_u_126.SeatedConn:Disconnect()\n            v_u_126.SeatedConn = nil\n        end\n        if v_u_126.TeleportedConn then\n            v_u_126.TeleportedConn:Disconnect()\n            v_u_126.TeleportedConn = nil\n        end\n        v_u_126.Started = false\n    end\n    function v_u_126.Cancel(_)\n        -- upvalues: (copy) v_u_126\n        v_u_126.Cancelled = true\n        v_u_126:Cleanup()\n    end\n    function v_u_126.IsActive(_)\n        -- upvalues: (copy) v_u_126\n        local v146 = v_u_126.AgentCanFollowPath and v_u_126.Started\n        if v146 then\n            v146 = not v_u_126.Cancelled\n        end\n        return v146\n    end\n    function v_u_126.OnPathInterrupted(_)\n        -- upvalues: (copy) v_u_126\n        v_u_126.Cancelled = true\n        v_u_126:OnPointReached(false)\n    end\n    function v_u_126.ComputePath(_)\n        -- upvalues: (copy) v_u_126\n        if v_u_126.OriginPoint then\n            if v_u_126.PathComputed or v_u_126.PathComputing then\n                return\n            end\n            v_u_126.PathComputing = true\n            if v_u_126.AgentCanFollowPath then\n                if v_u_126.DirectPath then\n                    v_u_126.pointList = { PathWaypoint.new(v_u_126.OriginPoint, Enum.PathWaypointAction.Walk), PathWaypoint.new(v_u_126.TargetPoint, v_u_126.DirectPathRiseFirst and Enum.PathWaypointAction.Jump or Enum.PathWaypointAction.Walk) }\n                    v_u_126.PathComputed = true\n                else\n                    v_u_126.pathResult:ComputeAsync(v_u_126.OriginPoint, v_u_126.TargetPoint)\n                    v_u_126.pointList = v_u_126.pathResult:GetWaypoints()\n                    v_u_126.BlockedConn = v_u_126.pathResult.Blocked:Connect(function(p147)\n                        -- upvalues: (ref) v_u_126\n                        v_u_126:OnPathBlocked(p147)\n                    end)\n                    v_u_126.PathComputed = v_u_126.pathResult.Status == Enum.PathStatus.Success\n                end\n            end\n            v_u_126.PathComputing = false\n        end\n    end\n    function v_u_126.IsValidPath(_)\n        -- upvalues: (copy) v_u_126\n        v_u_126:ComputePath()\n        local v148 = v_u_126.PathComputed\n        if v148 then\n            v148 = v_u_126.AgentCanFollowPath\n        end\n        return v148\n    end\n    v_u_126.Recomputing = false\n    function v_u_126.OnPathBlocked(_, p149)\n        -- upvalues: (copy) v_u_126, (ref) v_u_18, (ref) v_u_25\n        if v_u_126.CurrentPoint <= p149 and not v_u_126.Recomputing then\n            v_u_126.Recomputing = true\n            if v_u_126.stopTraverseFunc then\n                v_u_126.stopTraverseFunc()\n                v_u_126.stopTraverseFunc = nil\n            end\n            v_u_126.OriginPoint = v_u_126.Humanoid.RootPart.CFrame.p\n            v_u_126.pathResult:ComputeAsync(v_u_126.OriginPoint, v_u_126.TargetPoint)\n            v_u_126.pointList = v_u_126.pathResult:GetWaypoints()\n            if #v_u_126.pointList > 0 then\n                v_u_126.HumanoidOffsetFromPath = v_u_126.pointList[1].Position - v_u_126.OriginPoint\n            end\n            v_u_126.PathComputed = v_u_126.pathResult.Status == Enum.PathStatus.Success\n            if v_u_18 then\n                local v150 = v_u_126\n                local v151 = v_u_126\n                local v152, v153 = v_u_25.CreatePathDisplay(v_u_126.pointList)\n                v150.stopTraverseFunc = v152\n                v151.setPointFunc = v153\n            end\n            if v_u_126.PathComputed then\n                v_u_126.CurrentPoint = 1\n                v_u_126:OnPointReached(true)\n            else\n                v_u_126.PathFailed:Fire()\n                v_u_126:Cleanup()\n            end\n            v_u_126.Recomputing = false\n        end\n    end\n    function v_u_126.OnRenderStepped(_, p154)\n        -- upvalues: (copy) v_u_126, (ref) v_u_22\n        if v_u_126.Started and not v_u_126.Cancelled then\n            v_u_126.Timeout = v_u_126.Timeout + p154\n            if v_u_22 < v_u_126.Timeout then\n                v_u_126:OnPointReached(false)\n                return\n            end\n            v_u_126.CurrentHumanoidPosition = v_u_126.Humanoid.RootPart.Position + v_u_126.HumanoidOffsetFromPath\n            v_u_126.CurrentHumanoidVelocity = v_u_126.Humanoid.RootPart.Velocity\n            while v_u_126.Started and v_u_126:IsCurrentWaypointReached() do\n                v_u_126:OnPointReached(true)\n            end\n            if v_u_126.Started then\n                v_u_126.NextActionMoveDirection = v_u_126.CurrentWaypointPosition - v_u_126.CurrentHumanoidPosition\n                if v_u_126.NextActionMoveDirection.Magnitude > 1e-6 then\n                    v_u_126.NextActionMoveDirection = v_u_126.NextActionMoveDirection.Unit\n                else\n                    v_u_126.NextActionMoveDirection = Vector3.new(0, 0, 0)\n                end\n                if v_u_126.CurrentWaypointNeedsJump then\n                    v_u_126.NextActionJump = true\n                    v_u_126.CurrentWaypointNeedsJump = false\n                    return\n                end\n                v_u_126.NextActionJump = false\n            end\n        end\n    end\n    function v_u_126.IsCurrentWaypointReached(_)\n        -- upvalues: (copy) v_u_126\n        local v155\n        if v_u_126.CurrentWaypointPlaneNormal == Vector3.new(0, 0, 0) then\n            v155 = true\n        else\n            local v156 = v_u_126.CurrentWaypointPlaneNormal:Dot(v_u_126.CurrentHumanoidPosition) - v_u_126.CurrentWaypointPlaneDistance\n            local v157 = 0.0625 * -v_u_126.CurrentWaypointPlaneNormal:Dot(v_u_126.CurrentHumanoidVelocity)\n            v155 = v156 < math.max(1, v157)\n        end\n        if v155 then\n            v_u_126.CurrentWaypointPosition = nil\n            v_u_126.CurrentWaypointPlaneNormal = Vector3.new(0, 0, 0)\n            v_u_126.CurrentWaypointPlaneDistance = 0\n        end\n        return v155\n    end\n    function v_u_126.OnPointReached(_, p158)\n        -- upvalues: (copy) v_u_126\n        if p158 and not v_u_126.Cancelled then\n            if v_u_126.setPointFunc then\n                v_u_126.setPointFunc(v_u_126.CurrentPoint)\n            end\n            local v159 = v_u_126.CurrentPoint + 1\n            if #v_u_126.pointList < v159 then\n                if v_u_126.stopTraverseFunc then\n                    v_u_126.stopTraverseFunc()\n                end\n                v_u_126.Finished:Fire()\n                v_u_126:Cleanup()\n            else\n                local v160 = v_u_126.pointList[v_u_126.CurrentPoint]\n                local v161 = v_u_126.pointList[v159]\n                local v162 = v_u_126.Humanoid:GetState()\n                if (v162 == Enum.HumanoidStateType.FallingDown or v162 == Enum.HumanoidStateType.Freefall) and true or v162 == Enum.HumanoidStateType.Jumping then\n                    local v163 = v161.Action == Enum.PathWaypointAction.Jump\n                    if not v163 and v_u_126.CurrentPoint > 1 then\n                        local v164 = v_u_126.pointList[v_u_126.CurrentPoint - 1]\n                        local v165 = v160.Position - v164.Position\n                        local v166 = v161.Position - v160.Position\n                        v163 = Vector2.new(v165.x, v165.z).Unit:Dot(Vector2.new(v166.x, v166.z).Unit) < 0.996\n                    end\n                    if v163 then\n                        v_u_126.Humanoid.FreeFalling:Wait()\n                        wait(0.1)\n                    end\n                end\n                v_u_126:MoveToNextWayPoint(v160, v161, v159)\n            end\n        else\n            v_u_126.PathFailed:Fire()\n            v_u_126:Cleanup()\n            return\n        end\n    end\n    function v_u_126.MoveToNextWayPoint(_, p167, p168, p169)\n        -- upvalues: (copy) v_u_126, (ref) v_u_6\n        v_u_126.CurrentWaypointPlaneNormal = p167.Position - p168.Position\n        if not v_u_6 or p168.Label ~= \"Climb\" then\n            local v170 = v_u_126\n            local v171 = v_u_126.CurrentWaypointPlaneNormal.X\n            local v172 = v_u_126.CurrentWaypointPlaneNormal.Z\n            v170.CurrentWaypointPlaneNormal = Vector3.new(v171, 0, v172)\n        end\n        if v_u_126.CurrentWaypointPlaneNormal.Magnitude > 1e-6 then\n            v_u_126.CurrentWaypointPlaneNormal = v_u_126.CurrentWaypointPlaneNormal.Unit\n            v_u_126.CurrentWaypointPlaneDistance = v_u_126.CurrentWaypointPlaneNormal:Dot(p168.Position)\n        else\n            v_u_126.CurrentWaypointPlaneNormal = Vector3.new(0, 0, 0)\n            v_u_126.CurrentWaypointPlaneDistance = 0\n        end\n        v_u_126.CurrentWaypointNeedsJump = p168.Action == Enum.PathWaypointAction.Jump\n        v_u_126.CurrentWaypointPosition = p168.Position\n        v_u_126.CurrentPoint = p169\n        v_u_126.Timeout = 0\n    end\n    function v_u_126.Start(_, p173)\n        -- upvalues: (copy) v_u_126, (ref) v_u_25, (ref) v_u_18\n        if v_u_126.AgentCanFollowPath then\n            if v_u_126.Started then\n                return\n            else\n                v_u_126.Started = true\n                v_u_25.CancelFailureAnimation()\n                if v_u_18 and (p173 == nil or p173) then\n                    local v174 = v_u_126\n                    local v175 = v_u_126\n                    local v176, v177 = v_u_25.CreatePathDisplay(v_u_126.pointList, v_u_126.OriginalTargetPoint)\n                    v174.stopTraverseFunc = v176\n                    v175.setPointFunc = v177\n                end\n                if #v_u_126.pointList > 0 then\n                    local v178 = v_u_126\n                    local v179 = v_u_126.pointList[1].Position.Y - v_u_126.OriginPoint.Y\n                    v178.HumanoidOffsetFromPath = Vector3.new(0, v179, 0)\n                    v_u_126.CurrentHumanoidPosition = v_u_126.Humanoid.RootPart.Position + v_u_126.HumanoidOffsetFromPath\n                    v_u_126.CurrentHumanoidVelocity = v_u_126.Humanoid.RootPart.Velocity\n                    v_u_126.SeatedConn = v_u_126.Humanoid.Seated:Connect(function(_, _)\n                        -- upvalues: (ref) v_u_126\n                        v_u_126:OnPathInterrupted()\n                    end)\n                    v_u_126.DiedConn = v_u_126.Humanoid.Died:Connect(function()\n                        -- upvalues: (ref) v_u_126\n                        v_u_126:OnPathInterrupted()\n                    end)\n                    v_u_126.TeleportedConn = v_u_126.Humanoid.RootPart:GetPropertyChangedSignal(\"CFrame\"):Connect(function()\n                        -- upvalues: (ref) v_u_126\n                        v_u_126:OnPathInterrupted()\n                    end)\n                    v_u_126.CurrentPoint = 1\n                    v_u_126:OnPointReached(true)\n                else\n                    v_u_126.PathFailed:Fire()\n                    if v_u_126.stopTraverseFunc then\n                        v_u_126.stopTraverseFunc()\n                    end\n                end\n            end\n        else\n            v_u_126.PathFailed:Fire()\n            return\n        end\n    end\n    local v180 = v_u_126.TargetPoint + v_u_126.TargetSurfaceNormal * 1.5\n    if v_u_16 then\n        local v181 = v_u_26\n        local v182\n        if v_u_43 then\n            v182 = v_u_43\n        else\n            v_u_43 = {}\n            local v183 = v_u_43\n            assert(v183, \"\")\n            local v184 = v_u_43\n            local v185 = v_u_24\n            if v185 then\n                v185 = v_u_24.Character\n            end\n            table.insert(v184, v185)\n            v182 = v_u_43\n        end\n        v181.FilterDescendantsInstances = v182\n        local v186 = v_u_11:Raycast(v180, Vector3.new(-0, -50, -0), v_u_26)\n        if v186 then\n            v_u_126.TargetPoint = v186.Position\n        end\n    else\n        local v187 = Ray.new(v180, Vector3.new(0, -50, 0))\n        local v188 = v_u_11\n        local v189\n        if v_u_43 then\n            v189 = v_u_43\n        else\n            v_u_43 = {}\n            local v190 = v_u_43\n            assert(v190, \"\")\n            local v191 = v_u_43\n            local v192 = v_u_24\n            if v192 then\n                v192 = v_u_24.Character\n            end\n            table.insert(v191, v192)\n            v189 = v_u_43\n        end\n        local v193, v194 = v188:FindPartOnRayWithIgnoreList(v187, v189)\n        if v193 then\n            v_u_126.TargetPoint = v194\n        end\n    end\n    v_u_126:ComputePath()\n    return v_u_126\nend\nlocal function v_u_198(p196)\n    if p196 ~= nil then\n        for _, v197 in pairs(p196:GetChildren()) do\n            if v197:IsA(\"Tool\") then\n                return v197\n            end\n        end\n    end\nend\nlocal v_u_199 = nil\nlocal v_u_200 = nil\nlocal v_u_201 = nil\nlocal function v_u_210(p202, p_u_203, p_u_204, p_u_205, p_u_206)\n    -- upvalues: (ref) v_u_199, (ref) v_u_200, (ref) v_u_201, (copy) v_u_198, (ref) v_u_19, (copy) v_u_25\n    if v_u_199 then\n        if v_u_199 then\n            v_u_199:Cancel()\n            v_u_199 = nil\n        end\n        if v_u_200 then\n            v_u_200:Disconnect()\n            v_u_200 = nil\n        end\n        if v_u_201 then\n            v_u_201:Disconnect()\n            v_u_201 = nil\n        end\n    end\n    v_u_199 = p202\n    p202:Start(p_u_206)\n    v_u_200 = p202.Finished.Event:Connect(function()\n        -- upvalues: (ref) v_u_199, (ref) v_u_200, (ref) v_u_201, (copy) p_u_204, (ref) v_u_198, (copy) p_u_205\n        if v_u_199 then\n            v_u_199:Cancel()\n            v_u_199 = nil\n        end\n        if v_u_200 then\n            v_u_200:Disconnect()\n            v_u_200 = nil\n        end\n        if v_u_201 then\n            v_u_201:Disconnect()\n            v_u_201 = nil\n        end\n        local v207 = p_u_204 and v_u_198(p_u_205)\n        if v207 then\n            v207:Activate()\n        end\n    end)\n    v_u_201 = p202.PathFailed.Event:Connect(function()\n        -- upvalues: (ref) v_u_199, (ref) v_u_200, (ref) v_u_201, (copy) p_u_206, (ref) v_u_19, (ref) v_u_25, (copy) p_u_203\n        if v_u_199 then\n            v_u_199:Cancel()\n            v_u_199 = nil\n        end\n        if v_u_200 then\n            v_u_200:Disconnect()\n            v_u_200 = nil\n        end\n        if v_u_201 then\n            v_u_201:Disconnect()\n            v_u_201 = nil\n        end\n        if p_u_206 == nil or p_u_206 then\n            local v208 = v_u_19\n            if v208 then\n                local v209 = v_u_199\n                if v209 then\n                    v209 = v_u_199:IsActive()\n                end\n                v208 = not v209\n            end\n            if v208 then\n                v_u_25.PlayFailureAnimation()\n            end\n            v_u_25.DisplayFailureWaypoint(p_u_203)\n        end\n    end)\nend\nfunction OnTap(p211, p212, p213)\n    -- upvalues: (copy) v_u_11, (copy) v_u_24, (copy) v_u_42, (copy) v_u_16, (ref) v_u_43, (copy) v_u_26, (copy) v_u_10, (copy) v_u_9, (ref) v_u_199, (ref) v_u_200, (ref) v_u_201, (copy) v_u_195, (copy) v_u_210, (ref) v_u_19, (copy) v_u_25, (copy) v_u_27, (copy) v_u_198\n    local v214 = v_u_11.CurrentCamera\n    local v215 = v_u_24.Character\n    local v216 = v_u_24\n    local v217\n    if v216 then\n        v217 = v216.Character\n    else\n        v217 = v216\n    end\n    local v218\n    if v217 then\n        v218 = v_u_42[v216]\n        if not v218 or v218.Parent ~= v217 then\n            v_u_42[v216] = nil\n            v218 = v217:FindFirstChildOfClass(\"Humanoid\")\n            if v218 then\n                v_u_42[v216] = v218\n            end\n        end\n    else\n        v218 = nil\n    end\n    local v219\n    if v218 == nil then\n        v219 = false\n    else\n        v219 = v218.Health > 0\n    end\n    if not v219 then\n        return\n    end\n    if #p211 ~= 1 and not p212 then\n        local v220 = #p211 >= 2 and (v214 and v_u_198(v215))\n        if v220 then\n            v220:Activate()\n        end\n        goto l21\n    end\n    if not v214 then\n        ::l21::\n        return\n    end\n    local v221 = v214:ScreenPointToRay(p211[1].X, p211[1].Y)\n    if not v_u_16 then\n        local v222 = Ray.new(v221.Origin, v221.Direction * 1000)\n        local v223 = v_u_27.Raycast\n        local v224 = true\n        local v225\n        if v_u_43 then\n            v225 = v_u_43\n        else\n            v_u_43 = {}\n            local v226 = v_u_43\n            assert(v226, \"\")\n            local v227 = v_u_43\n            local v228 = v_u_24\n            if v228 then\n                v228 = v_u_24.Character\n            end\n            table.insert(v227, v228)\n            v225 = v_u_43\n        end\n        local v229, v230, v231 = v223(v222, v224, v225)\n        local v232, v233 = v_u_27.FindCharacterAncestor(v229)\n        if p213 and (v233 and (v_u_10:GetCore(\"AvatarContextMenuEnabled\") and v_u_9:GetPlayerFromCharacter(v233.Parent))) then\n            if v_u_199 then\n                v_u_199:Cancel()\n                v_u_199 = nil\n            end\n            if v_u_200 then\n                v_u_200:Disconnect()\n                v_u_200 = nil\n            end\n            if v_u_201 then\n                v_u_201:Disconnect()\n                v_u_201 = nil\n            end\n            return\n        end\n        if p212 then\n            v232 = nil\n        else\n            p212 = v230\n        end\n        if p212 and v215 then\n            if v_u_199 then\n                v_u_199:Cancel()\n                v_u_199 = nil\n            end\n            if v_u_200 then\n                v_u_200:Disconnect()\n                v_u_200 = nil\n            end\n            if v_u_201 then\n                v_u_201:Disconnect()\n                v_u_201 = nil\n            end\n            local v234 = v_u_195(p212, v231)\n            if v234:IsValidPath() then\n                v_u_210(v234, p212, v232, v215)\n            else\n                v234:Cleanup()\n                if v_u_199 and v_u_199:IsActive() then\n                    v_u_199:Cancel()\n                end\n                if v_u_19 then\n                    v_u_25.PlayFailureAnimation()\n                end\n                v_u_25.DisplayFailureWaypoint(p212)\n            end\n        end\n        goto l21\n    end\n    local v235 = nil\n    local v236 = nil\n    local v237\n    if v_u_43 then\n        v237 = v_u_43\n    else\n        v_u_43 = {}\n        local v238 = v_u_43\n        assert(v238, \"\")\n        local v239 = v_u_43\n        local v240 = v_u_24\n        if v240 then\n            v240 = v_u_24.Character\n        end\n        table.insert(v239, v240)\n        v237 = v_u_43\n    end\n    if not v237 then\n        v237 = {}\n    end\n    while true do\n        local v241 = true\n        v_u_26.FilterDescendantsInstances = v237\n        local v242 = v_u_11:Raycast(v221.Origin, v221.Direction * 1000, v_u_26)\n        if v242 then\n            local v243 = v242.Instance\n            if not v243.CanCollide then\n                while true do\n                    v235 = v243:FindFirstChildOfClass(\"Humanoid\")\n                    local v244 = v243.Parent\n                    if v235 or (not v244 or v244 == v_u_11) then\n                        break\n                    end\n                    v243 = v244\n                end\n                if v235 then\n                    v236 = v243\n                else\n                    table.insert(v237, v244)\n                    v241 = false\n                    v236 = nil\n                end\n                goto l32\n            end\n        end\n        ::l32::\n        if v241 then\n            if p213 and (v235 and (v_u_10:GetCore(\"AvatarContextMenuEnabled\") and v_u_9:GetPlayerFromCharacter(v235.Parent))) then\n                if v_u_199 then\n                    v_u_199:Cancel()\n                    v_u_199 = nil\n                end\n                if v_u_200 then\n                    v_u_200:Disconnect()\n                    v_u_200 = nil\n                end\n                if v_u_201 then\n                    v_u_201:Disconnect()\n                    v_u_201 = nil\n                end\n                return\n            elseif v242 and v215 then\n                local v245 = v242.Position\n                if p212 then\n                    v236 = nil\n                else\n                    p212 = v245\n                end\n                if v_u_199 then\n                    v_u_199:Cancel()\n                    v_u_199 = nil\n                end\n                if v_u_200 then\n                    v_u_200:Disconnect()\n                    v_u_200 = nil\n                end\n                if v_u_201 then\n                    v_u_201:Disconnect()\n                    v_u_201 = nil\n                end\n                local v246 = v_u_195(p212, v242.Normal)\n                if v246:IsValidPath() then\n                    v_u_210(v246, p212, v236, v215)\n                else\n                    v246:Cleanup()\n                    if v_u_199 and v_u_199:IsActive() then\n                        v_u_199:Cancel()\n                    end\n                    if v_u_19 then\n                        v_u_25.PlayFailureAnimation()\n                    end\n                    v_u_25.DisplayFailureWaypoint(p212)\n                end\n            else\n                return\n            end\n        end\n    end\nend\nlocal v_u_247 = require(script.Parent:WaitForChild(\"Keyboard\"))\nlocal v_u_248 = setmetatable({}, v_u_247)\nv_u_248.__index = v_u_248\nfunction v_u_248.new(p249)\n    -- upvalues: (copy) v_u_247, (copy) v_u_248\n    local v250 = v_u_247.new(p249)\n    local v251 = v_u_248\n    local v252 = setmetatable(v250, v251)\n    v252.fingerTouches = {}\n    v252.numUnsunkTouches = 0\n    v252.mouse2DownTime = tick()\n    v252.mouse2DownPos = Vector2.new()\n    v252.mouse2UpTime = tick()\n    v252.keyboardMoveVector = Vector3.new(0, 0, 0)\n    v252.tapConn = nil\n    v252.inputBeganConn = nil\n    v252.inputChangedConn = nil\n    v252.inputEndedConn = nil\n    v252.humanoidDiedConn = nil\n    v252.characterChildAddedConn = nil\n    v252.onCharacterAddedConn = nil\n    v252.characterChildRemovedConn = nil\n    v252.renderSteppedConn = nil\n    v252.menuOpenedConnection = nil\n    v252.preferredInputChangedConnection = nil\n    v252.running = false\n    v252.wasdEnabled = false\n    return v252\nend\nfunction v_u_248.DisconnectEvents(p253)\n    -- upvalues: (copy) v_u_17\n    local v254 = p253.tapConn\n    if v254 then\n        v254:Disconnect()\n    end\n    local v255 = p253.inputBeganConn\n    if v255 then\n        v255:Disconnect()\n    end\n    local v256 = p253.inputChangedConn\n    if v256 then\n        v256:Disconnect()\n    end\n    local v257 = p253.inputEndedConn\n    if v257 then\n        v257:Disconnect()\n    end\n    local v258 = p253.humanoidDiedConn\n    if v258 then\n        v258:Disconnect()\n    end\n    local v259 = p253.characterChildAddedConn\n    if v259 then\n        v259:Disconnect()\n    end\n    local v260 = p253.onCharacterAddedConn\n    if v260 then\n        v260:Disconnect()\n    end\n    local v261 = p253.renderSteppedConn\n    if v261 then\n        v261:Disconnect()\n    end\n    local v262 = p253.characterChildRemovedConn\n    if v262 then\n        v262:Disconnect()\n    end\n    local v263 = p253.menuOpenedConnection\n    if v263 then\n        v263:Disconnect()\n    end\n    local v264 = v_u_17 and p253.preferredInputChangedConnection\n    if v264 then\n        v264:Disconnect()\n    end\nend\nfunction v_u_248.OnTouchBegan(p265, p266, p267)\n    if p265.fingerTouches[p266] == nil and not p267 then\n        p265.numUnsunkTouches = p265.numUnsunkTouches + 1\n    end\n    p265.fingerTouches[p266] = p267\nend\nfunction v_u_248.OnTouchChanged(p268, p269, p270)\n    if p268.fingerTouches[p269] == nil then\n        p268.fingerTouches[p269] = p270\n        if not p270 then\n            p268.numUnsunkTouches = p268.numUnsunkTouches + 1\n        end\n    end\nend\nfunction v_u_248.OnTouchEnded(p271, p272, _)\n    if p271.fingerTouches[p272] ~= nil and p271.fingerTouches[p272] == false then\n        p271.numUnsunkTouches = p271.numUnsunkTouches - 1\n    end\n    p271.fingerTouches[p272] = nil\nend\nfunction v_u_248.OnPreferredInputChanged(_)\n    -- upvalues: (copy) v_u_24, (copy) v_u_7\n    local v273 = v_u_24.Character\n    if v273 then\n        local v274 = v_u_7.PreferredInput == Enum.PreferredInput.Touch\n        for _, v275 in pairs(v273:GetChildren()) do\n            if v275:IsA(\"Tool\") then\n                v275.ManualActivationOnly = v274\n            end\n        end\n    end\nend\nfunction v_u_248.OnCharacterAdded(p_u_276, p277)\n    -- upvalues: (copy) v_u_7, (copy) v_u_23, (ref) v_u_199, (ref) v_u_200, (ref) v_u_201, (copy) v_u_25, (copy) v_u_13, (copy) v_u_17\n    p_u_276:DisconnectEvents()\n    p_u_276.inputBeganConn = v_u_7.InputBegan:Connect(function(p278, p279)\n        -- upvalues: (copy) p_u_276, (ref) v_u_23, (ref) v_u_199, (ref) v_u_200, (ref) v_u_201, (ref) v_u_25\n        if p278.UserInputType == Enum.UserInputType.Touch then\n            p_u_276:OnTouchBegan(p278, p279)\n        end\n        if p_u_276.wasdEnabled and (p279 == false and (p278.UserInputType == Enum.UserInputType.Keyboard and v_u_23[p278.KeyCode])) then\n            if v_u_199 then\n                v_u_199:Cancel()\n                v_u_199 = nil\n            end\n            if v_u_200 then\n                v_u_200:Disconnect()\n                v_u_200 = nil\n            end\n            if v_u_201 then\n                v_u_201:Disconnect()\n                v_u_201 = nil\n            end\n            v_u_25.CancelFailureAnimation()\n        end\n        if p278.UserInputType == Enum.UserInputType.MouseButton2 then\n            p_u_276.mouse2DownTime = tick()\n            p_u_276.mouse2DownPos = p278.Position\n        end\n    end)\n    p_u_276.inputChangedConn = v_u_7.InputChanged:Connect(function(p280, p281)\n        -- upvalues: (copy) p_u_276\n        if p280.UserInputType == Enum.UserInputType.Touch then\n            p_u_276:OnTouchChanged(p280, p281)\n        end\n    end)\n    p_u_276.inputEndedConn = v_u_7.InputEnded:Connect(function(p282, p283)\n        -- upvalues: (copy) p_u_276, (ref) v_u_199\n        if p282.UserInputType == Enum.UserInputType.Touch then\n            p_u_276:OnTouchEnded(p282, p283)\n        end\n        if p282.UserInputType == Enum.UserInputType.MouseButton2 then\n            p_u_276.mouse2UpTime = tick()\n            local v284 = p282.Position\n            local v285 = v_u_199 or p_u_276.keyboardMoveVector.Magnitude <= 0\n            if p_u_276.mouse2UpTime - p_u_276.mouse2DownTime < 0.25 and ((v284 - p_u_276.mouse2DownPos).magnitude < 5 and v285) then\n                OnTap({ v284 })\n            end\n        end\n    end)\n    p_u_276.tapConn = v_u_7.TouchTap:Connect(function(p286, p287)\n        if not p287 then\n            OnTap(p286, nil, true)\n        end\n    end)\n    p_u_276.menuOpenedConnection = v_u_13.MenuOpened:Connect(function()\n        -- upvalues: (ref) v_u_199, (ref) v_u_200, (ref) v_u_201\n        if v_u_199 then\n            v_u_199:Cancel()\n            v_u_199 = nil\n        end\n        if v_u_200 then\n            v_u_200:Disconnect()\n            v_u_200 = nil\n        end\n        if v_u_201 then\n            v_u_201:Disconnect()\n            v_u_201 = nil\n        end\n    end)\n    local function v_u_291(p288)\n        -- upvalues: (ref) v_u_17, (ref) v_u_7, (copy) p_u_276\n        local v289\n        if v_u_17 then\n            v289 = v_u_7.PreferredInput == Enum.PreferredInput.Touch\n        else\n            v289 = v_u_7.TouchEnabled\n        end\n        if v289 and p288:IsA(\"Tool\") then\n            p288.ManualActivationOnly = true\n        end\n        if p288:IsA(\"Humanoid\") then\n            local v290 = p_u_276.humanoidDiedConn\n            if v290 then\n                v290:Disconnect()\n            end\n            p_u_276.humanoidDiedConn = p288.Died:Connect(function() end)\n        end\n    end\n    p_u_276.characterChildAddedConn = p277.ChildAdded:Connect(function(p292)\n        -- upvalues: (copy) v_u_291\n        v_u_291(p292)\n    end)\n    p_u_276.characterChildRemovedConn = p277.ChildRemoved:Connect(function(p293)\n        -- upvalues: (ref) v_u_17, (ref) v_u_7\n        local v294\n        if v_u_17 then\n            v294 = v_u_7.PreferredInput == Enum.PreferredInput.Touch\n        else\n            v294 = v_u_7.TouchEnabled\n        end\n        if v294 and p293:IsA(\"Tool\") then\n            p293.ManualActivationOnly = false\n        end\n    end)\n    for _, v295 in pairs(p277:GetChildren()) do\n        v_u_291(v295)\n    end\n    if v_u_17 then\n        p_u_276.preferredInputChangedConnection = v_u_7:GetPropertyChangedSignal(\"PreferredInput\"):Connect(function()\n            -- upvalues: (copy) p_u_276\n            p_u_276:OnPreferredInputChanged()\n        end)\n    end\nend\nfunction v_u_248.Start(p296)\n    p296:Enable(true)\nend\nfunction v_u_248.Stop(p297)\n    p297:Enable(false)\nend\nfunction v_u_248.CleanupPath(_)\n    -- upvalues: (ref) v_u_199, (ref) v_u_200, (ref) v_u_201\n    if v_u_199 then\n        v_u_199:Cancel()\n        v_u_199 = nil\n    end\n    if v_u_200 then\n        v_u_200:Disconnect()\n        v_u_200 = nil\n    end\n    if v_u_201 then\n        v_u_201:Disconnect()\n        v_u_201 = nil\n    end\nend\nfunction v_u_248.Enable(p_u_298, p299, p300, p301)\n    -- upvalues: (copy) v_u_24, (ref) v_u_199, (ref) v_u_200, (ref) v_u_201, (copy) v_u_17, (copy) v_u_7, (copy) v_u_247\n    if p299 then\n        if not p_u_298.running then\n            if v_u_24.Character then\n                p_u_298:OnCharacterAdded(v_u_24.Character)\n            end\n            p_u_298.onCharacterAddedConn = v_u_24.CharacterAdded:Connect(function(p302)\n                -- upvalues: (copy) p_u_298\n                p_u_298:OnCharacterAdded(p302)\n            end)\n            p_u_298.running = true\n        end\n        p_u_298.touchJumpController = p301\n        if p_u_298.touchJumpController then\n            p_u_298.touchJumpController:Enable(p_u_298.jumpEnabled)\n        end\n    else\n        if p_u_298.running then\n            p_u_298:DisconnectEvents()\n            if v_u_199 then\n                v_u_199:Cancel()\n                v_u_199 = nil\n            end\n            if v_u_200 then\n                v_u_200:Disconnect()\n                v_u_200 = nil\n            end\n            if v_u_201 then\n                v_u_201:Disconnect()\n                v_u_201 = nil\n            end\n            local v303\n            if v_u_17 then\n                v303 = v_u_7.PreferredInput == Enum.PreferredInput.Touch\n            else\n                v303 = v_u_7.TouchEnabled\n            end\n            if v303 then\n                local v304 = v_u_24.Character\n                if v304 then\n                    for _, v305 in pairs(v304:GetChildren()) do\n                        if v305:IsA(\"Tool\") then\n                            v305.ManualActivationOnly = false\n                        end\n                    end\n                end\n            end\n            p_u_298.running = false\n        end\n        if p_u_298.touchJumpController and not p_u_298.jumpEnabled then\n            p_u_298.touchJumpController:Enable(true)\n        end\n        p_u_298.touchJumpController = nil\n    end\n    v_u_247.Enable(p_u_298, p299)\n    p_u_298.wasdEnabled = p299 and p300 and p300 or false\n    p_u_298.enabled = p299\nend\nfunction v_u_248.OnRenderStepped(p306, p307)\n    -- upvalues: (ref) v_u_199\n    p306.isJumping = false\n    if v_u_199 then\n        v_u_199:OnRenderStepped(p307)\n        if v_u_199 then\n            p306.moveVector = v_u_199.NextActionMoveDirection\n            p306.moveVectorIsCameraRelative = false\n            if v_u_199.NextActionJump then\n                p306.isJumping = true\n            end\n        else\n            p306.moveVector = p306.keyboardMoveVector\n            p306.moveVectorIsCameraRelative = true\n        end\n    else\n        p306.moveVector = p306.keyboardMoveVector\n        p306.moveVectorIsCameraRelative = true\n    end\n    if p306.jumpRequested then\n        p306.isJumping = true\n    end\nend\nfunction v_u_248.UpdateMovement(p308, p309)\n    if p309 == Enum.UserInputState.Cancel then\n        p308.keyboardMoveVector = Vector3.new(0, 0, 0)\n    elseif p308.wasdEnabled then\n        local v310 = p308.leftValue + p308.rightValue\n        local v311 = p308.forwardValue + p308.backwardValue\n        p308.keyboardMoveVector = Vector3.new(v310, 0, v311)\n    end\nend\nfunction v_u_248.UpdateJump(_) end\nfunction v_u_248.SetShowPath(_, p312)\n    -- upvalues: (ref) v_u_18\n    v_u_18 = p312\nend\nfunction v_u_248.GetShowPath(_)\n    -- upvalues: (ref) v_u_18\n    return v_u_18\nend\nfunction v_u_248.SetWaypointTexture(_, p313)\n    -- upvalues: (copy) v_u_25\n    v_u_25.SetWaypointTexture(p313)\nend\nfunction v_u_248.GetWaypointTexture(_)\n    -- upvalues: (copy) v_u_25\n    return v_u_25.GetWaypointTexture()\nend\nfunction v_u_248.SetWaypointRadius(_, p314)\n    -- upvalues: (copy) v_u_25\n    v_u_25.SetWaypointRadius(p314)\nend\nfunction v_u_248.GetWaypointRadius(_)\n    -- upvalues: (copy) v_u_25\n    return v_u_25.GetWaypointRadius()\nend\nfunction v_u_248.SetEndWaypointTexture(_, p315)\n    -- upvalues: (copy) v_u_25\n    v_u_25.SetEndWaypointTexture(p315)\nend\nfunction v_u_248.GetEndWaypointTexture(_)\n    -- upvalues: (copy) v_u_25\n    return v_u_25.GetEndWaypointTexture()\nend\nfunction v_u_248.SetWaypointsAlwaysOnTop(_, p316)\n    -- upvalues: (copy) v_u_25\n    v_u_25.SetWaypointsAlwaysOnTop(p316)\nend\nfunction v_u_248.GetWaypointsAlwaysOnTop(_)\n    -- upvalues: (copy) v_u_25\n    return v_u_25.GetWaypointsAlwaysOnTop()\nend\nfunction v_u_248.SetFailureAnimationEnabled(_, p317)\n    -- upvalues: (ref) v_u_19\n    v_u_19 = p317\nend\nfunction v_u_248.GetFailureAnimationEnabled(_)\n    -- upvalues: (ref) v_u_19\n    return v_u_19\nend\nfunction v_u_248.SetIgnoredPartsTag(_, p318)\n    -- upvalues: (copy) v_u_57\n    v_u_57(p318)\nend\nfunction v_u_248.GetIgnoredPartsTag(_)\n    -- upvalues: (ref) v_u_44\n    return v_u_44\nend\nfunction v_u_248.SetUseDirectPath(_, p319)\n    -- upvalues: (ref) v_u_20\n    v_u_20 = p319\nend\nfunction v_u_248.GetUseDirectPath(_)\n    -- upvalues: (ref) v_u_20\n    return v_u_20\nend\nfunction v_u_248.SetAgentSizeIncreaseFactor(_, p320)\n    -- upvalues: (ref) v_u_21\n    v_u_21 = p320 / 100 + 1\nend\nfunction v_u_248.GetAgentSizeIncreaseFactor(_)\n    -- upvalues: (ref) v_u_21\n    return (v_u_21 - 1) * 100\nend\nfunction v_u_248.SetUnreachableWaypointTimeout(_, p321)\n    -- upvalues: (ref) v_u_22\n    v_u_22 = p321\nend\nfunction v_u_248.GetUnreachableWaypointTimeout(_)\n    -- upvalues: (ref) v_u_22\n    return v_u_22\nend\nfunction v_u_248.SetUserJumpEnabled(p322, p323)\n    p322.jumpEnabled = p323\n    if p322.touchJumpController then\n        p322.touchJumpController:Enable(p323)\n    end\nend\nfunction v_u_248.GetUserJumpEnabled(p324)\n    return p324.jumpEnabled\nend\nfunction v_u_248.MoveTo(_, p325, p326, p327)\n    -- upvalues: (copy) v_u_24, (copy) v_u_195, (copy) v_u_210\n    local v328 = v_u_24.Character\n    if v328 == nil then\n        return false\n    end\n    local v329 = v_u_195(p325, Vector3.new(0, 1, 0), p327)\n    if not (v329 and v329:IsValidPath()) then\n        return false\n    end\n    v_u_210(v329, p325, nil, v328, p326)\n    return true\nend\nreturn v_u_248"},{"Path":"StarterPlayer.StarterPlayerScripts.PlayerModule.ControlModule.DynamicThumbstick","Name":"DynamicThumbstick","ClassName":"ModuleScript","Category":"StarterPlayerScripts","FileName":"DynamicThumbstick9.lua","Source":"-- Decompiled with Velocity Script Decompiler\nlocal v_u_1 = Enum.ContextActionPriority.High.Value\nlocal v_u_2 = {\n    0.10999999999999999,\n    0.30000000000000004,\n    0.4,\n    0.5,\n    0.6,\n    0.7,\n    0.75\n}\nlocal v_u_3 = #v_u_2\nlocal v_u_4 = TweenInfo.new(0.15, Enum.EasingStyle.Quad, Enum.EasingDirection.InOut)\nlocal v5 = game:GetService(\"Players\")\nlocal v_u_6 = game:GetService(\"GuiService\")\nlocal v_u_7 = game:GetService(\"UserInputService\")\nlocal v_u_8 = game:GetService(\"ContextActionService\")\nlocal v_u_9 = game:GetService(\"RunService\")\nlocal v_u_10 = game:GetService(\"TweenService\")\nlocal v11, v12 = pcall(function()\n    return UserSettings():IsUserFeatureEnabled(\"UserDynamicThumbstickMoveOverButtons2\")\nend)\nlocal v_u_13 = v11 and v12\nlocal v14, v15 = pcall(function()\n    return UserSettings():IsUserFeatureEnabled(\"UserDynamicThumbstickSafeAreaUpdate\")\nend)\nlocal v_u_16 = v14 and v15\nlocal v_u_17 = v5.LocalPlayer\nif not v_u_17 then\n    v5:GetPropertyChangedSignal(\"LocalPlayer\"):Wait()\n    v_u_17 = v5.LocalPlayer\nend\nlocal v_u_18 = require(script.Parent:WaitForChild(\"BaseCharacterController\"))\nlocal v_u_19 = setmetatable({}, v_u_18)\nv_u_19.__index = v_u_19\nfunction v_u_19.new()\n    -- upvalues: (copy) v_u_18, (copy) v_u_19\n    local v20 = v_u_18.new()\n    local v21 = v_u_19\n    local v22 = setmetatable(v20, v21)\n    v22.moveTouchObject = nil\n    v22.moveTouchLockedIn = false\n    v22.moveTouchFirstChanged = false\n    v22.moveTouchStartPosition = nil\n    v22.startImage = nil\n    v22.endImage = nil\n    v22.middleImages = {}\n    v22.startImageFadeTween = nil\n    v22.endImageFadeTween = nil\n    v22.middleImageFadeTweens = {}\n    v22.isFirstTouch = true\n    v22.thumbstickFrame = nil\n    v22.onRenderSteppedConn = nil\n    v22.fadeInAndOutBalance = 0.5\n    v22.fadeInAndOutHalfDuration = 0.3\n    v22.hasFadedBackgroundInPortrait = false\n    v22.hasFadedBackgroundInLandscape = false\n    v22.tweenInAlphaStart = nil\n    v22.tweenOutAlphaStart = nil\n    return v22\nend\nfunction v_u_19.GetIsJumping(p23)\n    local v24 = p23.isJumping\n    p23.isJumping = false\n    return v24\nend\nfunction v_u_19.Enable(p25, p26, p27)\n    -- upvalues: (ref) v_u_13, (copy) v_u_8\n    if p26 == nil then\n        return false\n    end\n    local v28 = p26 and true or false\n    if p25.enabled == v28 then\n        return true\n    end\n    if v28 then\n        if not p25.thumbstickFrame then\n            p25:Create(p27)\n        end\n        p25:BindContextActions()\n    else\n        if v_u_13 then\n            p25:UnbindContextActions()\n        else\n            v_u_8:UnbindAction(\"DynamicThumbstickAction\")\n        end\n        p25:OnInputEnded()\n    end\n    p25.enabled = v28\n    p25.thumbstickFrame.Visible = v28\n    return nil\nend\nfunction v_u_19.OnInputEnded(p29)\n    p29.moveTouchObject = nil\n    p29.moveVector = Vector3.new(0, 0, 0)\n    p29:FadeThumbstick(false)\nend\nfunction v_u_19.FadeThumbstick(p30, p31)\n    -- upvalues: (copy) v_u_10, (copy) v_u_4, (copy) v_u_2\n    if p31 or not p30.moveTouchObject then\n        if p30.isFirstTouch then\n            return\n        else\n            if p30.startImageFadeTween then\n                p30.startImageFadeTween:Cancel()\n            end\n            if p30.endImageFadeTween then\n                p30.endImageFadeTween:Cancel()\n            end\n            for v32 = 1, #p30.middleImages do\n                if p30.middleImageFadeTweens[v32] then\n                    p30.middleImageFadeTweens[v32]:Cancel()\n                end\n            end\n            if p31 then\n                p30.startImageFadeTween = v_u_10:Create(p30.startImage, v_u_4, {\n                    [\"ImageTransparency\"] = 0\n                })\n                p30.startImageFadeTween:Play()\n                p30.endImageFadeTween = v_u_10:Create(p30.endImage, v_u_4, {\n                    [\"ImageTransparency\"] = 0.2\n                })\n                p30.endImageFadeTween:Play()\n                for v33 = 1, #p30.middleImages do\n                    p30.middleImageFadeTweens[v33] = v_u_10:Create(p30.middleImages[v33], v_u_4, {\n                        [\"ImageTransparency\"] = v_u_2[v33]\n                    })\n                    p30.middleImageFadeTweens[v33]:Play()\n                end\n            else\n                p30.startImageFadeTween = v_u_10:Create(p30.startImage, v_u_4, {\n                    [\"ImageTransparency\"] = 1\n                })\n                p30.startImageFadeTween:Play()\n                p30.endImageFadeTween = v_u_10:Create(p30.endImage, v_u_4, {\n                    [\"ImageTransparency\"] = 1\n                })\n                p30.endImageFadeTween:Play()\n                for v34 = 1, #p30.middleImages do\n                    p30.middleImageFadeTweens[v34] = v_u_10:Create(p30.middleImages[v34], v_u_4, {\n                        [\"ImageTransparency\"] = 1\n                    })\n                    p30.middleImageFadeTweens[v34]:Play()\n                end\n            end\n        end\n    else\n        return\n    end\nend\nfunction v_u_19.FadeThumbstickFrame(p35, p36, p37)\n    p35.fadeInAndOutHalfDuration = p36 * 0.5\n    p35.fadeInAndOutBalance = p37\n    p35.tweenInAlphaStart = tick()\nend\nfunction v_u_19.InputInFrame(p38, p39)\n    local v40 = p38.thumbstickFrame.AbsolutePosition\n    local v41 = v40 + p38.thumbstickFrame.AbsoluteSize\n    local v42 = p39.Position\n    return v42.X >= v40.X and (v42.Y >= v40.Y and (v42.X <= v41.X and v42.Y <= v41.Y))\nend\nfunction v_u_19.DoFadeInBackground(p43)\n    -- upvalues: (ref) v_u_17\n    local v44 = v_u_17:FindFirstChildOfClass(\"PlayerGui\")\n    local v45 = false\n    if v44 then\n        if v44.CurrentScreenOrientation == Enum.ScreenOrientation.LandscapeLeft or v44.CurrentScreenOrientation == Enum.ScreenOrientation.LandscapeRight then\n            v45 = p43.hasFadedBackgroundInLandscape\n            p43.hasFadedBackgroundInLandscape = true\n        elseif v44.CurrentScreenOrientation == Enum.ScreenOrientation.Portrait then\n            v45 = p43.hasFadedBackgroundInPortrait\n            p43.hasFadedBackgroundInPortrait = true\n        end\n    end\n    if not v45 then\n        p43.fadeInAndOutHalfDuration = 0.3\n        p43.fadeInAndOutBalance = 0.5\n        p43.tweenInAlphaStart = tick()\n    end\nend\nfunction v_u_19.DoMove(p46, p47)\n    local v48\n    if p47.Magnitude < p46.radiusOfDeadZone then\n        v48 = Vector3.new(0, 0, 0)\n    else\n        local v49 = p47.Unit\n        local v50 = (p46.radiusOfMaxSpeed - p47.Magnitude) / p46.radiusOfMaxSpeed\n        local v51 = v49 * (1 - math.max(0, v50))\n        local v52 = v51.X\n        local v53 = v51.Y\n        v48 = Vector3.new(v52, 0, v53)\n    end\n    p46.moveVector = v48\nend\nfunction v_u_19.LayoutMiddleImages(p54, p55, p56)\n    -- upvalues: (copy) v_u_3\n    local v57 = p54.thumbstickSize / 2 + p54.middleSize\n    local v58 = p56 - p55\n    local v59 = v58.Magnitude - p54.thumbstickRingSize / 2 - p54.middleSize\n    local v60 = v58.Unit\n    local v61 = p54.middleSpacing * v_u_3\n    local v62 = p54.middleSpacing\n    if v61 < v59 then\n        v62 = v59 / v_u_3\n    end\n    for v63 = 1, v_u_3 do\n        local v64 = p54.middleImages[v63]\n        local v65 = v57 + v62 * (v63 - 2)\n        local v66 = v57 + v62 * (v63 - 1)\n        if v65 < v59 then\n            local v67 = p56 - v60 * v66\n            local v68 = 1 - (v66 - v59) / v62\n            local v69 = math.clamp(v68, 0, 1)\n            v64.Visible = true\n            v64.Position = UDim2.new(0, v67.X, 0, v67.Y)\n            v64.Size = UDim2.new(0, p54.middleSize * v69, 0, p54.middleSize * v69)\n        else\n            v64.Visible = false\n        end\n    end\nend\nfunction v_u_19.MoveStick(p70, p71)\n    local v72 = Vector2.new(p70.moveTouchStartPosition.X, p70.moveTouchStartPosition.Y) - p70.thumbstickFrame.AbsolutePosition\n    local v73 = Vector2.new(p71.X, p71.Y) - p70.thumbstickFrame.AbsolutePosition\n    p70.endImage.Position = UDim2.new(0, v73.X, 0, v73.Y)\n    p70:LayoutMiddleImages(v72, v73)\nend\nfunction v_u_19.BindContextActions(p_u_74)\n    -- upvalues: (copy) v_u_10, (ref) v_u_13, (copy) v_u_8, (copy) v_u_1, (copy) v_u_7\n    local function v_u_77(p75)\n        -- upvalues: (copy) p_u_74, (ref) v_u_10\n        if p_u_74.moveTouchObject then\n            return Enum.ContextActionResult.Pass\n        end\n        if not p_u_74:InputInFrame(p75) then\n            return Enum.ContextActionResult.Pass\n        end\n        if p_u_74.isFirstTouch then\n            p_u_74.isFirstTouch = false\n            local v76 = TweenInfo.new(0.5, Enum.EasingStyle.Quad, Enum.EasingDirection.Out, 0, false, 0)\n            v_u_10:Create(p_u_74.startImage, v76, {\n                [\"Size\"] = UDim2.new(0, 0, 0, 0)\n            }):Play()\n            v_u_10:Create(p_u_74.endImage, v76, {\n                [\"Size\"] = UDim2.new(0, p_u_74.thumbstickSize, 0, p_u_74.thumbstickSize),\n                [\"ImageColor3\"] = Color3.new(0, 0, 0)\n            }):Play()\n        end\n        p_u_74.moveTouchLockedIn = false\n        p_u_74.moveTouchObject = p75\n        p_u_74.moveTouchStartPosition = p75.Position\n        p_u_74.moveTouchFirstChanged = true\n        p_u_74:DoFadeInBackground()\n        return Enum.ContextActionResult.Pass\n    end\n    local function v_u_83(p78)\n        -- upvalues: (copy) p_u_74\n        if p78 ~= p_u_74.moveTouchObject then\n            return Enum.ContextActionResult.Pass\n        end\n        if p_u_74.moveTouchFirstChanged then\n            p_u_74.moveTouchFirstChanged = false\n            local v79 = Vector2.new(p78.Position.X - p_u_74.thumbstickFrame.AbsolutePosition.X, p78.Position.Y - p_u_74.thumbstickFrame.AbsolutePosition.Y)\n            p_u_74.startImage.Visible = true\n            p_u_74.startImage.Position = UDim2.new(0, v79.X, 0, v79.Y)\n            p_u_74.endImage.Visible = true\n            p_u_74.endImage.Position = p_u_74.startImage.Position\n            p_u_74:FadeThumbstick(true)\n            p_u_74:MoveStick(p78.Position)\n        end\n        p_u_74.moveTouchLockedIn = true\n        local v80 = Vector2.new(p78.Position.X - p_u_74.moveTouchStartPosition.X, p78.Position.Y - p_u_74.moveTouchStartPosition.Y)\n        local v81 = v80.X\n        if math.abs(v81) <= 0 then\n            local v82 = v80.Y\n            if math.abs(v82) <= 0 then\n                ::l7::\n                return Enum.ContextActionResult.Sink\n            end\n        end\n        p_u_74:DoMove(v80)\n        p_u_74:MoveStick(p78.Position)\n        goto l7\n    end\n    v_u_8:BindActionAtPriority(\"DynamicThumbstickAction\", function(_, p84, p85)\n        -- upvalues: (copy) v_u_77, (ref) v_u_13, (copy) p_u_74, (copy) v_u_83\n        if p84 == Enum.UserInputState.Begin then\n            return v_u_77(p85)\n        elseif p84 == Enum.UserInputState.Change then\n            if v_u_13 then\n                if p85 == p_u_74.moveTouchObject then\n                    return Enum.ContextActionResult.Sink\n                else\n                    return Enum.ContextActionResult.Pass\n                end\n            else\n                return v_u_83(p85)\n            end\n        else\n            if p84 == Enum.UserInputState.End then\n                if p85 == p_u_74.moveTouchObject then\n                    p_u_74:OnInputEnded()\n                    if p_u_74.moveTouchLockedIn then\n                        return Enum.ContextActionResult.Sink\n                    end\n                end\n                return Enum.ContextActionResult.Pass\n            end\n            if p84 == Enum.UserInputState.Cancel then\n                p_u_74:OnInputEnded()\n            end\n            return\n        end\n    end, false, v_u_1, Enum.UserInputType.Touch)\n    if v_u_13 then\n        p_u_74.TouchMovedCon = v_u_7.TouchMoved:Connect(function(p86, _)\n            -- upvalues: (copy) v_u_83\n            v_u_83(p86)\n        end)\n    end\nend\nfunction v_u_19.UnbindContextActions(p87)\n    -- upvalues: (copy) v_u_8\n    v_u_8:UnbindAction(\"DynamicThumbstickAction\")\n    if p87.TouchMovedCon then\n        p87.TouchMovedCon:Disconnect()\n    end\nend\nfunction v_u_19.Create(p_u_88, p_u_89)\n    -- upvalues: (ref) v_u_16, (copy) v_u_3, (copy) v_u_2, (copy) v_u_9, (copy) v_u_7, (copy) v_u_6, (ref) v_u_17\n    if p_u_88.thumbstickFrame then\n        p_u_88.thumbstickFrame:Destroy()\n        p_u_88.thumbstickFrame = nil\n        if p_u_88.onRenderSteppedConn then\n            p_u_88.onRenderSteppedConn:Disconnect()\n            p_u_88.onRenderSteppedConn = nil\n        end\n        if p_u_88.absoluteSizeChangedConn then\n            p_u_88.absoluteSizeChangedConn:Disconnect()\n            p_u_88.absoluteSizeChangedConn = nil\n        end\n    end\n    local v_u_90 = v_u_16 and 100 or 0\n    local function v_u_92(p91)\n        -- upvalues: (copy) p_u_88, (copy) v_u_90\n        if p91 then\n            p_u_88.thumbstickFrame.Size = UDim2.new(1, v_u_90, 0.4, v_u_90)\n            p_u_88.thumbstickFrame.Position = UDim2.new(0, -v_u_90, 0.6, 0)\n        else\n            p_u_88.thumbstickFrame.Size = UDim2.new(0.4, v_u_90, 0.6666666666666666, v_u_90)\n            p_u_88.thumbstickFrame.Position = UDim2.new(0, -v_u_90, 0.3333333333333333, 0)\n        end\n    end\n    p_u_88.thumbstickFrame = Instance.new(\"Frame\")\n    p_u_88.thumbstickFrame.BorderSizePixel = 0\n    p_u_88.thumbstickFrame.Name = \"DynamicThumbstickFrame\"\n    p_u_88.thumbstickFrame.Visible = false\n    p_u_88.thumbstickFrame.BackgroundTransparency = 1\n    p_u_88.thumbstickFrame.BackgroundColor3 = Color3.fromRGB(0, 0, 0)\n    p_u_88.thumbstickFrame.Active = false\n    v_u_92(false)\n    p_u_88.startImage = Instance.new(\"ImageLabel\")\n    p_u_88.startImage.Name = \"ThumbstickStart\"\n    p_u_88.startImage.Visible = true\n    p_u_88.startImage.BackgroundTransparency = 1\n    p_u_88.startImage.Image = \"rbxasset://textures/ui/Input/TouchControlsSheetV2.png\"\n    p_u_88.startImage.ImageRectOffset = Vector2.new(1, 1)\n    p_u_88.startImage.ImageRectSize = Vector2.new(144, 144)\n    p_u_88.startImage.ImageColor3 = Color3.new(0, 0, 0)\n    p_u_88.startImage.AnchorPoint = Vector2.new(0.5, 0.5)\n    p_u_88.startImage.ZIndex = 10\n    p_u_88.startImage.Parent = p_u_88.thumbstickFrame\n    p_u_88.endImage = Instance.new(\"ImageLabel\")\n    p_u_88.endImage.Name = \"ThumbstickEnd\"\n    p_u_88.endImage.Visible = true\n    p_u_88.endImage.BackgroundTransparency = 1\n    p_u_88.endImage.Image = \"rbxasset://textures/ui/Input/TouchControlsSheetV2.png\"\n    p_u_88.endImage.ImageRectOffset = Vector2.new(1, 1)\n    p_u_88.endImage.ImageRectSize = Vector2.new(144, 144)\n    p_u_88.endImage.AnchorPoint = Vector2.new(0.5, 0.5)\n    p_u_88.endImage.ZIndex = 10\n    p_u_88.endImage.Parent = p_u_88.thumbstickFrame\n    for v93 = 1, v_u_3 do\n        p_u_88.middleImages[v93] = Instance.new(\"ImageLabel\")\n        p_u_88.middleImages[v93].Name = \"ThumbstickMiddle\"\n        p_u_88.middleImages[v93].Visible = false\n        p_u_88.middleImages[v93].BackgroundTransparency = 1\n        p_u_88.middleImages[v93].Image = \"rbxasset://textures/ui/Input/TouchControlsSheetV2.png\"\n        p_u_88.middleImages[v93].ImageRectOffset = Vector2.new(1, 1)\n        p_u_88.middleImages[v93].ImageRectSize = Vector2.new(144, 144)\n        p_u_88.middleImages[v93].ImageTransparency = v_u_2[v93]\n        p_u_88.middleImages[v93].AnchorPoint = Vector2.new(0.5, 0.5)\n        p_u_88.middleImages[v93].ZIndex = 9\n        p_u_88.middleImages[v93].Parent = p_u_88.thumbstickFrame\n    end\n    local function v97()\n        -- upvalues: (copy) p_u_89, (copy) p_u_88, (copy) v_u_90\n        local v94 = p_u_89.AbsoluteSize\n        local v95 = v94.X\n        local v96 = v94.Y\n        if math.min(v95, v96) > 500 then\n            p_u_88.thumbstickSize = 90\n            p_u_88.thumbstickRingSize = 40\n            p_u_88.middleSize = 20\n            p_u_88.middleSpacing = 28\n            p_u_88.radiusOfDeadZone = 4\n            p_u_88.radiusOfMaxSpeed = 40\n        else\n            p_u_88.thumbstickSize = 45\n            p_u_88.thumbstickRingSize = 20\n            p_u_88.middleSize = 10\n            p_u_88.middleSpacing = 14\n            p_u_88.radiusOfDeadZone = 2\n            p_u_88.radiusOfMaxSpeed = 20\n        end\n        p_u_88.startImage.Position = UDim2.new(0, p_u_88.thumbstickRingSize * 3.3 + v_u_90, 1, -p_u_88.thumbstickRingSize * 2.8 - v_u_90)\n        p_u_88.startImage.Size = UDim2.new(0, p_u_88.thumbstickRingSize * 3.7, 0, p_u_88.thumbstickRingSize * 3.7)\n        p_u_88.endImage.Position = p_u_88.startImage.Position\n        p_u_88.endImage.Size = UDim2.new(0, p_u_88.thumbstickSize * 0.8, 0, p_u_88.thumbstickSize * 0.8)\n    end\n    v97()\n    p_u_88.absoluteSizeChangedConn = p_u_89:GetPropertyChangedSignal(\"AbsoluteSize\"):Connect(v97)\n    local v_u_98 = nil\n    local function v103()\n        -- upvalues: (ref) v_u_98, (copy) v_u_92\n        if v_u_98 then\n            v_u_98:Disconnect()\n            v_u_98 = nil\n        end\n        local v_u_99 = workspace.CurrentCamera\n        if v_u_99 then\n            local function v101()\n                -- upvalues: (copy) v_u_99, (ref) v_u_92\n                local v100 = v_u_99.ViewportSize\n                v_u_92(v100.X < v100.Y)\n            end\n            v_u_98 = v_u_99:GetPropertyChangedSignal(\"ViewportSize\"):Connect(v101)\n            local v102 = v_u_99.ViewportSize\n            v_u_92(v102.X < v102.Y)\n        end\n    end\n    workspace:GetPropertyChangedSignal(\"CurrentCamera\"):Connect(v103)\n    if workspace.CurrentCamera then\n        v103()\n    end\n    p_u_88.moveTouchStartPosition = nil\n    p_u_88.startImageFadeTween = nil\n    p_u_88.endImageFadeTween = nil\n    p_u_88.middleImageFadeTweens = {}\n    p_u_88.onRenderSteppedConn = v_u_9.RenderStepped:Connect(function()\n        -- upvalues: (copy) p_u_88\n        if p_u_88.tweenInAlphaStart == nil then\n            if p_u_88.tweenOutAlphaStart ~= nil then\n                local v104 = tick() - p_u_88.tweenOutAlphaStart\n                local v105 = p_u_88.fadeInAndOutHalfDuration * 2 - p_u_88.fadeInAndOutHalfDuration * 2 * p_u_88.fadeInAndOutBalance\n                local v106 = p_u_88.thumbstickFrame\n                local v107 = v104 / v105\n                v106.BackgroundTransparency = math.min(v107, 1) * 0.35 + 0.65\n                if v105 < v104 then\n                    p_u_88.tweenOutAlphaStart = nil\n                end\n            end\n        else\n            local v108 = tick() - p_u_88.tweenInAlphaStart\n            local v109 = p_u_88.fadeInAndOutHalfDuration * 2 * p_u_88.fadeInAndOutBalance\n            local v110 = p_u_88.thumbstickFrame\n            local v111 = v108 / v109\n            v110.BackgroundTransparency = 1 - math.min(v111, 1) * 0.35\n            if v109 < v108 then\n                p_u_88.tweenOutAlphaStart = tick()\n                p_u_88.tweenInAlphaStart = nil\n                return\n            end\n        end\n    end)\n    p_u_88.onTouchEndedConn = v_u_7.TouchEnded:connect(function(p112)\n        -- upvalues: (copy) p_u_88\n        if p112 == p_u_88.moveTouchObject then\n            p_u_88:OnInputEnded()\n        end\n    end)\n    v_u_6.MenuOpened:connect(function()\n        -- upvalues: (copy) p_u_88\n        if p_u_88.moveTouchObject then\n            p_u_88:OnInputEnded()\n        end\n    end)\n    local v_u_113 = v_u_17:FindFirstChildOfClass(\"PlayerGui\")\n    while not v_u_113 do\n        v_u_17.ChildAdded:wait()\n        v_u_113 = v_u_17:FindFirstChildOfClass(\"PlayerGui\")\n    end\n    local v_u_114 = nil\n    local v_u_115 = v_u_113.CurrentScreenOrientation == Enum.ScreenOrientation.LandscapeLeft and true or v_u_113.CurrentScreenOrientation == Enum.ScreenOrientation.LandscapeRight\n    local _ = v_u_113:GetPropertyChangedSignal(\"CurrentScreenOrientation\"):Connect(function()\n        -- upvalues: (copy) v_u_115, (ref) v_u_113, (ref) v_u_114, (copy) p_u_88\n        if v_u_115 and v_u_113.CurrentScreenOrientation == Enum.ScreenOrientation.Portrait or not v_u_115 and v_u_113.CurrentScreenOrientation ~= Enum.ScreenOrientation.Portrait then\n            v_u_114:disconnect()\n            p_u_88.fadeInAndOutHalfDuration = 2.5\n            p_u_88.fadeInAndOutBalance = 0.05\n            p_u_88.tweenInAlphaStart = tick()\n            if v_u_115 then\n                p_u_88.hasFadedBackgroundInPortrait = true\n                return\n            end\n            p_u_88.hasFadedBackgroundInLandscape = true\n        end\n    end)\n    p_u_88.thumbstickFrame.Parent = p_u_89\n    if game:IsLoaded() then\n        p_u_88.fadeInAndOutHalfDuration = 2.5\n        p_u_88.fadeInAndOutBalance = 0.05\n        p_u_88.tweenInAlphaStart = tick()\n    else\n        coroutine.wrap(function()\n            -- upvalues: (copy) p_u_88\n            game.Loaded:Wait()\n            p_u_88.fadeInAndOutHalfDuration = 2.5\n            p_u_88.fadeInAndOutBalance = 0.05\n            p_u_88.tweenInAlphaStart = tick()\n        end)()\n    end\nend\nreturn v_u_19"},{"Path":"StarterPlayer.StarterPlayerScripts.PlayerModule.ControlModule.Keyboard","Name":"Keyboard","ClassName":"ModuleScript","Category":"StarterPlayerScripts","FileName":"Keyboard10.lua","Source":"-- Decompiled with Velocity Script Decompiler\nlocal v_u_1 = game:GetService(\"UserInputService\")\nlocal v_u_2 = game:GetService(\"ContextActionService\")\nscript.Parent.Parent:WaitForChild(\"CommonUtils\")\nlocal v_u_3 = Vector3.new()\nlocal v_u_4 = require(script.Parent:WaitForChild(\"BaseCharacterController\"))\nlocal v_u_5 = setmetatable({}, v_u_4)\nv_u_5.__index = v_u_5\nfunction v_u_5.new(p6)\n    -- upvalues: (copy) v_u_4, (copy) v_u_5\n    local v7 = v_u_4.new()\n    local v8 = v_u_5\n    local v9 = setmetatable(v7, v8)\n    v9.CONTROL_ACTION_PRIORITY = p6\n    v9.forwardValue = 0\n    v9.backwardValue = 0\n    v9.leftValue = 0\n    v9.rightValue = 0\n    v9.jumpEnabled = true\n    return v9\nend\nfunction v_u_5.Enable(p10, p11)\n    -- upvalues: (copy) v_u_3\n    if p11 == p10.enabled then\n        return true\n    end\n    p10.forwardValue = 0\n    p10.backwardValue = 0\n    p10.leftValue = 0\n    p10.rightValue = 0\n    p10.moveVector = v_u_3\n    p10.jumpRequested = false\n    p10:UpdateJump()\n    if p11 then\n        p10:BindContextActions()\n        p10:ConnectFocusEventListeners()\n    else\n        p10._connectionUtil:disconnectAll()\n    end\n    p10.enabled = p11\n    return true\nend\nfunction v_u_5.UpdateMovement(p12, p13)\n    -- upvalues: (copy) v_u_3\n    if p13 == Enum.UserInputState.Cancel then\n        p12.moveVector = v_u_3\n    else\n        local v14 = p12.leftValue + p12.rightValue\n        local v15 = p12.forwardValue + p12.backwardValue\n        p12.moveVector = Vector3.new(v14, 0, v15)\n    end\nend\nfunction v_u_5.UpdateJump(p16)\n    p16.isJumping = p16.jumpRequested\nend\nfunction v_u_5.BindContextActions(p_u_17)\n    -- upvalues: (copy) v_u_2\n    v_u_2:BindActionAtPriority(\"moveForwardAction\", function(_, p18, _)\n        -- upvalues: (copy) p_u_17\n        p_u_17.forwardValue = p18 == Enum.UserInputState.Begin and -1 or 0\n        p_u_17:UpdateMovement(p18)\n        return Enum.ContextActionResult.Pass\n    end, false, p_u_17.CONTROL_ACTION_PRIORITY, Enum.PlayerActions.CharacterForward)\n    v_u_2:BindActionAtPriority(\"moveBackwardAction\", function(_, p19, _)\n        -- upvalues: (copy) p_u_17\n        p_u_17.backwardValue = p19 == Enum.UserInputState.Begin and 1 or 0\n        p_u_17:UpdateMovement(p19)\n        return Enum.ContextActionResult.Pass\n    end, false, p_u_17.CONTROL_ACTION_PRIORITY, Enum.PlayerActions.CharacterBackward)\n    v_u_2:BindActionAtPriority(\"moveLeftAction\", function(_, p20, _)\n        -- upvalues: (copy) p_u_17\n        p_u_17.leftValue = p20 == Enum.UserInputState.Begin and -1 or 0\n        p_u_17:UpdateMovement(p20)\n        return Enum.ContextActionResult.Pass\n    end, false, p_u_17.CONTROL_ACTION_PRIORITY, Enum.PlayerActions.CharacterLeft)\n    v_u_2:BindActionAtPriority(\"moveRightAction\", function(_, p21, _)\n        -- upvalues: (copy) p_u_17\n        p_u_17.rightValue = p21 == Enum.UserInputState.Begin and 1 or 0\n        p_u_17:UpdateMovement(p21)\n        return Enum.ContextActionResult.Pass\n    end, false, p_u_17.CONTROL_ACTION_PRIORITY, Enum.PlayerActions.CharacterRight)\n    v_u_2:BindActionAtPriority(\"jumpAction\", function(_, p22, _)\n        -- upvalues: (copy) p_u_17\n        local v23 = p_u_17\n        local v24 = p_u_17.jumpEnabled\n        if v24 then\n            v24 = p22 == Enum.UserInputState.Begin\n        end\n        v23.jumpRequested = v24\n        p_u_17:UpdateJump()\n        return Enum.ContextActionResult.Pass\n    end, false, p_u_17.CONTROL_ACTION_PRIORITY, Enum.PlayerActions.CharacterJump)\n    p_u_17._connectionUtil:trackBoundFunction(\"moveForwardAction\", function()\n        -- upvalues: (ref) v_u_2\n        v_u_2:UnbindAction(\"moveForwardAction\")\n    end)\n    p_u_17._connectionUtil:trackBoundFunction(\"moveBackwardAction\", function()\n        -- upvalues: (ref) v_u_2\n        v_u_2:UnbindAction(\"moveBackwardAction\")\n    end)\n    p_u_17._connectionUtil:trackBoundFunction(\"moveLeftAction\", function()\n        -- upvalues: (ref) v_u_2\n        v_u_2:UnbindAction(\"moveLeftAction\")\n    end)\n    p_u_17._connectionUtil:trackBoundFunction(\"moveRightAction\", function()\n        -- upvalues: (ref) v_u_2\n        v_u_2:UnbindAction(\"moveRightAction\")\n    end)\n    p_u_17._connectionUtil:trackBoundFunction(\"jumpAction\", function()\n        -- upvalues: (ref) v_u_2\n        v_u_2:UnbindAction(\"jumpAction\")\n    end)\nend\nfunction v_u_5.ConnectFocusEventListeners(p_u_25)\n    -- upvalues: (copy) v_u_3, (copy) v_u_1\n    local function v26()\n        -- upvalues: (copy) p_u_25, (ref) v_u_3\n        p_u_25.moveVector = v_u_3\n        p_u_25.forwardValue = 0\n        p_u_25.backwardValue = 0\n        p_u_25.leftValue = 0\n        p_u_25.rightValue = 0\n        p_u_25.jumpRequested = false\n        p_u_25:UpdateJump()\n    end\n    p_u_25._connectionUtil:trackConnection(\"textBoxFocusReleased\", v_u_1.TextBoxFocusReleased:Connect(v26))\n    p_u_25._connectionUtil:trackConnection(\"textBoxFocused\", v_u_1.TextBoxFocused:Connect(function(_)\n        -- upvalues: (copy) p_u_25\n        p_u_25.jumpRequested = false\n        p_u_25:UpdateJump()\n    end))\n    p_u_25._connectionUtil:trackConnection(\"windowFocusReleased\", v_u_1.WindowFocused:Connect(v26))\nend\nreturn v_u_5"},{"Path":"StarterPlayer.StarterPlayerScripts.PlayerModule.ControlModule.BaseCharacterController","Name":"BaseCharacterController","ClassName":"ModuleScript","Category":"StarterPlayerScripts","FileName":"BaseCharacterController11.lua","Source":"-- Decompiled with Velocity Script Decompiler\nlocal v1 = script.Parent.Parent:WaitForChild(\"CommonUtils\")\nlocal v_u_2 = require(v1:WaitForChild(\"ConnectionUtil\"))\nlocal v_u_3 = Vector3.new()\nlocal v_u_4 = {}\nv_u_4.__index = v_u_4\nfunction v_u_4.new()\n    -- upvalues: (copy) v_u_4, (copy) v_u_3, (copy) v_u_2\n    local v5 = v_u_4\n    local v6 = setmetatable({}, v5)\n    v6.enabled = false\n    v6.moveVector = v_u_3\n    v6.moveVectorIsCameraRelative = true\n    v6.isJumping = false\n    v6._connectionUtil = v_u_2.new()\n    return v6\nend\nfunction v_u_4.GetMoveVector(p7)\n    return p7.moveVector\nend\nfunction v_u_4.IsMoveVectorCameraRelative(p8)\n    return p8.moveVectorIsCameraRelative\nend\nfunction v_u_4.GetIsJumping(p9)\n    return p9.isJumping\nend\nfunction v_u_4.Enable(_, _)\n    error(\"BaseCharacterController:Enable must be overridden in derived classes and should not be called.\")\n    return false\nend\nreturn v_u_4"},{"Path":"StarterPlayer.StarterPlayerScripts.PlayerModule.ControlModule.TouchThumbstick","Name":"TouchThumbstick","ClassName":"ModuleScript","Category":"StarterPlayerScripts","FileName":"TouchThumbstick12.lua","Source":"-- Decompiled with Velocity Script Decompiler\ngame:GetService(\"Players\")\nlocal v_u_1 = game:GetService(\"GuiService\")\nlocal v_u_2 = game:GetService(\"UserInputService\")\nUserSettings():GetService(\"UserGameSettings\")\nlocal v_u_3 = require(script.Parent:WaitForChild(\"BaseCharacterController\"))\nlocal v_u_4 = setmetatable({}, v_u_3)\nv_u_4.__index = v_u_4\nfunction v_u_4.new()\n    -- upvalues: (copy) v_u_3, (copy) v_u_4\n    local v5 = v_u_3.new()\n    local v6 = v_u_4\n    local v7 = setmetatable(v5, v6)\n    v7.isFollowStick = false\n    v7.thumbstickFrame = nil\n    v7.moveTouchObject = nil\n    v7.onTouchMovedConn = nil\n    v7.onTouchEndedConn = nil\n    v7.screenPos = nil\n    v7.stickImage = nil\n    v7.thumbstickSize = nil\n    return v7\nend\nfunction v_u_4.Enable(p8, p9, p10)\n    if p9 == nil then\n        return false\n    end\n    local v11 = p9 and true or false\n    if p8.enabled == v11 then\n        return true\n    end\n    p8.moveVector = Vector3.new(0, 0, 0)\n    p8.isJumping = false\n    if v11 then\n        if not p8.thumbstickFrame then\n            p8:Create(p10)\n        end\n        p8.thumbstickFrame.Visible = true\n    else\n        p8.thumbstickFrame.Visible = false\n        p8:OnInputEnded()\n    end\n    p8.enabled = v11\nend\nfunction v_u_4.OnInputEnded(p12)\n    p12.thumbstickFrame.Position = p12.screenPos\n    p12.stickImage.Position = UDim2.new(0, p12.thumbstickFrame.Size.X.Offset / 2 - p12.thumbstickSize / 4, 0, p12.thumbstickFrame.Size.Y.Offset / 2 - p12.thumbstickSize / 4)\n    p12.moveVector = Vector3.new(0, 0, 0)\n    p12.isJumping = false\n    p12.thumbstickFrame.Position = p12.screenPos\n    p12.moveTouchObject = nil\nend\nfunction v_u_4.Create(p_u_13, p_u_14)\n    -- upvalues: (copy) v_u_2, (copy) v_u_1\n    if p_u_13.thumbstickFrame then\n        p_u_13.thumbstickFrame:Destroy()\n        p_u_13.thumbstickFrame = nil\n        if p_u_13.onTouchMovedConn then\n            p_u_13.onTouchMovedConn:Disconnect()\n            p_u_13.onTouchMovedConn = nil\n        end\n        if p_u_13.onTouchEndedConn then\n            p_u_13.onTouchEndedConn:Disconnect()\n            p_u_13.onTouchEndedConn = nil\n        end\n        if p_u_13.absoluteSizeChangedConn then\n            p_u_13.absoluteSizeChangedConn:Disconnect()\n            p_u_13.absoluteSizeChangedConn = nil\n        end\n    end\n    p_u_13.thumbstickFrame = Instance.new(\"Frame\")\n    p_u_13.thumbstickFrame.Name = \"ThumbstickFrame\"\n    p_u_13.thumbstickFrame.Active = true\n    p_u_13.thumbstickFrame.Visible = false\n    p_u_13.thumbstickFrame.BackgroundTransparency = 1\n    local v_u_15 = Instance.new(\"ImageLabel\")\n    v_u_15.Name = \"OuterImage\"\n    v_u_15.Image = \"rbxasset://textures/ui/TouchControlsSheet.png\"\n    v_u_15.ImageRectOffset = Vector2.new()\n    v_u_15.ImageRectSize = Vector2.new(220, 220)\n    v_u_15.BackgroundTransparency = 1\n    v_u_15.Position = UDim2.new(0, 0, 0, 0)\n    p_u_13.stickImage = Instance.new(\"ImageLabel\")\n    p_u_13.stickImage.Name = \"StickImage\"\n    p_u_13.stickImage.Image = \"rbxasset://textures/ui/TouchControlsSheet.png\"\n    p_u_13.stickImage.ImageRectOffset = Vector2.new(220, 0)\n    p_u_13.stickImage.ImageRectSize = Vector2.new(111, 111)\n    p_u_13.stickImage.BackgroundTransparency = 1\n    p_u_13.stickImage.ZIndex = 2\n    local function v19()\n        -- upvalues: (copy) p_u_14, (copy) p_u_13, (copy) v_u_15\n        local v16 = p_u_14.AbsoluteSize.X\n        local v17 = p_u_14.AbsoluteSize.Y\n        local v18 = math.min(v16, v17) <= 500\n        p_u_13.thumbstickSize = v18 and 70 or 120\n        p_u_13.screenPos = v18 and UDim2.new(0, p_u_13.thumbstickSize / 2 - 10, 1, -p_u_13.thumbstickSize - 20) or UDim2.new(0, p_u_13.thumbstickSize / 2, 1, -p_u_13.thumbstickSize * 1.75)\n        p_u_13.thumbstickFrame.Size = UDim2.new(0, p_u_13.thumbstickSize, 0, p_u_13.thumbstickSize)\n        p_u_13.thumbstickFrame.Position = p_u_13.screenPos\n        v_u_15.Size = UDim2.new(0, p_u_13.thumbstickSize, 0, p_u_13.thumbstickSize)\n        p_u_13.stickImage.Size = UDim2.new(0, p_u_13.thumbstickSize / 2, 0, p_u_13.thumbstickSize / 2)\n        p_u_13.stickImage.Position = UDim2.new(0, p_u_13.thumbstickSize / 2 - p_u_13.thumbstickSize / 4, 0, p_u_13.thumbstickSize / 2 - p_u_13.thumbstickSize / 4)\n    end\n    v19()\n    p_u_13.absoluteSizeChangedConn = p_u_14:GetPropertyChangedSignal(\"AbsoluteSize\"):Connect(v19)\n    v_u_15.Parent = p_u_13.thumbstickFrame\n    p_u_13.stickImage.Parent = p_u_13.thumbstickFrame\n    local v_u_20 = nil\n    local function v_u_27(p21)\n        -- upvalues: (ref) v_u_20, (copy) p_u_13\n        local v22 = Vector2.new(p21.X - v_u_20.X, p21.Y - v_u_20.Y)\n        local v23 = v22.magnitude\n        local v24 = p_u_13.thumbstickFrame.AbsoluteSize.X / 2\n        if p_u_13.isFollowStick and v24 < v23 then\n            local v25 = v22.unit * v24\n            p_u_13.thumbstickFrame.Position = UDim2.new(0, p21.X - p_u_13.thumbstickFrame.AbsoluteSize.X / 2 - v25.X, 0, p21.Y - p_u_13.thumbstickFrame.AbsoluteSize.Y / 2 - v25.Y)\n        else\n            local v26 = math.min(v23, v24)\n            v22 = v22.unit * v26\n        end\n        p_u_13.stickImage.Position = UDim2.new(0, v22.X + p_u_13.stickImage.AbsoluteSize.X / 2, 0, v22.Y + p_u_13.stickImage.AbsoluteSize.Y / 2)\n    end\n    p_u_13.thumbstickFrame.InputBegan:Connect(function(p28)\n        -- upvalues: (copy) p_u_13, (ref) v_u_20\n        if not p_u_13.moveTouchObject and (p28.UserInputType == Enum.UserInputType.Touch and p28.UserInputState == Enum.UserInputState.Begin) then\n            p_u_13.moveTouchObject = p28\n            p_u_13.thumbstickFrame.Position = UDim2.new(0, p28.Position.X - p_u_13.thumbstickFrame.Size.X.Offset / 2, 0, p28.Position.Y - p_u_13.thumbstickFrame.Size.Y.Offset / 2)\n            v_u_20 = Vector2.new(p_u_13.thumbstickFrame.AbsolutePosition.X + p_u_13.thumbstickFrame.AbsoluteSize.X / 2, p_u_13.thumbstickFrame.AbsolutePosition.Y + p_u_13.thumbstickFrame.AbsoluteSize.Y / 2)\n            Vector2.new(p28.Position.X - v_u_20.X, p28.Position.Y - v_u_20.Y)\n        end\n    end)\n    p_u_13.onTouchMovedConn = v_u_2.TouchMoved:Connect(function(p29, _)\n        -- upvalues: (copy) p_u_13, (ref) v_u_20, (copy) v_u_27\n        if p29 == p_u_13.moveTouchObject then\n            v_u_20 = Vector2.new(p_u_13.thumbstickFrame.AbsolutePosition.X + p_u_13.thumbstickFrame.AbsoluteSize.X / 2, p_u_13.thumbstickFrame.AbsolutePosition.Y + p_u_13.thumbstickFrame.AbsoluteSize.Y / 2)\n            local v30 = Vector2.new(p29.Position.X - v_u_20.X, p29.Position.Y - v_u_20.Y) / (p_u_13.thumbstickSize / 2)\n            local v31 = v30.magnitude\n            local v32\n            if v31 < 0.05 then\n                v32 = Vector3.new()\n            else\n                local v33 = v30.unit\n                local v34 = (v31 - 0.05) / 0.95\n                local v35 = v33 * math.min(1, v34)\n                local v36 = v35.X\n                local v37 = v35.Y\n                v32 = Vector3.new(v36, 0, v37)\n            end\n            p_u_13.moveVector = v32\n            v_u_27(p29.Position)\n        end\n    end)\n    p_u_13.onTouchEndedConn = v_u_2.TouchEnded:Connect(function(p38, _)\n        -- upvalues: (copy) p_u_13\n        if p38 == p_u_13.moveTouchObject then\n            p_u_13:OnInputEnded()\n        end\n    end)\n    v_u_1.MenuOpened:Connect(function()\n        -- upvalues: (copy) p_u_13\n        if p_u_13.moveTouchObject then\n            p_u_13:OnInputEnded()\n        end\n    end)\n    p_u_13.thumbstickFrame.Parent = p_u_14\nend\nreturn v_u_4"},{"Path":"StarterPlayer.StarterPlayerScripts.PlayerModule.ControlModule.Gamepad","Name":"Gamepad","ClassName":"ModuleScript","Category":"StarterPlayerScripts","FileName":"Gamepad13.lua","Source":"-- Decompiled with Velocity Script Decompiler\nlocal v_u_1 = game:GetService(\"UserInputService\")\nlocal v_u_2 = game:GetService(\"ContextActionService\")\nscript.Parent.Parent:WaitForChild(\"CommonUtils\")\nlocal v_u_3 = Enum.UserInputType.None\nlocal v_u_4 = require(script.Parent:WaitForChild(\"BaseCharacterController\"))\nlocal v_u_5 = setmetatable({}, v_u_4)\nv_u_5.__index = v_u_5\nfunction v_u_5.new(p6)\n    -- upvalues: (copy) v_u_4, (copy) v_u_5, (copy) v_u_3\n    local v7 = v_u_4.new()\n    local v8 = v_u_5\n    local v9 = setmetatable(v7, v8)\n    v9.CONTROL_ACTION_PRIORITY = p6\n    v9.forwardValue = 0\n    v9.backwardValue = 0\n    v9.leftValue = 0\n    v9.rightValue = 0\n    v9.activeGamepad = v_u_3\n    v9.gamepadConnectedConn = nil\n    v9.gamepadDisconnectedConn = nil\n    return v9\nend\nfunction v_u_5.Enable(p10, p11)\n    -- upvalues: (copy) v_u_3\n    if p11 == p10.enabled then\n        return true\n    end\n    p10.forwardValue = 0\n    p10.backwardValue = 0\n    p10.leftValue = 0\n    p10.rightValue = 0\n    p10.moveVector = Vector3.new(0, 0, 0)\n    p10.isJumping = false\n    if p11 then\n        p10.activeGamepad = p10:GetHighestPriorityGamepad()\n        if p10.activeGamepad == v_u_3 then\n            return false\n        end\n        p10:BindContextActions()\n        p10:ConnectGamepadConnectionListeners()\n    else\n        p10:UnbindContextActions()\n        p10:DisconnectGamepadConnectionListeners()\n        p10.activeGamepad = v_u_3\n    end\n    p10.enabled = p11\n    return true\nend\nfunction v_u_5.GetHighestPriorityGamepad(_)\n    -- upvalues: (copy) v_u_1, (copy) v_u_3\n    local v12 = v_u_1:GetConnectedGamepads()\n    local v13 = v_u_3\n    for _, v14 in pairs(v12) do\n        if v14.Value < v13.Value then\n            v13 = v14\n        end\n    end\n    return v13\nend\nfunction v_u_5.BindContextActions(p_u_15)\n    -- upvalues: (copy) v_u_3, (copy) v_u_2\n    if p_u_15.activeGamepad == v_u_3 then\n        return false\n    end\n    v_u_2:BindActivate(p_u_15.activeGamepad, Enum.KeyCode.ButtonR2)\n    v_u_2:BindActionAtPriority(\"jumpAction\", function(_, p16, _)\n        -- upvalues: (copy) p_u_15\n        p_u_15.isJumping = p16 == Enum.UserInputState.Begin\n        return Enum.ContextActionResult.Sink\n    end, false, p_u_15.CONTROL_ACTION_PRIORITY, Enum.KeyCode.ButtonA)\n    v_u_2:BindActionAtPriority(\"moveThumbstick\", function(_, p17, p18)\n        -- upvalues: (copy) p_u_15\n        if p17 == Enum.UserInputState.Cancel then\n            p_u_15.moveVector = Vector3.new(0, 0, 0)\n            return Enum.ContextActionResult.Sink\n        end\n        if p_u_15.activeGamepad ~= p18.UserInputType then\n            return Enum.ContextActionResult.Pass\n        end\n        if p18.KeyCode == Enum.KeyCode.Thumbstick1 then\n            if p18.Position.magnitude > 0.2 then\n                local v19 = p_u_15\n                local v20 = p18.Position.X\n                local v21 = -p18.Position.Y\n                v19.moveVector = Vector3.new(v20, 0, v21)\n            else\n                p_u_15.moveVector = Vector3.new(0, 0, 0)\n            end\n            return Enum.ContextActionResult.Sink\n        end\n    end, false, p_u_15.CONTROL_ACTION_PRIORITY, Enum.KeyCode.Thumbstick1)\n    return true\nend\nfunction v_u_5.UnbindContextActions(p22)\n    -- upvalues: (copy) v_u_3, (copy) v_u_2\n    if p22.activeGamepad ~= v_u_3 then\n        v_u_2:UnbindActivate(p22.activeGamepad, Enum.KeyCode.ButtonR2)\n    end\n    v_u_2:UnbindAction(\"moveThumbstick\")\n    v_u_2:UnbindAction(\"jumpAction\")\nend\nfunction v_u_5.OnNewGamepadConnected(p23)\n    -- upvalues: (copy) v_u_3\n    local v24 = p23:GetHighestPriorityGamepad()\n    if v24 == p23.activeGamepad then\n        return\n    elseif v24 == v_u_3 then\n        warn(\"Gamepad:OnNewGamepadConnected found no connected gamepads\")\n        p23:UnbindContextActions()\n    else\n        if p23.activeGamepad ~= v_u_3 then\n            p23:UnbindContextActions()\n        end\n        p23.activeGamepad = v24\n        p23:BindContextActions()\n    end\nend\nfunction v_u_5.OnCurrentGamepadDisconnected(p25)\n    -- upvalues: (copy) v_u_3, (copy) v_u_2\n    if p25.activeGamepad ~= v_u_3 then\n        v_u_2:UnbindActivate(p25.activeGamepad, Enum.KeyCode.ButtonR2)\n    end\n    local v26 = p25:GetHighestPriorityGamepad()\n    if p25.activeGamepad == v_u_3 or v26 ~= p25.activeGamepad then\n        if v26 == v_u_3 then\n            p25:UnbindContextActions()\n            p25.activeGamepad = v_u_3\n        else\n            p25.activeGamepad = v26\n            v_u_2:BindActivate(p25.activeGamepad, Enum.KeyCode.ButtonR2)\n        end\n    else\n        warn(\"Gamepad:OnCurrentGamepadDisconnected found the supposedly disconnected gamepad in connectedGamepads.\")\n        p25:UnbindContextActions()\n        p25.activeGamepad = v_u_3\n        return\n    end\nend\nfunction v_u_5.ConnectGamepadConnectionListeners(p_u_27)\n    -- upvalues: (copy) v_u_1\n    p_u_27.gamepadConnectedConn = v_u_1.GamepadConnected:Connect(function(_)\n        -- upvalues: (copy) p_u_27\n        p_u_27:OnNewGamepadConnected()\n    end)\n    p_u_27.gamepadDisconnectedConn = v_u_1.GamepadDisconnected:Connect(function(p28)\n        -- upvalues: (copy) p_u_27\n        if p_u_27.activeGamepad == p28 then\n            p_u_27:OnCurrentGamepadDisconnected()\n        end\n    end)\nend\nfunction v_u_5.DisconnectGamepadConnectionListeners(p29)\n    if p29.gamepadConnectedConn then\n        p29.gamepadConnectedConn:Disconnect()\n        p29.gamepadConnectedConn = nil\n    end\n    if p29.gamepadDisconnectedConn then\n        p29.gamepadDisconnectedConn:Disconnect()\n        p29.gamepadDisconnectedConn = nil\n    end\nend\nreturn v_u_5"},{"Path":"StarterPlayer.StarterPlayerScripts.PlayerModule.ControlModule.ClickToMoveDisplay","Name":"ClickToMoveDisplay","ClassName":"ModuleScript","Category":"StarterPlayerScripts","FileName":"ClickToMoveDisplay14.lua","Source":"-- Decompiled with Velocity Script Decompiler\nlocal v1 = {}\nlocal v_u_2 = \"rbxasset://textures/ui/traildot.png\"\nlocal v_u_3 = \"rbxasset://textures/ui/waypoint.png\"\nlocal v_u_4 = false\nlocal v_u_5 = UDim2.new(0, 42, 0, 50)\nlocal v_u_6 = Vector2.new(0, 0.5)\nlocal v_u_7 = Vector2.new(0, 1)\nlocal v_u_8 = Vector2.new(0, 0.5)\nlocal v_u_9 = Vector2.new(0.1, 0.5)\nlocal v_u_10 = Vector2.new(-0.1, 0.5)\nlocal v_u_11 = Vector2.new(1.5, 1.5)\nlocal v_u_12 = RaycastParams.new()\nv_u_12.FilterType = Enum.RaycastFilterType.Exclude\nlocal v13 = game:GetService(\"Players\")\nlocal v_u_14 = game:GetService(\"TweenService\")\nlocal v_u_15 = game:GetService(\"RunService\")\nlocal v_u_16 = game:GetService(\"Workspace\")\nlocal v17 = script.Parent.Parent:WaitForChild(\"CommonUtils\")\nlocal v_u_18 = require(v17:WaitForChild(\"FlagUtil\")).getUserFlag(\"UserRaycastUpdateAPI\")\nlocal v_u_19 = v13.LocalPlayer\nlocal function v_u_31()\n    -- upvalues: (ref) v_u_11, (ref) v_u_4, (ref) v_u_2, (copy) v_u_5, (copy) v_u_6, (ref) v_u_3, (copy) v_u_8\n    local v20 = Instance.new(\"Part\")\n    v20.Size = Vector3.new(1, 1, 1)\n    v20.Anchored = true\n    v20.CanCollide = false\n    v20.Name = \"TrailDot\"\n    v20.Transparency = 1\n    local v21 = Instance.new(\"ImageHandleAdornment\")\n    v21.Name = \"TrailDotImage\"\n    v21.Size = v_u_11\n    v21.SizeRelativeOffset = Vector3.new(0, 0, -0.1)\n    v21.AlwaysOnTop = v_u_4\n    v21.Image = v_u_2\n    v21.Adornee = v20\n    v21.Parent = v20\n    local v22 = Instance.new(\"Part\")\n    v22.Size = Vector3.new(2, 2, 2)\n    v22.Anchored = true\n    v22.CanCollide = false\n    v22.Name = \"EndWaypoint\"\n    v22.Transparency = 1\n    local v23 = Instance.new(\"ImageHandleAdornment\")\n    v23.Name = \"TrailDotImage\"\n    v23.Size = v_u_11\n    v23.SizeRelativeOffset = Vector3.new(0, 0, -0.1)\n    v23.AlwaysOnTop = v_u_4\n    v23.Image = v_u_2\n    v23.Adornee = v22\n    v23.Parent = v22\n    local v24 = Instance.new(\"BillboardGui\")\n    v24.Name = \"EndWaypointBillboard\"\n    v24.Size = v_u_5\n    v24.LightInfluence = 0\n    v24.SizeOffset = v_u_6\n    v24.AlwaysOnTop = true\n    v24.Adornee = v22\n    v24.Parent = v22\n    local v25 = Instance.new(\"ImageLabel\")\n    v25.Image = v_u_3\n    v25.BackgroundTransparency = 1\n    v25.Size = UDim2.new(1, 0, 1, 0)\n    v25.Parent = v24\n    local v26 = Instance.new(\"Part\")\n    v26.Size = Vector3.new(2, 2, 2)\n    v26.Anchored = true\n    v26.CanCollide = false\n    v26.Name = \"FailureWaypoint\"\n    v26.Transparency = 1\n    local v27 = Instance.new(\"ImageHandleAdornment\")\n    v27.Name = \"TrailDotImage\"\n    v27.Size = v_u_11\n    v27.SizeRelativeOffset = Vector3.new(0, 0, -0.1)\n    v27.AlwaysOnTop = v_u_4\n    v27.Image = v_u_2\n    v27.Adornee = v26\n    v27.Parent = v26\n    local v28 = Instance.new(\"BillboardGui\")\n    v28.Name = \"FailureWaypointBillboard\"\n    v28.Size = v_u_5\n    v28.LightInfluence = 0\n    v28.SizeOffset = v_u_8\n    v28.AlwaysOnTop = true\n    v28.Adornee = v26\n    v28.Parent = v26\n    local v29 = Instance.new(\"Frame\")\n    v29.BackgroundTransparency = 1\n    v29.Size = UDim2.new(0, 0, 0, 0)\n    v29.Position = UDim2.new(0.5, 0, 1, 0)\n    v29.Parent = v28\n    local v30 = Instance.new(\"ImageLabel\")\n    v30.Image = v_u_3\n    v30.BackgroundTransparency = 1\n    v30.Position = UDim2.new(0, -v_u_5.X.Offset / 2, 0, -v_u_5.Y.Offset)\n    v30.Size = v_u_5\n    v30.Parent = v29\n    return v20, v22, v26\nend\nlocal v_u_32, v_u_33, v_u_34 = v_u_31()\nlocal function v_u_45(p35, p36)\n    -- upvalues: (copy) v_u_18, (copy) v_u_12, (copy) v_u_16, (copy) v_u_19\n    if v_u_18 then\n        v_u_12.FilterDescendantsInstances = { v_u_16.CurrentCamera, v_u_19.Character }\n        local v37 = v_u_16:Raycast(p36 + Vector3.new(0, 2.5, 0), Vector3.new(-0, -10, -0), v_u_12)\n        if v37 then\n            p35.CFrame = CFrame.lookAlong(v37.Position, v37.Normal)\n            local v38 = v_u_16.CurrentCamera\n            local v39 = v38:FindFirstChild(\"ClickToMoveDisplay\")\n            if not v39 then\n                v39 = Instance.new(\"Model\")\n                v39.Name = \"ClickToMoveDisplay\"\n                v39.Parent = v38\n            end\n            p35.Parent = v39\n            return\n        end\n    else\n        local v40, v41, v42 = v_u_16:FindPartOnRayWithIgnoreList(Ray.new(p36 + Vector3.new(0, 2.5, 0), Vector3.new(0, -10, 0)), { v_u_16.CurrentCamera, v_u_19.Character })\n        if v40 then\n            p35.CFrame = CFrame.new(v41, v41 + v42)\n            local v43 = v_u_16.CurrentCamera\n            local v44 = v43:FindFirstChild(\"ClickToMoveDisplay\")\n            if not v44 then\n                v44 = Instance.new(\"Model\")\n                v44.Name = \"ClickToMoveDisplay\"\n                v44.Parent = v43\n            end\n            p35.Parent = v44\n        end\n    end\nend\nlocal v_u_46 = {}\nv_u_46.__index = v_u_46\nfunction v_u_46.Destroy(p47)\n    p47.DisplayModel:Destroy()\nend\nfunction v_u_46.NewDisplayModel(_, p48)\n    -- upvalues: (ref) v_u_32, (copy) v_u_45\n    local v49 = v_u_32:Clone()\n    v_u_45(v49, p48)\n    return v49\nend\nfunction v_u_46.new(p50, p51)\n    -- upvalues: (copy) v_u_46\n    local v52 = v_u_46\n    local v53 = setmetatable({}, v52)\n    v53.DisplayModel = v53:NewDisplayModel(p50)\n    v53.ClosestWayPoint = p51\n    return v53\nend\nlocal v_u_54 = {}\nv_u_54.__index = v_u_54\nfunction v_u_54.Destroy(p55)\n    p55.Destroyed = true\n    p55.Tween:Cancel()\n    p55.DisplayModel:Destroy()\nend\nfunction v_u_54.NewDisplayModel(_, p56)\n    -- upvalues: (ref) v_u_33, (copy) v_u_45\n    local v57 = v_u_33:Clone()\n    v_u_45(v57, p56)\n    return v57\nend\nfunction v_u_54.CreateTween(p58)\n    -- upvalues: (copy) v_u_14, (copy) v_u_7\n    local v59 = TweenInfo.new(0.5, Enum.EasingStyle.Sine, Enum.EasingDirection.Out, -1, true)\n    local v60 = {\n        [\"SizeOffset\"] = v_u_7\n    }\n    local v61 = v_u_14:Create(p58.DisplayModel.EndWaypointBillboard, v59, v60)\n    v61:Play()\n    return v61\nend\nfunction v_u_54.TweenInFrom(p62, p63)\n    -- upvalues: (copy) v_u_14\n    local v64 = p63 - p62.DisplayModel.Position\n    local v65 = p62.DisplayModel.EndWaypointBillboard\n    local v66 = v64.Y\n    v65.StudsOffset = Vector3.new(0, v66, 0)\n    local v67 = TweenInfo.new(1, Enum.EasingStyle.Sine, Enum.EasingDirection.Out)\n    local v68 = v_u_14:Create(p62.DisplayModel.EndWaypointBillboard, v67, {\n        [\"StudsOffset\"] = Vector3.new(0, 0, 0)\n    })\n    v68:Play()\n    return v68\nend\nfunction v_u_54.new(p69, p70, p71)\n    -- upvalues: (copy) v_u_54\n    local v72 = v_u_54\n    local v_u_73 = setmetatable({}, v72)\n    v_u_73.DisplayModel = v_u_73:NewDisplayModel(p69)\n    v_u_73.Destroyed = false\n    if p71 and (p71 - p69).Magnitude > 5 then\n        v_u_73.Tween = v_u_73:TweenInFrom(p71)\n        coroutine.wrap(function()\n            -- upvalues: (copy) v_u_73\n            v_u_73.Tween.Completed:Wait()\n            if not v_u_73.Destroyed then\n                v_u_73.Tween = v_u_73:CreateTween()\n            end\n        end)()\n    else\n        v_u_73.Tween = v_u_73:CreateTween()\n    end\n    v_u_73.ClosestWayPoint = p70\n    return v_u_73\nend\nlocal v_u_74 = {}\nv_u_74.__index = v_u_74\nfunction v_u_74.Hide(p75)\n    p75.DisplayModel.Parent = nil\nend\nfunction v_u_74.Destroy(p76)\n    p76.DisplayModel:Destroy()\nend\nfunction v_u_74.NewDisplayModel(_, p77)\n    -- upvalues: (ref) v_u_34, (copy) v_u_45, (copy) v_u_18, (copy) v_u_12, (copy) v_u_16, (copy) v_u_19\n    local v78 = v_u_34:Clone()\n    v_u_45(v78, p77)\n    if v_u_18 then\n        v_u_12.FilterDescendantsInstances = { v_u_16.CurrentCamera, v_u_19.Character }\n        local v79 = v_u_16:Raycast(p77 + Vector3.new(0, 2.5, 0), Vector3.new(-0, -10, -0), v_u_12)\n        if v79 then\n            v78.CFrame = CFrame.lookAlong(v79.Position, v79.Normal)\n            local v80 = v_u_16.CurrentCamera\n            local v81 = v80:FindFirstChild(\"ClickToMoveDisplay\")\n            if not v81 then\n                v81 = Instance.new(\"Model\")\n                v81.Name = \"ClickToMoveDisplay\"\n                v81.Parent = v80\n            end\n            v78.Parent = v81\n            return v78\n        end\n    else\n        local v82, v83, v84 = v_u_16:FindPartOnRayWithIgnoreList(Ray.new(p77 + Vector3.new(0, 2.5, 0), Vector3.new(0, -10, 0)), { v_u_16.CurrentCamera, v_u_19.Character })\n        if v82 then\n            v78.CFrame = CFrame.new(v83, v83 + v84)\n            local v85 = v_u_16.CurrentCamera\n            local v86 = v85:FindFirstChild(\"ClickToMoveDisplay\")\n            if not v86 then\n                v86 = Instance.new(\"Model\")\n                v86.Name = \"ClickToMoveDisplay\"\n                v86.Parent = v85\n            end\n            v78.Parent = v86\n        end\n    end\n    return v78\nend\nfunction v_u_74.RunFailureTween(p87)\n    -- upvalues: (copy) v_u_14, (copy) v_u_9, (copy) v_u_10, (copy) v_u_8\n    wait(0.125)\n    local v88 = TweenInfo.new(0.0625, Enum.EasingStyle.Sine, Enum.EasingDirection.Out)\n    local v89 = {\n        [\"SizeOffset\"] = v_u_9\n    }\n    local v90 = v_u_14:Create(p87.DisplayModel.FailureWaypointBillboard, v88, v89)\n    v90:Play()\n    v_u_14:Create(p87.DisplayModel.FailureWaypointBillboard.Frame, v88, {\n        [\"Rotation\"] = 10\n    }):Play()\n    v90.Completed:wait()\n    local v91 = TweenInfo.new(0.125, Enum.EasingStyle.Sine, Enum.EasingDirection.Out, 3, true)\n    local v92 = {\n        [\"SizeOffset\"] = v_u_10\n    }\n    local v93 = v_u_14:Create(p87.DisplayModel.FailureWaypointBillboard, v91, v92)\n    v93:Play()\n    local v94 = TweenInfo.new(0.125, Enum.EasingStyle.Sine, Enum.EasingDirection.Out, 3, true)\n    v_u_14:Create(p87.DisplayModel.FailureWaypointBillboard.Frame.ImageLabel, v94, {\n        [\"ImageColor3\"] = Color3.new(0.75, 0.75, 0.75)\n    }):Play()\n    v_u_14:Create(p87.DisplayModel.FailureWaypointBillboard.Frame, v94, {\n        [\"Rotation\"] = -10\n    }):Play()\n    v93.Completed:wait()\n    local v95 = TweenInfo.new(0.0625, Enum.EasingStyle.Sine, Enum.EasingDirection.Out)\n    local v96 = {\n        [\"SizeOffset\"] = v_u_8\n    }\n    local v97 = v_u_14:Create(p87.DisplayModel.FailureWaypointBillboard, v95, v96)\n    v97:Play()\n    v_u_14:Create(p87.DisplayModel.FailureWaypointBillboard.Frame, v95, {\n        [\"Rotation\"] = 0\n    }):Play()\n    v97.Completed:wait()\n    wait(0.125)\nend\nfunction v_u_74.new(p98)\n    -- upvalues: (copy) v_u_74\n    local v99 = v_u_74\n    local v100 = setmetatable({}, v99)\n    v100.DisplayModel = v100:NewDisplayModel(p98)\n    return v100\nend\nlocal v_u_101 = Instance.new(\"Animation\")\nv_u_101.AnimationId = \"rbxassetid://2874840706\"\nlocal v_u_102 = nil\nlocal function v_u_114(p103, p104)\n    -- upvalues: (copy) v_u_46, (copy) v_u_54\n    local v105 = {}\n    local v106 = 1\n    for v107 = 1, #p103 - 1 do\n        local v108 = (p103[v107].Position - p103[#p103].Position).Magnitude < 3\n        local v109\n        if v107 % 2 == 0 then\n            v109 = not v108\n        else\n            v109 = false\n        end\n        if v109 then\n            v105[v106] = v_u_46.new(p103[v107].Position, v107)\n            v106 = v106 + 1\n        end\n    end\n    local v110 = v_u_54.new(p103[#p103].Position, #p103, p104)\n    table.insert(v105, v110)\n    local v111 = {}\n    local v112 = 1\n    for v113 = #v105, 1, -1 do\n        v111[v112] = v105[v113]\n        v112 = v112 + 1\n    end\n    return v111\nend\nlocal v_u_115 = 0\nfunction v1.CreatePathDisplay(p_u_116, p117)\n    -- upvalues: (ref) v_u_115, (copy) v_u_114, (copy) v_u_15, (copy) v_u_16, (ref) v_u_11\n    v_u_115 = v_u_115 + 1\n    local v_u_118 = v_u_114(p_u_116, p117)\n    local function v_u_122(p119)\n        -- upvalues: (copy) v_u_118\n        for v120 = #v_u_118, 1, -1 do\n            local v121 = v_u_118[v120]\n            if v121.ClosestWayPoint > p119 then\n                break\n            end\n            v121:Destroy()\n            v_u_118[v120] = nil\n        end\n    end\n    local v_u_123 = \"ClickToMoveResizeTrail\" .. v_u_115\n    local function v129()\n        -- upvalues: (copy) v_u_118, (ref) v_u_15, (copy) v_u_123, (ref) v_u_16, (ref) v_u_11\n        if #v_u_118 == 0 then\n            v_u_15:UnbindFromRenderStep(v_u_123)\n        else\n            local v124 = v_u_16.CurrentCamera.CFrame.p\n            for v125 = 1, #v_u_118 do\n                local v126 = v_u_118[v125].DisplayModel:FindFirstChild(\"TrailDotImage\")\n                if v126 then\n                    local v127 = v_u_11\n                    local v128 = (v_u_118[v125].DisplayModel.Position - v124).Magnitude - 10\n                    v126.Size = v127 * (math.clamp(v128, 0, 90) / 90 * 1.5 + 1)\n                end\n            end\n        end\n    end\n    v_u_15:BindToRenderStep(v_u_123, Enum.RenderPriority.Camera.Value - 1, v129)\n    return function()\n        -- upvalues: (copy) v_u_122, (copy) p_u_116\n        v_u_122(#p_u_116)\n    end, v_u_122\nend\nlocal v_u_130 = nil\nfunction v1.DisplayFailureWaypoint(p131)\n    -- upvalues: (ref) v_u_130, (copy) v_u_74\n    if v_u_130 then\n        v_u_130:Hide()\n    end\n    local v_u_132 = v_u_74.new(p131)\n    v_u_130 = v_u_132\n    coroutine.wrap(function()\n        -- upvalues: (ref) v_u_132\n        v_u_132:RunFailureTween()\n        v_u_132:Destroy()\n        v_u_132 = nil\n    end)()\nend\nfunction v1.CreateEndWaypoint(p133)\n    -- upvalues: (copy) v_u_54\n    return v_u_54.new(p133)\nend\nfunction v1.PlayFailureAnimation()\n    -- upvalues: (copy) v_u_19, (ref) v_u_102, (copy) v_u_101\n    local v134 = v_u_19.Character\n    local v135\n    if v134 then\n        v135 = v134:FindFirstChildOfClass(\"Humanoid\")\n    else\n        v135 = nil\n    end\n    if v135 then\n        local v136\n        if v135 == nil then\n            v136 = v_u_102\n        else\n            v_u_102 = v135:LoadAnimation(v_u_101)\n            local v137 = v_u_102\n            assert(v137, \"\")\n            v_u_102.Priority = Enum.AnimationPriority.Action\n            v_u_102.Looped = false\n            v136 = v_u_102\n        end\n        v136:Play()\n    end\nend\nfunction v1.CancelFailureAnimation()\n    -- upvalues: (ref) v_u_102\n    if v_u_102 ~= nil and v_u_102.IsPlaying then\n        v_u_102:Stop()\n    end\nend\nfunction v1.SetWaypointTexture(p138)\n    -- upvalues: (ref) v_u_2, (ref) v_u_32, (ref) v_u_33, (ref) v_u_34, (copy) v_u_31\n    v_u_2 = p138\n    local v139, v140, v141 = v_u_31()\n    v_u_32 = v139\n    v_u_33 = v140\n    v_u_34 = v141\nend\nfunction v1.GetWaypointTexture()\n    -- upvalues: (ref) v_u_2\n    return v_u_2\nend\nfunction v1.SetWaypointRadius(p142)\n    -- upvalues: (ref) v_u_11, (ref) v_u_32, (ref) v_u_33, (ref) v_u_34, (copy) v_u_31\n    v_u_11 = Vector2.new(p142, p142)\n    local v143, v144, v145 = v_u_31()\n    v_u_32 = v143\n    v_u_33 = v144\n    v_u_34 = v145\nend\nfunction v1.GetWaypointRadius()\n    -- upvalues: (ref) v_u_11\n    return v_u_11.X\nend\nfunction v1.SetEndWaypointTexture(p146)\n    -- upvalues: (ref) v_u_3, (ref) v_u_32, (ref) v_u_33, (ref) v_u_34, (copy) v_u_31\n    v_u_3 = p146\n    local v147, v148, v149 = v_u_31()\n    v_u_32 = v147\n    v_u_33 = v148\n    v_u_34 = v149\nend\nfunction v1.GetEndWaypointTexture()\n    -- upvalues: (ref) v_u_3\n    return v_u_3\nend\nfunction v1.SetWaypointsAlwaysOnTop(p150)\n    -- upvalues: (ref) v_u_4, (ref) v_u_32, (ref) v_u_33, (ref) v_u_34, (copy) v_u_31\n    v_u_4 = p150\n    local v151, v152, v153 = v_u_31()\n    v_u_32 = v151\n    v_u_33 = v152\n    v_u_34 = v153\nend\nfunction v1.GetWaypointsAlwaysOnTop()\n    -- upvalues: (ref) v_u_4\n    return v_u_4\nend\nreturn v1"},{"Path":"StarterPlayer.StarterPlayerScripts.PlayerModule.ControlModule.TouchJump","Name":"TouchJump","ClassName":"ModuleScript","Category":"StarterPlayerScripts","FileName":"TouchJump15.lua","Source":"-- Decompiled with Velocity Script Decompiler\ngame:GetService(\"Players\")\nlocal v_u_1 = game:GetService(\"GuiService\")\nlocal v2 = script.Parent.Parent:WaitForChild(\"CommonUtils\")\nlocal v_u_3 = require(v2:WaitForChild(\"ConnectionUtil\"))\nlocal v_u_4 = require(v2:WaitForChild(\"CharacterUtil\"))\nlocal v_u_5 = {\n    [\"HUMANOID_STATE_ENABLED_CHANGED\"] = \"HUMANOID_STATE_ENABLED_CHANGED\",\n    [\"HUMANOID_JUMP_POWER\"] = \"HUMANOID_JUMP_POWER\",\n    [\"HUMANOID_JUMP_HEIGHT\"] = \"HUMANOID_JUMP_HEIGHT\",\n    [\"HUMANOID\"] = \"HUMANOID\",\n    [\"JUMP_INPUT_ENDED\"] = \"JUMP_INPUT_ENDED\",\n    [\"MENU_OPENED\"] = \"MENU_OPENED\"\n}\nlocal v_u_6 = require(v2:WaitForChild(\"FlagUtil\")).getUserFlag(\"UserTouchJumpHeightDisable\")\nlocal v_u_7 = require(script.Parent:WaitForChild(\"BaseCharacterController\"))\nlocal v_u_8 = setmetatable({}, v_u_7)\nv_u_8.__index = v_u_8\nfunction v_u_8.new()\n    -- upvalues: (copy) v_u_7, (copy) v_u_8, (copy) v_u_3\n    local v9 = v_u_7.new()\n    local v10 = v_u_8\n    local v11 = setmetatable(v9, v10)\n    v11.parentUIFrame = nil\n    v11.jumpButton = nil\n    v11.externallyEnabled = false\n    v11.isJumping = false\n    v11._active = false\n    v11._connectionUtil = v_u_3.new()\n    return v11\nend\nfunction v_u_8._reset(p12)\n    p12.isJumping = false\n    p12.touchObject = nil\n    if p12.jumpButton then\n        p12.jumpButton.ImageRectOffset = Vector2.new(1, 146)\n    end\nend\nfunction v_u_8.EnableButton(p_u_13, p14)\n    -- upvalues: (copy) v_u_6, (copy) v_u_5, (copy) v_u_1\n    if p14 == p_u_13._active then\n        if not v_u_6 then\n            p_u_13:_reset()\n        end\n    else\n        if p14 then\n            if not p_u_13.jumpButton then\n                p_u_13:Create()\n            end\n            p_u_13.jumpButton.Visible = true\n            p_u_13._connectionUtil:trackConnection(v_u_5.JUMP_INPUT_ENDED, p_u_13.jumpButton.InputEnded:Connect(function(p15)\n                -- upvalues: (copy) p_u_13\n                if p15 == p_u_13.touchObject then\n                    p_u_13:_reset()\n                end\n            end))\n            p_u_13._connectionUtil:trackConnection(v_u_5.MENU_OPENED, v_u_1.MenuOpened:Connect(function()\n                -- upvalues: (copy) p_u_13\n                if p_u_13.touchObject then\n                    p_u_13:_reset()\n                end\n            end))\n        else\n            if p_u_13.jumpButton then\n                p_u_13.jumpButton.Visible = false\n            end\n            p_u_13._connectionUtil:disconnect(v_u_5.JUMP_INPUT_ENDED)\n            p_u_13._connectionUtil:disconnect(v_u_5.MENU_OPENED)\n        end\n        p_u_13:_reset()\n        p_u_13._active = p14\n    end\nend\nfunction v_u_8.UpdateEnabled(p16)\n    -- upvalues: (copy) v_u_4, (copy) v_u_6\n    local v17 = v_u_4.getChild(\"Humanoid\", \"Humanoid\")\n    if v_u_6 then\n        if v17 and p16.externallyEnabled and (v17.UseJumpPower and v17.JumpPower > 0 or not v17.UseJumpPower and v17.JumpHeight > 0) and v17:GetStateEnabled(Enum.HumanoidStateType.Jumping) then\n            p16:EnableButton(true)\n        else\n            p16:EnableButton(false)\n        end\n    elseif v17 and (p16.externallyEnabled and (v17.JumpPower > 0 and v17:GetStateEnabled(Enum.HumanoidStateType.Jumping))) then\n        p16:EnableButton(true)\n    else\n        p16:EnableButton(false)\n    end\nend\nfunction v_u_8._setupConfigurations(p_u_18)\n    -- upvalues: (copy) v_u_4, (copy) v_u_6, (copy) v_u_5\n    local function v_u_19()\n        -- upvalues: (copy) p_u_18\n        p_u_18:UpdateEnabled()\n    end\n    local v23 = v_u_4.onChild(\"Humanoid\", \"Humanoid\", function(p20)\n        -- upvalues: (copy) p_u_18, (ref) v_u_6, (ref) v_u_5, (copy) v_u_19\n        p_u_18:UpdateEnabled()\n        if v_u_6 then\n            p_u_18:_reset()\n        end\n        p_u_18._connectionUtil:trackConnection(v_u_5.HUMANOID_JUMP_POWER, p20:GetPropertyChangedSignal(\"JumpPower\"):Connect(v_u_19))\n        if v_u_6 then\n            p_u_18._connectionUtil:trackConnection(v_u_5.HUMANOID_JUMP_HEIGHT, p20:GetPropertyChangedSignal(\"JumpHeight\"):Connect(v_u_19))\n        end\n        p_u_18._connectionUtil:trackConnection(v_u_5.HUMANOID_STATE_ENABLED_CHANGED, p20.StateEnabledChanged:Connect(function(p21, p22)\n            -- upvalues: (ref) p_u_18\n            if p21 == Enum.HumanoidStateType.Jumping and p22 ~= p_u_18._active then\n                p_u_18:UpdateEnabled()\n            end\n        end))\n    end)\n    p_u_18._connectionUtil:trackConnection(v_u_5.HUMANOID, v23)\nend\nfunction v_u_8.Enable(p24, p25, p26)\n    if p26 then\n        p24.parentUIFrame = p26\n    end\n    if p24.externallyEnabled == p25 then\n        return\n    else\n        p24.externallyEnabled = p25\n        p24:UpdateEnabled()\n        if p25 then\n            p24:_setupConfigurations()\n        else\n            p24._connectionUtil:disconnectAll()\n        end\n    end\nend\nfunction v_u_8.Create(p_u_27)\n    if p_u_27.parentUIFrame then\n        if p_u_27.jumpButton then\n            p_u_27.jumpButton:Destroy()\n            p_u_27.jumpButton = nil\n        end\n        if p_u_27.absoluteSizeChangedConn then\n            p_u_27.absoluteSizeChangedConn:Disconnect()\n            p_u_27.absoluteSizeChangedConn = nil\n        end\n        p_u_27.jumpButton = Instance.new(\"ImageButton\")\n        p_u_27.jumpButton.Name = \"JumpButton\"\n        p_u_27.jumpButton.Visible = false\n        p_u_27.jumpButton.BackgroundTransparency = 1\n        p_u_27.jumpButton.Image = \"rbxasset://textures/ui/Input/TouchControlsSheetV2.png\"\n        p_u_27.jumpButton.ImageRectOffset = Vector2.new(1, 146)\n        p_u_27.jumpButton.ImageRectSize = Vector2.new(144, 144)\n        local function v32()\n            -- upvalues: (copy) p_u_27\n            local v28 = p_u_27.parentUIFrame.AbsoluteSize.x\n            local v29 = p_u_27.parentUIFrame.AbsoluteSize.y\n            local v30 = math.min(v28, v29) <= 500\n            local v31 = v30 and 70 or 120\n            p_u_27.jumpButton.Size = UDim2.new(0, v31, 0, v31)\n            p_u_27.jumpButton.Position = v30 and UDim2.new(1, -(v31 * 1.5 - 10), 1, -v31 - 20) or UDim2.new(1, -(v31 * 1.5 - 10), 1, -v31 * 1.75)\n        end\n        v32()\n        p_u_27.absoluteSizeChangedConn = p_u_27.parentUIFrame:GetPropertyChangedSignal(\"AbsoluteSize\"):Connect(v32)\n        p_u_27.touchObject = nil\n        p_u_27.jumpButton.InputBegan:connect(function(p33)\n            -- upvalues: (copy) p_u_27\n            if not p_u_27.touchObject and (p33.UserInputType == Enum.UserInputType.Touch and p33.UserInputState == Enum.UserInputState.Begin) then\n                p_u_27.touchObject = p33\n                p_u_27.jumpButton.ImageRectOffset = Vector2.new(146, 146)\n                p_u_27.isJumping = true\n            end\n        end)\n        p_u_27.jumpButton.Parent = p_u_27.parentUIFrame\n    end\nend\nreturn v_u_8"},{"Path":"StarterPlayer.StarterPlayerScripts.PlayerModule.CameraModule","Name":"CameraModule","ClassName":"ModuleScript","Category":"StarterPlayerScripts","FileName":"CameraModule16.lua","Source":"-- Decompiled with Velocity Script Decompiler\nlocal v_u_1 = {}\nv_u_1.__index = v_u_1\nlocal v_u_2 = {\n    \"CameraMinZoomDistance\",\n    \"CameraMaxZoomDistance\",\n    \"CameraMode\",\n    \"DevCameraOcclusionMode\",\n    \"DevComputerCameraMode\",\n    \"DevTouchCameraMode\",\n    \"DevComputerMovementMode\",\n    \"DevTouchMovementMode\",\n    \"DevEnableMouseLock\"\n}\nlocal v_u_3 = {\n    \"ComputerCameraMovementMode\",\n    \"ComputerMovementMode\",\n    \"ControlMode\",\n    \"GamepadCameraSensitivity\",\n    \"MouseSensitivity\",\n    \"RotationType\",\n    \"TouchCameraMovementMode\",\n    \"TouchMovementMode\"\n}\nlocal v_u_4 = game:GetService(\"Players\")\nlocal v_u_5 = game:GetService(\"RunService\")\nlocal v_u_6 = game:GetService(\"UserInputService\")\nlocal v_u_7 = game:GetService(\"VRService\")\nlocal v_u_8 = UserSettings():GetService(\"UserGameSettings\")\nlocal v9 = script.Parent:WaitForChild(\"CommonUtils\")\nlocal v_u_10 = require(v9:WaitForChild(\"ConnectionUtil\"))\nlocal v11 = require(v9:WaitForChild(\"FlagUtil\"))\nlocal v_u_12 = require(script:WaitForChild(\"CameraUtils\"))\nlocal v_u_13 = require(script:WaitForChild(\"CameraInput\"))\nlocal v_u_14 = require(script:WaitForChild(\"ClassicCamera\"))\nlocal v_u_15 = require(script:WaitForChild(\"OrbitalCamera\"))\nlocal v_u_16 = require(script:WaitForChild(\"LegacyCamera\"))\nlocal v_u_17 = require(script:WaitForChild(\"VehicleCamera\"))\nlocal v_u_18 = require(script:WaitForChild(\"VRCamera\"))\nlocal v_u_19 = require(script:WaitForChild(\"VRVehicleCamera\"))\nlocal v_u_20 = require(script:WaitForChild(\"Invisicam\"))\nlocal v_u_21 = require(script:WaitForChild(\"Poppercam\"))\nlocal v_u_22 = require(script:WaitForChild(\"TransparencyController\"))\nlocal v_u_23 = require(script:WaitForChild(\"MouseLockController\"))\nlocal v_u_24 = {}\nlocal v_u_25 = {}\nif not v_u_4.LocalPlayer then\n    return {}\nend\nlocal v26 = v_u_4.LocalPlayer\nassert(v26, \"Strict typing check\")\nlocal v27 = v_u_4.LocalPlayer:WaitForChild(\"PlayerScripts\")\nv27:RegisterTouchCameraMovementMode(Enum.TouchCameraMovementMode.Default)\nv27:RegisterTouchCameraMovementMode(Enum.TouchCameraMovementMode.Follow)\nv27:RegisterTouchCameraMovementMode(Enum.TouchCameraMovementMode.Classic)\nv27:RegisterComputerCameraMovementMode(Enum.ComputerCameraMovementMode.Default)\nv27:RegisterComputerCameraMovementMode(Enum.ComputerCameraMovementMode.Follow)\nv27:RegisterComputerCameraMovementMode(Enum.ComputerCameraMovementMode.Classic)\nv27:RegisterComputerCameraMovementMode(Enum.ComputerCameraMovementMode.CameraToggle)\nlocal v_u_28 = v11.getUserFlag(\"UserRespectLegacyCameraOptions\")\nlocal v_u_29 = v11.getUserFlag(\"UserPlayerConnectionMemoryLeak\")\nlocal v_u_30 = v11.getUserFlag(\"UserPreferredInputPlayerScripts2\")\nfunction v_u_1.new()\n    -- upvalues: (copy) v_u_22, (copy) v_u_29, (copy) v_u_10, (copy) v_u_1, (copy) v_u_4, (copy) v_u_6, (copy) v_u_30, (copy) v_u_23, (copy) v_u_28, (copy) v_u_5, (copy) v_u_2, (copy) v_u_3, (copy) v_u_8\n    local v31 = {\n        [\"activeTransparencyController\"] = v_u_22.new()\n    }\n    local v32\n    if v_u_29 then\n        v32 = v_u_10.new()\n    else\n        v32 = nil\n    end\n    v31.connectionUtil = v32\n    local v33 = v_u_1\n    local v_u_34 = setmetatable(v31, v33)\n    v_u_34.activeCameraController = nil\n    v_u_34.activeOcclusionModule = nil\n    v_u_34.activeMouseLockController = nil\n    v_u_34.currentComputerCameraMovementMode = nil\n    v_u_34.cameraSubjectChangedConn = nil\n    v_u_34.cameraTypeChangedConn = nil\n    for _, v35 in pairs(v_u_4:GetPlayers()) do\n        v_u_34:OnPlayerAdded(v35)\n    end\n    v_u_4.PlayerAdded:Connect(function(p36)\n        -- upvalues: (copy) v_u_34\n        v_u_34:OnPlayerAdded(p36)\n    end)\n    if v_u_29 then\n        v_u_4.PlayerRemoving:Connect(function(p37)\n            -- upvalues: (copy) v_u_34\n            v_u_34:OnPlayerRemoving(p37)\n        end)\n    end\n    v_u_34.activeTransparencyController:Enable(true)\n    if not v_u_6.TouchEnabled or v_u_30 then\n        v_u_34.activeMouseLockController = v_u_23.new()\n        local v38 = v_u_34.activeMouseLockController\n        assert(v38, \"Strict typing check\")\n        local v39 = v_u_34.activeMouseLockController:GetBindableToggleEvent()\n        if v39 then\n            v39:Connect(function()\n                -- upvalues: (copy) v_u_34\n                v_u_34:OnMouseLockToggled()\n            end)\n        end\n    end\n    if v_u_28 then\n        v_u_34:ActivateCameraController()\n    else\n        v_u_34:ActivateCameraController(v_u_34:GetCameraControlChoice())\n    end\n    v_u_34:ActivateOcclusionModule(v_u_4.LocalPlayer.DevCameraOcclusionMode)\n    v_u_34:OnCurrentCameraChanged()\n    v_u_5:BindToRenderStep(\"cameraRenderUpdate\", Enum.RenderPriority.Camera.Value, function(p40)\n        -- upvalues: (copy) v_u_34\n        v_u_34:Update(p40)\n    end)\n    for _, v_u_41 in pairs(v_u_2) do\n        v_u_4.LocalPlayer:GetPropertyChangedSignal(v_u_41):Connect(function()\n            -- upvalues: (copy) v_u_34, (copy) v_u_41\n            v_u_34:OnLocalPlayerCameraPropertyChanged(v_u_41)\n        end)\n    end\n    for _, v_u_42 in pairs(v_u_3) do\n        v_u_8:GetPropertyChangedSignal(v_u_42):Connect(function()\n            -- upvalues: (copy) v_u_34, (copy) v_u_42\n            v_u_34:OnUserGameSettingsPropertyChanged(v_u_42)\n        end)\n    end\n    game.Workspace:GetPropertyChangedSignal(\"CurrentCamera\"):Connect(function()\n        -- upvalues: (copy) v_u_34\n        v_u_34:OnCurrentCameraChanged()\n    end)\n    if v_u_30 then\n        v_u_6:GetPropertyChangedSignal(\"PreferredInput\"):Connect(function()\n            -- upvalues: (copy) v_u_34\n            v_u_34:OnPreferredInputChanged()\n        end)\n    end\n    return v_u_34\nend\nfunction v_u_1.GetCameraMovementModeFromSettings(_)\n    -- upvalues: (copy) v_u_4, (copy) v_u_12, (copy) v_u_30, (copy) v_u_6, (copy) v_u_8\n    if v_u_4.LocalPlayer.CameraMode == Enum.CameraMode.LockFirstPerson then\n        return v_u_12.ConvertCameraModeEnumToStandard(Enum.ComputerCameraMovementMode.Classic)\n    else\n        local v43\n        if v_u_30 then\n            v43 = v_u_6.PreferredInput == Enum.PreferredInput.Touch\n        else\n            v43 = v_u_6.TouchEnabled\n        end\n        local v44, v45\n        if v43 then\n            v44 = v_u_12.ConvertCameraModeEnumToStandard(v_u_4.LocalPlayer.DevTouchCameraMode)\n            v45 = v_u_12.ConvertCameraModeEnumToStandard(v_u_8.TouchCameraMovementMode)\n        else\n            v44 = v_u_12.ConvertCameraModeEnumToStandard(v_u_4.LocalPlayer.DevComputerCameraMode)\n            v45 = v_u_12.ConvertCameraModeEnumToStandard(v_u_8.ComputerCameraMovementMode)\n        end\n        if v44 == Enum.DevComputerCameraMovementMode.UserChoice then\n            return v45\n        else\n            return v44\n        end\n    end\nend\nfunction v_u_1.ActivateOcclusionModule(p46, p47)\n    -- upvalues: (copy) v_u_21, (copy) v_u_20, (copy) v_u_25, (copy) v_u_4\n    local v48\n    if p47 == Enum.DevCameraOcclusionMode.Zoom then\n        v48 = v_u_21\n    else\n        if p47 ~= Enum.DevCameraOcclusionMode.Invisicam then\n            warn(\"CameraScript ActivateOcclusionModule called with unsupported mode\")\n            return\n        end\n        v48 = v_u_20\n    end\n    p46.occlusionMode = p47\n    if p46.activeOcclusionModule and p46.activeOcclusionModule:GetOcclusionMode() == p47 then\n        if not p46.activeOcclusionModule:GetEnabled() then\n            p46.activeOcclusionModule:Enable(true)\n        end\n    else\n        local v49 = p46.activeOcclusionModule\n        p46.activeOcclusionModule = v_u_25[v48]\n        if not p46.activeOcclusionModule then\n            p46.activeOcclusionModule = v48.new()\n            if p46.activeOcclusionModule then\n                v_u_25[v48] = p46.activeOcclusionModule\n            end\n        end\n        if p46.activeOcclusionModule then\n            if p46.activeOcclusionModule:GetOcclusionMode() ~= p47 then\n                warn(\"CameraScript ActivateOcclusionModule mismatch: \", p46.activeOcclusionModule:GetOcclusionMode(), \"~=\", p47)\n            end\n            if v49 then\n                if v49 == p46.activeOcclusionModule then\n                    warn(\"CameraScript ActivateOcclusionModule failure to detect already running correct module\")\n                else\n                    v49:Enable(false)\n                end\n            end\n            if p47 == Enum.DevCameraOcclusionMode.Invisicam then\n                if v_u_4.LocalPlayer.Character then\n                    p46.activeOcclusionModule:CharacterAdded(v_u_4.LocalPlayer.Character, v_u_4.LocalPlayer)\n                end\n            else\n                for _, v50 in pairs(v_u_4:GetPlayers()) do\n                    if v50 and v50.Character then\n                        p46.activeOcclusionModule:CharacterAdded(v50.Character, v50)\n                    end\n                end\n                p46.activeOcclusionModule:OnCameraSubjectChanged(game.Workspace.CurrentCamera.CameraSubject)\n            end\n            p46.activeOcclusionModule:Enable(true)\n        end\n    end\nend\nfunction v_u_1.ShouldUseVehicleCamera(p51)\n    local v52 = workspace.CurrentCamera\n    if not v52 then\n        return false\n    end\n    local v53 = v52.CameraType\n    local v54 = v52.CameraSubject\n    local v55 = v53 == Enum.CameraType.Custom and true or v53 == Enum.CameraType.Follow\n    local v56 = v54 and v54:IsA(\"VehicleSeat\") or false\n    local v57 = p51.occlusionMode ~= Enum.DevCameraOcclusionMode.Invisicam\n    if v56 then\n        if not v55 then\n            v57 = v55\n        end\n    else\n        v57 = v56\n    end\n    return v57\nend\nfunction v_u_1.ActivateCameraController(p58, p59, p60)\n    -- upvalues: (copy) v_u_28, (copy) v_u_16, (copy) v_u_7, (copy) v_u_18, (copy) v_u_14, (copy) v_u_15, (copy) v_u_19, (copy) v_u_17, (copy) v_u_24\n    if v_u_28 then\n        p60 = workspace.CurrentCamera.CameraType\n        p59 = p58:GetCameraMovementModeFromSettings()\n    end\n    local v61 = nil\n    if v_u_28 and true or p60 ~= nil then\n        if p60 == Enum.CameraType.Scriptable then\n            if p58.activeCameraController then\n                p58.activeCameraController:Enable(false)\n                p58.activeCameraController = nil\n            end\n            return\n        end\n        if p60 == Enum.CameraType.Custom then\n            p59 = p58:GetCameraMovementModeFromSettings()\n        elseif p60 == Enum.CameraType.Track then\n            p59 = Enum.ComputerCameraMovementMode.Classic\n        elseif p60 == Enum.CameraType.Follow then\n            p59 = Enum.ComputerCameraMovementMode.Follow\n        elseif p60 == Enum.CameraType.Orbital then\n            p59 = Enum.ComputerCameraMovementMode.Orbital\n        elseif p60 == Enum.CameraType.Attach or (p60 == Enum.CameraType.Watch or p60 == Enum.CameraType.Fixed) then\n            v61 = v_u_16\n        else\n            warn(\"CameraScript encountered an unhandled Camera.CameraType value: \", p60)\n        end\n    end\n    if not v61 then\n        if v_u_7.VREnabled then\n            v61 = v_u_18\n        elseif p59 == Enum.ComputerCameraMovementMode.Classic or (p59 == Enum.ComputerCameraMovementMode.Follow or (p59 == Enum.ComputerCameraMovementMode.Default or p59 == Enum.ComputerCameraMovementMode.CameraToggle)) then\n            v61 = v_u_14\n        else\n            if p59 ~= Enum.ComputerCameraMovementMode.Orbital then\n                warn(\"ActivateCameraController did not select a module.\")\n                return\n            end\n            v61 = v_u_15\n        end\n    end\n    if p58:ShouldUseVehicleCamera() then\n        if v_u_7.VREnabled then\n            v61 = v_u_19\n        else\n            v61 = v_u_17\n        end\n    end\n    local v62\n    if v_u_24[v61] then\n        v62 = v_u_24[v61]\n        if v62.Reset then\n            v62:Reset()\n        end\n    else\n        v62 = v61.new()\n        v_u_24[v61] = v62\n    end\n    if p58.activeCameraController then\n        if p58.activeCameraController == v62 then\n            if not p58.activeCameraController:GetEnabled() then\n                p58.activeCameraController:Enable(true)\n            end\n        else\n            p58.activeCameraController:Enable(false)\n            p58.activeCameraController = v62\n            p58.activeCameraController:Enable(true)\n        end\n    elseif v62 ~= nil then\n        p58.activeCameraController = v62\n        local v63 = p58.activeCameraController\n        assert(v63, \"Strict typing check\")\n        p58.activeCameraController:Enable(true)\n    end\n    if p58.activeCameraController then\n        if v_u_28 then\n            p58.activeCameraController:SetCameraMovementMode(p59)\n            p58.activeCameraController:SetCameraType(p60)\n            return\n        end\n        if p59 ~= nil then\n            p58.activeCameraController:SetCameraMovementMode(p59)\n            return\n        end\n        if p60 ~= nil then\n            p58.activeCameraController:SetCameraType(p60)\n        end\n    end\nend\nfunction v_u_1.OnCameraSubjectChanged(p64)\n    local v65 = workspace.CurrentCamera\n    local v66\n    if v65 then\n        v66 = v65.CameraSubject\n    else\n        v66 = nil\n    end\n    if p64.activeTransparencyController then\n        p64.activeTransparencyController:SetSubject(v66)\n    end\n    if p64.activeOcclusionModule then\n        p64.activeOcclusionModule:OnCameraSubjectChanged(v66)\n    end\n    local v67 = nil\n    local v68\n    if v65 then\n        v68 = v65.CameraType\n    else\n        v68 = nil\n    end\n    p64:ActivateCameraController(v67, v68)\nend\nfunction v_u_1.OnCameraTypeChanged(p69, p70)\n    -- upvalues: (copy) v_u_6, (copy) v_u_12\n    if p70 == Enum.CameraType.Scriptable and v_u_6.MouseBehavior == Enum.MouseBehavior.LockCenter then\n        v_u_12.restoreMouseBehavior()\n    end\n    p69:ActivateCameraController(nil, p70)\nend\nfunction v_u_1.OnCurrentCameraChanged(p_u_71)\n    local v_u_72 = game.Workspace.CurrentCamera\n    if v_u_72 then\n        if p_u_71.cameraSubjectChangedConn then\n            p_u_71.cameraSubjectChangedConn:Disconnect()\n        end\n        if p_u_71.cameraTypeChangedConn then\n            p_u_71.cameraTypeChangedConn:Disconnect()\n        end\n        p_u_71.cameraSubjectChangedConn = v_u_72:GetPropertyChangedSignal(\"CameraSubject\"):Connect(function()\n            -- upvalues: (copy) p_u_71\n            p_u_71:OnCameraSubjectChanged()\n        end)\n        p_u_71.cameraTypeChangedConn = v_u_72:GetPropertyChangedSignal(\"CameraType\"):Connect(function()\n            -- upvalues: (copy) p_u_71, (copy) v_u_72\n            p_u_71:OnCameraTypeChanged(v_u_72.CameraType)\n        end)\n        p_u_71:OnCameraSubjectChanged()\n        p_u_71:OnCameraTypeChanged(v_u_72.CameraType)\n    end\nend\nfunction v_u_1.OnLocalPlayerCameraPropertyChanged(p73, p74)\n    -- upvalues: (copy) v_u_4, (copy) v_u_12\n    if p74 == \"CameraMode\" then\n        if v_u_4.LocalPlayer.CameraMode ~= Enum.CameraMode.LockFirstPerson then\n            if v_u_4.LocalPlayer.CameraMode == Enum.CameraMode.Classic then\n                local v75 = p73:GetCameraMovementModeFromSettings()\n                p73:ActivateCameraController(v_u_12.ConvertCameraModeEnumToStandard(v75))\n            else\n                warn(\"Unhandled value for property player.CameraMode: \", v_u_4.LocalPlayer.CameraMode)\n            end\n        end\n        if not p73.activeCameraController or p73.activeCameraController:GetModuleName() ~= \"ClassicCamera\" then\n            p73:ActivateCameraController(v_u_12.ConvertCameraModeEnumToStandard(Enum.DevComputerCameraMovementMode.Classic))\n        end\n        if p73.activeCameraController then\n            p73.activeCameraController:UpdateForDistancePropertyChange()\n            return\n        end\n    else\n        if p74 == \"DevComputerCameraMode\" or p74 == \"DevTouchCameraMode\" then\n            local v76 = p73:GetCameraMovementModeFromSettings()\n            p73:ActivateCameraController(v_u_12.ConvertCameraModeEnumToStandard(v76))\n            return\n        end\n        if p74 == \"DevCameraOcclusionMode\" then\n            p73:ActivateOcclusionModule(v_u_4.LocalPlayer.DevCameraOcclusionMode)\n            return\n        end\n        if p74 == \"CameraMinZoomDistance\" or p74 == \"CameraMaxZoomDistance\" then\n            if p73.activeCameraController then\n                p73.activeCameraController:UpdateForDistancePropertyChange()\n                return\n            end\n        else\n            if p74 == \"DevTouchMovementMode\" then\n                return\n            end\n            if p74 == \"DevComputerMovementMode\" then\n                return\n            end\n            local _ = p74 == \"DevEnableMouseLock\"\n        end\n    end\nend\nfunction v_u_1.OnUserGameSettingsPropertyChanged(p77, p78)\n    -- upvalues: (copy) v_u_12\n    if p78 == \"ComputerCameraMovementMode\" then\n        local v79 = p77:GetCameraMovementModeFromSettings()\n        p77:ActivateCameraController(v_u_12.ConvertCameraModeEnumToStandard(v79))\n    end\nend\nfunction v_u_1.OnPreferredInputChanged(p80)\n    -- upvalues: (copy) v_u_12\n    local v81 = p80:GetCameraMovementModeFromSettings()\n    p80:ActivateCameraController(v_u_12.ConvertCameraModeEnumToStandard(v81))\nend\nfunction v_u_1.Update(p82, p83)\n    -- upvalues: (copy) v_u_13\n    if p82.activeCameraController then\n        p82.activeCameraController:UpdateMouseBehavior()\n        local v84, v85 = p82.activeCameraController:Update(p83)\n        if p82.activeOcclusionModule then\n            v84, v85 = p82.activeOcclusionModule:Update(p83, v84, v85)\n        end\n        local v86 = game.Workspace.CurrentCamera\n        v86.CFrame = v84\n        v86.Focus = v85\n        if p82.activeTransparencyController then\n            p82.activeTransparencyController:Update(p83)\n        end\n        if v_u_13.getInputEnabled() then\n            v_u_13.resetInputForFrameEnd()\n        end\n    end\nend\nfunction v_u_1.GetCameraControlChoice(_)\n    -- upvalues: (copy) v_u_28, (copy) v_u_6, (copy) v_u_4, (copy) v_u_12, (copy) v_u_8\n    local v87 = not v_u_28\n    assert(v87, \"CameraModule:GetCameraControlChoice should not be called when FFlagUserRespectLegacyCameraOptions is enabled\")\n    if v_u_6:GetLastInputType() == Enum.UserInputType.Touch or v_u_6.TouchEnabled then\n        if v_u_4.LocalPlayer.DevTouchCameraMode == Enum.DevTouchCameraMovementMode.UserChoice then\n            return v_u_12.ConvertCameraModeEnumToStandard(v_u_8.TouchCameraMovementMode)\n        else\n            return v_u_12.ConvertCameraModeEnumToStandard(v_u_4.LocalPlayer.DevTouchCameraMode)\n        end\n    else\n        if v_u_4.LocalPlayer.DevComputerCameraMode ~= Enum.DevComputerCameraMovementMode.UserChoice then\n            return v_u_12.ConvertCameraModeEnumToStandard(v_u_4.LocalPlayer.DevComputerCameraMode)\n        end\n        local v88 = v_u_12.ConvertCameraModeEnumToStandard(v_u_8.ComputerCameraMovementMode)\n        return v_u_12.ConvertCameraModeEnumToStandard(v88)\n    end\nend\nfunction v_u_1.OnCharacterAdded(p89, p90, p91)\n    if p89.activeOcclusionModule then\n        p89.activeOcclusionModule:CharacterAdded(p90, p91)\n    end\nend\nfunction v_u_1.OnCharacterRemoving(p92, p93, p94)\n    if p92.activeOcclusionModule then\n        p92.activeOcclusionModule:CharacterRemoving(p93, p94)\n    end\nend\nfunction v_u_1.OnPlayerAdded(p_u_95, p_u_96)\n    -- upvalues: (copy) v_u_29\n    if v_u_29 then\n        if p_u_95.connectionUtil then\n            p_u_95.connectionUtil:trackConnection((\"%*CharacterAdded\"):format(p_u_96.UserId), p_u_96.CharacterAdded:Connect(function(p97)\n                -- upvalues: (copy) p_u_95, (copy) p_u_96\n                p_u_95:OnCharacterAdded(p97, p_u_96)\n            end))\n            p_u_95.connectionUtil:trackConnection((\"%*CharacterRemoving\"):format(p_u_96.UserId), p_u_96.CharacterRemoving:Connect(function(p98)\n                -- upvalues: (copy) p_u_95, (copy) p_u_96\n                p_u_95:OnCharacterRemoving(p98, p_u_96)\n            end))\n            return\n        end\n    else\n        p_u_96.CharacterAdded:Connect(function(p99)\n            -- upvalues: (copy) p_u_95, (copy) p_u_96\n            p_u_95:OnCharacterAdded(p99, p_u_96)\n        end)\n        p_u_96.CharacterRemoving:Connect(function(p100)\n            -- upvalues: (copy) p_u_95, (copy) p_u_96\n            p_u_95:OnCharacterRemoving(p100, p_u_96)\n        end)\n    end\nend\nfunction v_u_1.OnPlayerRemoving(p101, p102)\n    if p101.connectionUtil then\n        p101.connectionUtil:disconnect(((\"%*CharacterAdded\"):format(p102.UserId)))\n        p101.connectionUtil:disconnect(((\"%*CharacterRemoving\"):format(p102.UserId)))\n    end\nend\nfunction v_u_1.OnMouseLockToggled(p103)\n    if p103.activeMouseLockController then\n        local v104 = p103.activeMouseLockController:GetIsMouseLocked()\n        local v105 = p103.activeMouseLockController:GetMouseLockOffset()\n        if p103.activeCameraController then\n            p103.activeCameraController:SetIsMouseLocked(v104)\n            p103.activeCameraController:SetMouseLockOffset(v105)\n        end\n    end\nend\nv_u_1.new()\nreturn {}"},{"Path":"StarterPlayer.StarterPlayerScripts.PlayerModule.CameraModule.VRCamera","Name":"VRCamera","ClassName":"ModuleScript","Category":"StarterPlayerScripts","FileName":"VRCamera17.lua","Source":"-- Decompiled with Velocity Script Decompiler\nlocal v_u_1 = game:GetService(\"Players\")\nlocal v_u_2 = game:GetService(\"VRService\")\nUserSettings():GetService(\"UserGameSettings\")\nrequire(script.Parent:WaitForChild(\"CameraInput\"))\nrequire(script.Parent:WaitForChild(\"CameraUtils\"))\nlocal v_u_3 = require(script.Parent:WaitForChild(\"VRBaseCamera\"))\nlocal v_u_4 = setmetatable({}, v_u_3)\nv_u_4.__index = v_u_4\nfunction v_u_4.new()\n    -- upvalues: (copy) v_u_3, (copy) v_u_4, (copy) v_u_1\n    local v5 = v_u_3.new()\n    local v6 = v_u_4\n    local v7 = setmetatable(v5, v6)\n    v7.lastUpdate = tick()\n    v7.focusOffset = CFrame.new()\n    v7:Reset()\n    v7.controlModule = require(v_u_1.LocalPlayer:WaitForChild(\"PlayerScripts\").PlayerModule:WaitForChild(\"ControlModule\"))\n    v7.savedAutoRotate = true\n    return v7\nend\nfunction v_u_4.Reset(p8)\n    -- upvalues: (copy) v_u_3\n    p8.needsReset = true\n    p8.needsBlackout = true\n    p8.motionDetTime = 0\n    p8.blackOutTimer = 0\n    p8.lastCameraResetPosition = nil\n    v_u_3.Reset(p8)\nend\nfunction v_u_4.Update(p9, p10)\n    -- upvalues: (copy) v_u_1, (copy) v_u_2\n    local v11 = workspace.CurrentCamera\n    local v12 = v11.CFrame\n    local v13 = v11.Focus\n    local v14 = v_u_1.LocalPlayer\n    p9:GetHumanoid()\n    local _ = v11.CameraSubject\n    if p9.lastUpdate == nil or p10 > 1 then\n        p9.lastCameraTransform = nil\n    end\n    p9:UpdateFadeFromBlack(p10)\n    p9:UpdateEdgeBlur(v14, p10)\n    local v15 = p9.lastSubjectPosition\n    local v16 = p9:GetSubjectPosition()\n    if p9.needsBlackout then\n        p9:StartFadeFromBlack()\n        local v17 = math.clamp(p10, 0.0001, 0.1)\n        p9.blackOutTimer = p9.blackOutTimer + v17\n        if p9.blackOutTimer > 0.1 and game:IsLoaded() then\n            p9.needsBlackout = false\n            p9.needsReset = true\n        end\n    end\n    if v16 and (v14 and v11) then\n        local v18 = p9:GetVRFocus(v16, p10)\n        if p9:IsInFirstPerson() then\n            if v_u_2.AvatarGestures then\n                v12, v13 = p9:UpdateImmersionCamera(p10, v12, v18, v15, v16)\n            else\n                v12, v13 = p9:UpdateFirstPersonTransform(p10, v12, v18, v15, v16)\n            end\n        elseif v_u_2.ThirdPersonFollowCamEnabled then\n            v12, v13 = p9:UpdateThirdPersonFollowTransform(p10, v12, v18, v15, v16)\n        else\n            v12, v13 = p9:UpdateThirdPersonComfortTransform(p10, v12, v18, v15, v16)\n        end\n        p9.lastCameraTransform = v12\n        p9.lastCameraFocus = v13\n    end\n    p9.lastUpdate = tick()\n    return v12, v13\nend\nfunction v_u_4.GetAvatarFeetWorldYValue(_)\n    local v19 = workspace.CurrentCamera.CameraSubject\n    if not v19 then\n        return nil\n    end\n    if not (v19:IsA(\"Humanoid\") and v19.RootPart) then\n        return nil\n    end\n    local v20 = v19.RootPart\n    return v20.Position.Y - v20.Size.Y / 2 - v19.HipHeight\nend\nfunction v_u_4.UpdateFirstPersonTransform(p21, p22, _, p23, p24, p25)\n    -- upvalues: (copy) v_u_1\n    if p21.needsReset then\n        p21:StartFadeFromBlack()\n        p21.needsReset = false\n    end\n    local v26 = v_u_1.LocalPlayer\n    if (p24 - p25).magnitude > 0.01 then\n        p21:StartVREdgeBlur(v26)\n    end\n    local v27 = p23.p\n    local v28 = p21:GetCameraLookVector()\n    local v29 = v28.X\n    local v30 = v28.Z\n    local v31 = Vector3.new(v29, 0, v30).Unit\n    local v32 = p21:getRotation(p22)\n    local v33 = p21:CalculateNewLookVectorFromArg(v31, Vector2.new(v32, 0))\n    return CFrame.new(v27 - 0.5 * v33, v27), p23\nend\nfunction v_u_4.UpdateImmersionCamera(p34, p35, _, _, _, p36)\n    -- upvalues: (copy) v_u_1, (copy) v_u_2\n    local v37 = p34:GetSubjectCFrame()\n    local v38 = workspace.CurrentCamera\n    local v39 = v_u_1.LocalPlayer.Character\n    local v40 = p34:GetHumanoid()\n    if not v40 then\n        return v38.CFrame, v38.Focus\n    end\n    local v41 = v39:FindFirstChild(\"HumanoidRootPart\")\n    if not v41 then\n        return v38.CFrame, v38.Focus\n    end\n    p34.characterOrientation = v41:FindFirstChild(\"CharacterAlignOrientation\")\n    if not p34.characterOrientation then\n        local v42 = v41:FindFirstChild(\"RootAttachment\")\n        if not v42 then\n            return\n        end\n        p34.characterOrientation = Instance.new(\"AlignOrientation\")\n        p34.characterOrientation.Name = \"CharacterAlignOrientation\"\n        p34.characterOrientation.Mode = Enum.OrientationAlignmentMode.OneAttachment\n        p34.characterOrientation.Attachment0 = v42\n        p34.characterOrientation.RigidityEnabled = true\n        p34.characterOrientation.Parent = v41\n    end\n    if p34.characterOrientation.Enabled == false then\n        p34.characterOrientation.Enabled = true\n    end\n    if p34.needsReset then\n        p34.needsReset = false\n        p34.savedAutoRotate = v40.AutoRotate\n        v40.AutoRotate = false\n        if p34.NoRecenter then\n            p34.NoRecenter = false\n            v_u_2:RecenterUserHeadCFrame()\n        end\n        p34:StartFadeFromBlack()\n    elseif v40.Sit then\n        if (v37.Position - v38.CFrame.Position).Magnitude > 0.01 then\n            p34:StartVREdgeBlur(v_u_1.LocalPlayer)\n        end\n    else\n        local v43 = p34.controlModule:GetEstimatedVRTorsoFrame()\n        p34.characterOrientation.CFrame = v38.CFrame * v43\n        if p34.controlModule.inputMoveVector.Magnitude > 0 then\n            p34.motionDetTime = 0.1\n        end\n        if p34.controlModule.inputMoveVector.Magnitude > 0 or p34.motionDetTime > 0 then\n            p34.motionDetTime = p34.motionDetTime - p35\n            p34:StartVREdgeBlur(v_u_1.LocalPlayer)\n            local v44 = v_u_2:GetUserCFrame(Enum.UserCFrame.Head)\n            local v45 = v44.Rotation + v44.Position * v38.HeadScale\n            local v46 = v39.HumanoidRootPart\n            local v47 = -0.7 * v46.Size.Y / 2\n            local v48 = v38.CFrame * v45 * CFrame.new(0, v47, 0)\n            local v49 = v46.CFrame.LookVector\n            local v50 = v49.X\n            local v51 = v49.Z\n            local v52 = p36 - (v48 - Vector3.new(v50, 0, v51).Unit * v46.Size.Y * 0.125).Position + v38.CFrame.Position\n            local v53 = v52.X\n            local v54 = p36.Y\n            local v55 = v52.Z\n            local v56 = Vector3.new(v53, v54, v55)\n            v37 = v38.CFrame.Rotation + v56\n        else\n            local v57 = v38.CFrame.Rotation\n            local v58 = v38.CFrame.Position.X\n            local v59 = p36.Y\n            local v60 = v38.CFrame.Position.Z\n            v37 = v57 + Vector3.new(v58, v59, v60)\n        end\n        local v61 = p34:getRotation(p35)\n        if math.abs(v61) > 0 then\n            local v62 = v_u_2:GetUserCFrame(Enum.UserCFrame.Head)\n            local v63 = v62.Rotation + v62.Position * v38.HeadScale\n            local v64 = v37 * v63\n            local v65 = CFrame.new(v64.Position)\n            local v66 = CFrame.Angles\n            local v67 = v61 * 90\n            v37 = v65 * v66(0, -math.rad(v67), 0) * v64.Rotation * v63:Inverse()\n        end\n    end\n    return v37, v37 * CFrame.new(0, 0, -0.5)\nend\nfunction v_u_4.UpdateThirdPersonComfortTransform(p68, p69, p70, p71, p72, p73)\n    -- upvalues: (copy) v_u_1, (copy) v_u_2\n    local v74 = p68:GetCameraToSubjectDistance()\n    local v75 = v74 < 0.5 and 0.5 or v74\n    if p72 ~= nil and p68.lastCameraFocus ~= nil then\n        local _ = v_u_1.LocalPlayer\n        local v76 = p72 - p73\n        local v77 = p68.controlModule:GetMoveVector()\n        local v78 = v76.magnitude > 0.01 and true or v77.magnitude > 0.01\n        if v78 then\n            p68.motionDetTime = 0.1\n        end\n        p68.motionDetTime = p68.motionDetTime - p69\n        if (p68.motionDetTime > 0 and true or v78) and not p68.needsReset then\n            local v79 = p68.lastCameraFocus\n            p68.VRCameraFocusFrozen = true\n            return p70, v79\n        end\n        local v80 = p68.lastCameraResetPosition == nil and true or (p73 - p68.lastCameraResetPosition).Magnitude > 1\n        local v81 = p68:getRotation(p69)\n        if math.abs(v81) > 0 then\n            local v82 = p71:ToObjectSpace(p70)\n            p70 = p71 * CFrame.Angles(0, -v81, 0) * v82\n        end\n        if p68.VRCameraFocusFrozen and v80 or p68.needsReset then\n            v_u_2:RecenterUserHeadCFrame()\n            p68.VRCameraFocusFrozen = false\n            p68.needsReset = false\n            p68.lastCameraResetPosition = p73\n            p68:ResetZoom()\n            p68:StartFadeFromBlack()\n            local v83 = p68:GetHumanoid()\n            local v84 = v83.Torso and v83.Torso.CFrame.lookVector or Vector3.new(1, 0, 0)\n            local v85 = v84.X\n            local v86 = v84.Z\n            local v87 = Vector3.new(v85, 0, v86)\n            local v88 = p71.Position - v87 * v75\n            local v89 = p71.Position.X\n            local v90 = v88.Y\n            local v91 = p71.Position.Z\n            local v92 = Vector3.new(v89, v90, v91)\n            p70 = CFrame.new(v88, v92)\n        end\n    end\n    return p70, p71\nend\nfunction v_u_4.UpdateThirdPersonFollowTransform(p93, p94, _, _, p95, p96)\n    -- upvalues: (copy) v_u_2, (copy) v_u_1\n    local v97 = workspace.CurrentCamera\n    local v98 = p93:GetCameraToSubjectDistance()\n    local v99 = p93:GetVRFocus(p96, p94)\n    if p93.needsReset then\n        p93.needsReset = false\n        v_u_2:RecenterUserHeadCFrame()\n        p93:ResetZoom()\n        p93:StartFadeFromBlack()\n    end\n    if p93.recentered then\n        local v100 = p93:GetSubjectCFrame()\n        if not v100 then\n            return v97.CFrame, v97.Focus\n        end\n        local v101 = v99 * v100.Rotation * CFrame.new(0, 0, v98)\n        p93.focusOffset = v99:ToObjectSpace(v101)\n        p93.recentered = false\n        return v101, v99\n    end\n    local v102 = v99:ToWorldSpace(p93.focusOffset)\n    local _ = v_u_1.LocalPlayer\n    local v103 = p95 - p96\n    local v104 = p93.controlModule\n    local v105 = v104:GetMoveVector()\n    if v103.magnitude > 0.01 or v105.magnitude > 0 then\n        local v106 = v104:GetEstimatedVRTorsoFrame()\n        local v107 = v106.Rotation + v106.Position * v97.HeadScale\n        local v108 = v97.CFrame * v107\n        local v109 = v108.LookVector\n        local v110 = v109.X\n        local v111 = v109.Z\n        local v112 = Vector3.new(v110, 0, v111).Unit * v98\n        local v113 = v99.Position - v112\n        v102 = v102:Lerp(CFrame.new(v97.CFrame.Position + v113 - v108.Position) * v102.Rotation, 0.01)\n    end\n    local v114 = p93:getRotation(p94)\n    if math.abs(v114) > 0 then\n        local v115 = v99:ToObjectSpace(v102)\n        v102 = v99 * CFrame.Angles(0, -v114, 0) * v115\n    end\n    p93.focusOffset = v99:ToObjectSpace(v102)\n    local v116 = v102 * CFrame.new(0, 0, -v98)\n    if (v116.Position - v97.Focus.Position).Magnitude > 0.01 then\n        p93:StartVREdgeBlur(v_u_1.LocalPlayer)\n    end\n    return v102, v116\nend\nfunction v_u_4.LeaveFirstPerson(p117)\n    -- upvalues: (copy) v_u_3\n    v_u_3.LeaveFirstPerson(p117)\n    p117.needsReset = true\n    if p117.VRBlur then\n        p117.VRBlur.Visible = false\n    end\n    if p117.characterOrientation then\n        p117.characterOrientation.Enabled = false\n    end\n    local v118 = p117:GetHumanoid()\n    if v118 then\n        v118.AutoRotate = p117.savedAutoRotate\n    end\nend\nreturn v_u_4"},{"Path":"StarterPlayer.StarterPlayerScripts.PlayerModule.CameraModule.CameraUtils","Name":"CameraUtils","ClassName":"ModuleScript","Category":"StarterPlayerScripts","FileName":"CameraUtils18.lua","Source":"-- Decompiled with Velocity Script Decompiler\nlocal v_u_1 = game:GetService(\"Players\")\nlocal v_u_2 = game:GetService(\"UserInputService\")\nlocal v_u_3 = UserSettings():GetService(\"UserGameSettings\")\nlocal v_u_4 = {}\nlocal v_u_5 = {}\nv_u_5.__index = v_u_5\nfunction v_u_5.new(p6, p7)\n    -- upvalues: (copy) v_u_5\n    local v8 = v_u_5\n    return setmetatable({\n        [\"freq\"] = p6,\n        [\"goal\"] = p7,\n        [\"pos\"] = p7,\n        [\"vel\"] = 0\n    }, v8)\nend\nfunction v_u_5.step(p9, p10)\n    local v11 = p9.freq * 2 * 3.141592653589793\n    local v12 = p9.goal\n    local v13 = p9.pos\n    local v14 = p9.vel\n    local v15 = v13 - v12\n    local v16 = -v11 * p10\n    local v17 = math.exp(v16)\n    local v18 = (v15 * (v11 * p10 + 1) + v14 * p10) * v17 + v12\n    local v19 = (v14 * (1 - v11 * p10) - v15 * (v11 * v11 * p10)) * v17\n    p9.pos = v18\n    p9.vel = v19\n    return v18\nend\nv_u_4.Spring = v_u_5\nfunction v_u_4.map(p20, p21, p22, p23, p24)\n    return (p20 - p21) * (p24 - p23) / (p22 - p21) + p23\nend\nfunction v_u_4.mapClamp(p25, p26, p27, p28, p29)\n    local v30 = (p25 - p26) * (p29 - p28) / (p27 - p26) + p28\n    local v31 = math.min(p28, p29)\n    local v32 = math.max(p28, p29)\n    return math.clamp(v30, v31, v32)\nend\nfunction v_u_4.getLooseBoundingSphere(p33)\n    local v34 = table.create(#p33)\n    for v35, v36 in pairs(p33) do\n        v34[v35] = v36.Position\n    end\n    local v37 = v34[1]\n    local v38 = v37\n    local v39 = 0\n    for _, v40 in ipairs(v34) do\n        local v41 = (v40 - v37).Magnitude\n        if v39 < v41 then\n            v38 = v40\n            v39 = v41\n        end\n    end\n    local v42 = v38\n    local v43 = 0\n    for _, v44 in ipairs(v34) do\n        local v45 = (v44 - v38).Magnitude\n        if v43 < v45 then\n            v42 = v44\n            v43 = v45\n        end\n    end\n    local v46 = (v38 + v42) * 0.5\n    local v47 = (v38 - v42).Magnitude * 0.5\n    for _, v48 in ipairs(v34) do\n        local v49 = (v48 - v46).Magnitude\n        if v47 < v49 then\n            v46 = v46 + (v49 - v47) * 0.5 * (v48 - v46).Unit\n            v47 = (v49 + v47) * 0.5\n        end\n    end\n    return v46, v47\nend\nfunction v_u_4.sanitizeAngle(p50)\n    return (p50 + 3.141592653589793) % 6.283185307179586 - 3.141592653589793\nend\nfunction v_u_4.Round(p51, p52)\n    local v53 = 10 ^ p52\n    local v54 = p51 * v53 + 0.5\n    return math.floor(v54) / v53\nend\nfunction v_u_4.IsFinite(p55)\n    local v56\n    if p55 == p55 and p55 ~= (1 / 0) then\n        v56 = p55 ~= (-1 / 0)\n    else\n        v56 = false\n    end\n    return v56\nend\nfunction v_u_4.IsFiniteVector3(p57)\n    -- upvalues: (copy) v_u_4\n    local v58 = v_u_4.IsFinite(p57.X) and v_u_4.IsFinite(p57.Y)\n    if v58 then\n        v58 = v_u_4.IsFinite(p57.Z)\n    end\n    return v58\nend\nfunction v_u_4.GetAngleBetweenXZVectors(p59, p60)\n    local v61 = p60.X * p59.Z - p60.Z * p59.X\n    local v62 = p60.X * p59.X + p60.Z * p59.Z\n    return math.atan2(v61, v62)\nend\nfunction v_u_4.RotateVectorByAngleAndRound(p63, p64, p65)\n    if p63.Magnitude <= 0 then\n        return 0\n    end\n    local v66 = p63.Unit\n    local v67 = v66.Z\n    local v68 = v66.X\n    local v69 = math.atan2(v67, v68)\n    local v70 = v66.Z\n    local v71 = v66.X\n    local v72 = (math.atan2(v70, v71) + p64) / p65 + 0.5\n    return math.floor(v72) * p65 - v69\nend\nfunction v_u_4.GamepadLinearToCurve(p73)\n    local v74 = Vector2.new\n    local v75 = p73.X\n    local v76 = v75 < 0 and -1 or 1\n    local v77 = math.abs(v75)\n    local v78 = (math.abs(v77) * 2 - 1) * 1.1 - 0.1\n    local v79 = math.clamp(v78, -1, 1)\n    local v80\n    if v79 >= 0 then\n        v80 = v79 * 0.35 / (0.35 - v79 + 1)\n    else\n        v80 = -(-v79 * 0.8 / (v79 + 0.8 + 1))\n    end\n    local v81 = (v80 / 2 + 0.5) * v76\n    local v82 = math.clamp(v81, -1, 1)\n    local v83 = p73.Y\n    local v84 = v83 < 0 and -1 or 1\n    local v85 = math.abs(v83)\n    local v86 = (math.abs(v85) * 2 - 1) * 1.1 - 0.1\n    local v87 = math.clamp(v86, -1, 1)\n    local v88\n    if v87 >= 0 then\n        v88 = v87 * 0.35 / (0.35 - v87 + 1)\n    else\n        v88 = -(-v87 * 0.8 / (v87 + 0.8 + 1))\n    end\n    local v89 = (v88 / 2 + 0.5) * v84\n    return v74(v82, (math.clamp(v89, -1, 1)))\nend\nfunction v_u_4.ConvertCameraModeEnumToStandard(p90)\n    if p90 == Enum.TouchCameraMovementMode.Default then\n        return Enum.ComputerCameraMovementMode.Follow\n    elseif p90 == Enum.ComputerCameraMovementMode.Default then\n        return Enum.ComputerCameraMovementMode.Classic\n    elseif p90 == Enum.TouchCameraMovementMode.Classic or (p90 == Enum.DevTouchCameraMovementMode.Classic or (p90 == Enum.DevComputerCameraMovementMode.Classic or p90 == Enum.ComputerCameraMovementMode.Classic)) then\n        return Enum.ComputerCameraMovementMode.Classic\n    elseif p90 == Enum.TouchCameraMovementMode.Follow or (p90 == Enum.DevTouchCameraMovementMode.Follow or (p90 == Enum.DevComputerCameraMovementMode.Follow or p90 == Enum.ComputerCameraMovementMode.Follow)) then\n        return Enum.ComputerCameraMovementMode.Follow\n    elseif p90 == Enum.TouchCameraMovementMode.Orbital or (p90 == Enum.DevTouchCameraMovementMode.Orbital or (p90 == Enum.DevComputerCameraMovementMode.Orbital or p90 == Enum.ComputerCameraMovementMode.Orbital)) then\n        return Enum.ComputerCameraMovementMode.Orbital\n    elseif p90 == Enum.ComputerCameraMovementMode.CameraToggle or p90 == Enum.DevComputerCameraMovementMode.CameraToggle then\n        return Enum.ComputerCameraMovementMode.CameraToggle\n    elseif p90 == Enum.DevTouchCameraMovementMode.UserChoice or p90 == Enum.DevComputerCameraMovementMode.UserChoice then\n        return Enum.DevComputerCameraMovementMode.UserChoice\n    else\n        return Enum.ComputerCameraMovementMode.Classic\n    end\nend\nlocal v_u_91 = \"\"\nlocal v_u_92 = nil\nfunction v_u_4.setMouseIconOverride(p93)\n    -- upvalues: (copy) v_u_1, (ref) v_u_92, (ref) v_u_91\n    local v94 = v_u_1.LocalPlayer\n    if not v94 then\n        v_u_1:GetPropertyChangedSignal(\"LocalPlayer\"):Wait()\n        v94 = v_u_1.LocalPlayer\n    end\n    assert(v94)\n    local v95 = v94:GetMouse()\n    if v95.Icon ~= v_u_92 then\n        v_u_91 = v95.Icon\n    end\n    v95.Icon = p93\n    v_u_92 = p93\nend\nfunction v_u_4.restoreMouseIcon()\n    -- upvalues: (copy) v_u_1, (ref) v_u_92, (ref) v_u_91\n    local v96 = v_u_1.LocalPlayer\n    if not v96 then\n        v_u_1:GetPropertyChangedSignal(\"LocalPlayer\"):Wait()\n        v96 = v_u_1.LocalPlayer\n    end\n    assert(v96)\n    local v97 = v96:GetMouse()\n    if v97.Icon == v_u_92 then\n        v97.Icon = v_u_91\n    end\n    v_u_92 = nil\nend\nlocal v_u_98 = Enum.MouseBehavior.Default\nlocal v_u_99 = nil\nfunction v_u_4.setMouseBehaviorOverride(p100)\n    -- upvalues: (copy) v_u_2, (ref) v_u_99, (ref) v_u_98\n    if v_u_2.MouseBehavior ~= v_u_99 then\n        v_u_98 = v_u_2.MouseBehavior\n    end\n    v_u_2.MouseBehavior = p100\n    v_u_99 = p100\nend\nfunction v_u_4.restoreMouseBehavior()\n    -- upvalues: (copy) v_u_2, (ref) v_u_99, (ref) v_u_98\n    if v_u_2.MouseBehavior == v_u_99 then\n        v_u_2.MouseBehavior = v_u_98\n    end\n    v_u_99 = nil\nend\nlocal v_u_101 = Enum.RotationType.MovementRelative\nlocal v_u_102 = nil\nfunction v_u_4.setRotationTypeOverride(p103)\n    -- upvalues: (copy) v_u_3, (ref) v_u_102, (ref) v_u_101\n    if v_u_3.RotationType ~= v_u_102 then\n        v_u_101 = v_u_3.RotationType\n    end\n    v_u_3.RotationType = p103\n    v_u_102 = p103\nend\nfunction v_u_4.restoreRotationType()\n    -- upvalues: (copy) v_u_3, (ref) v_u_102, (ref) v_u_101\n    if v_u_3.RotationType == v_u_102 then\n        v_u_3.RotationType = v_u_101\n    end\n    v_u_102 = nil\nend\nreturn v_u_4"},{"Path":"StarterPlayer.StarterPlayerScripts.PlayerModule.CameraModule.VRVehicleCamera","Name":"VRVehicleCamera","ClassName":"ModuleScript","Category":"StarterPlayerScripts","FileName":"VRVehicleCamera19.lua","Source":"-- Decompiled with Velocity Script Decompiler\nlocal v1, v2 = pcall(function()\n    return UserSettings():IsUserFeatureEnabled(\"UserVRVehicleCamera2\")\nend)\nlocal v_u_3 = v1 and v2\nlocal v_u_4 = { 0, 30 }\nlocal v_u_5 = UserSettings():GetService(\"UserGameSettings\")\nlocal v_u_6 = require(script.Parent:WaitForChild(\"VRBaseCamera\"))\nlocal v_u_7 = require(script.Parent:WaitForChild(\"CameraInput\"))\nlocal v_u_8 = require(script.Parent:WaitForChild(\"CameraUtils\"))\nrequire(script.Parent:WaitForChild(\"VehicleCamera\"))\nlocal v_u_9 = require(script.Parent.VehicleCamera:FindFirstChild(\"VehicleCameraCore\"))\nlocal v_u_10 = require(script.Parent.VehicleCamera:FindFirstChild(\"VehicleCameraConfig\"))\nlocal v11 = game:GetService(\"Players\")\nlocal v_u_12 = game:GetService(\"RunService\")\nlocal v_u_13 = game:GetService(\"VRService\")\nlocal v_u_14 = v11.LocalPlayer\nlocal v_u_15 = v_u_8.Spring\nlocal v_u_16 = v_u_8.mapClamp\nlocal v_u_17 = v_u_8.sanitizeAngle\nlocal v_u_18 = 0.016666666666666666\nlocal v_u_19 = setmetatable({}, v_u_6)\nv_u_19.__index = v_u_19\nfunction v_u_19.new()\n    -- upvalues: (copy) v_u_6, (copy) v_u_19, (copy) v_u_12, (ref) v_u_18\n    local v20 = v_u_6.new()\n    local v21 = v_u_19\n    local v22 = setmetatable(v20, v21)\n    v22:Reset()\n    v_u_12.Stepped:Connect(function(_, p23)\n        -- upvalues: (ref) v_u_18\n        v_u_18 = p23\n    end)\n    return v22\nend\nfunction v_u_19.Reset(p24)\n    -- upvalues: (copy) v_u_9, (ref) v_u_3, (copy) v_u_15, (copy) v_u_10, (copy) v_u_8, (copy) v_u_4\n    p24.vehicleCameraCore = v_u_9.new(p24:GetSubjectCFrame())\n    if v_u_3 then\n        p24.pitchSpring = v_u_15.new(0, 0)\n    else\n        local v25 = v_u_15.new\n        local v26 = v_u_10.pitchBaseAngle\n        p24.pitchSpring = v25(0, -math.rad(v26))\n    end\n    p24.yawSpring = v_u_15.new(0, 0)\n    if v_u_3 then\n        p24.lastPanTick = 0\n        p24.currentDriftAngle = 0\n        p24.needsReset = true\n    end\n    local v27 = workspace.CurrentCamera\n    local v28\n    if v27 then\n        v28 = v27.CameraSubject\n    else\n        v28 = v27\n    end\n    assert(v27, \"VRVehicleCamera initialization error\")\n    assert(v28)\n    assert(v28:IsA(\"VehicleSeat\"))\n    local v29 = v28:GetConnectedParts(true)\n    local v30, v31 = v_u_8.getLooseBoundingSphere(v29)\n    p24.assemblyRadius = math.max(v31, 5)\n    p24.assemblyOffset = v28.CFrame:Inverse() * v30\n    p24.gamepadZoomLevels = {}\n    for _, v32 in v_u_4 do\n        local v33 = p24.gamepadZoomLevels\n        local v34 = v32 * p24.headScale * p24.assemblyRadius / 10\n        table.insert(v33, v34)\n    end\n    p24.lastCameraFocus = nil\n    p24:SetCameraToSubjectDistance(p24.gamepadZoomLevels[#p24.gamepadZoomLevels])\nend\nfunction v_u_19._StepRotation(p35, p36, p37)\n    -- upvalues: (copy) v_u_17, (copy) v_u_7, (copy) v_u_10, (copy) v_u_16\n    local v38 = p35.yawSpring\n    local v39 = p35.pitchSpring\n    local v40 = -p35:getRotation(p36)\n    v38.pos = v_u_17(v38.pos + v40)\n    local v41 = v_u_17\n    local v42 = v39.pos\n    v39.pos = v41((math.clamp(v42, -1.3962634015954636, 1.3962634015954636)))\n    if v_u_7.getRotationActivated() then\n        p35.lastPanTick = os.clock()\n    end\n    local v43 = v_u_10.pitchDeadzoneAngle\n    local v44 = math.rad(v43)\n    if os.clock() - p35.lastPanTick > v_u_10.autocorrectDelay then\n        local v45 = v_u_16(p37, v_u_10.autocorrectMinCarSpeed, v_u_10.autocorrectMaxCarSpeed, 0, v_u_10.autocorrectResponse)\n        v38.freq = v45\n        v39.freq = v45\n        if v38.freq < 0.001 then\n            v38.vel = 0\n        end\n        if v39.freq < 0.001 then\n            v39.vel = 0\n        end\n        local v46 = v_u_17(0 - v39.pos)\n        if math.abs(v46) <= v44 then\n            v39.goal = v39.pos\n        else\n            v39.goal = 0\n        end\n    else\n        v38.freq = 0\n        v38.vel = 0\n        v39.freq = 0\n        v39.vel = 0\n        v39.goal = 0\n    end\n    return CFrame.fromEulerAnglesYXZ(v39:step(p36), v38:step(p36), 0)\nend\nfunction v_u_19._GetThirdPersonLocalOffset(p47)\n    -- upvalues: (copy) v_u_10\n    local v48 = p47.assemblyOffset\n    local v49 = p47.assemblyRadius * v_u_10.verticalCenterOffset\n    return v48 + Vector3.new(0, v49, 0)\nend\nfunction v_u_19._GetFirstPersonLocalOffset(p50, p51)\n    -- upvalues: (copy) v_u_14\n    local v52 = v_u_14.Character\n    if v52 and v52.Parent then\n        local v53 = v52:FindFirstChild(\"Head\")\n        if v53 and v53:IsA(\"BasePart\") then\n            return p51:Inverse() * v53.Position\n        end\n    end\n    return p50:_GetThirdPersonLocalOffset()\nend\nfunction v_u_19.Update(p54)\n    -- upvalues: (ref) v_u_3, (ref) v_u_18, (copy) v_u_14, (copy) v_u_13\n    if v_u_3 then\n        local v55 = v_u_18\n        v_u_18 = 0\n        p54:UpdateFadeFromBlack(v55)\n        p54:UpdateEdgeBlur(v_u_14, v55)\n        if v_u_13.ThirdPersonFollowCamEnabled then\n            local v56, v57 = p54:UpdateStepRotation(v55)\n            return v56, v57\n        else\n            local v58, v59 = p54:UpdateComfortCamera(v55)\n            return v58, v59\n        end\n    else\n        return p54:UpdateComfortCamera()\n    end\nend\nfunction v_u_19.addDrift(p60, p61, p62)\n    -- upvalues: (copy) v_u_14, (copy) v_u_13\n    local v63 = workspace.CurrentCamera\n    local v64 = p60:GetCameraToSubjectDistance()\n    local v65 = p60:GetSubjectVelocity()\n    local v66 = p60:GetSubjectCFrame()\n    require(v_u_14:WaitForChild(\"PlayerScripts\").PlayerModule:WaitForChild(\"ControlModule\"))\n    if v65.Magnitude > 0.1 then\n        local v67 = v_u_13:GetUserCFrame(Enum.UserCFrame.Head)\n        local v68 = v67.Rotation + v67.Position * v63.HeadScale\n        local v69 = v63.CFrame * v68\n        local _, v70, _ = v69:ToEulerAnglesYXZ()\n        local _, v71, _ = v66:ToEulerAnglesYXZ()\n        local v72 = (v70 - p60.currentDriftAngle + 12.566370614359172) % 6.283185307179586\n        if v72 > 3.141592653589793 then\n            v72 = v72 - 6.283185307179586\n        end\n        local v73 = (v71 - p60.currentDriftAngle + 12.566370614359172) % 6.283185307179586\n        if v73 > 3.141592653589793 then\n            v73 = v73 - 6.283185307179586\n        end\n        local v74 = math.min(v73, v72)\n        local v75 = math.max(v73, v72)\n        local v76 = 0\n        if v74 > 0 then\n            v75 = v74\n        elseif v75 >= 0 then\n            v75 = v76\n        end\n        p60.currentDriftAngle = v75 + p60.currentDriftAngle\n        local v77 = CFrame.fromEulerAnglesYXZ(0, p60.currentDriftAngle, 0).LookVector\n        local v78 = v77.X\n        local v79 = v77.Z\n        local v80 = Vector3.new(v78, 0, v79).Unit * v64\n        local v81 = p62.Position - v80\n        p61 = p61:Lerp(CFrame.new(v63.CFrame.Position + v81 - v69.Position) * v63.CFrame.Rotation, 0.01)\n    end\n    return p61, p62\nend\nfunction v_u_19.UpdateRotationCamera(p82, p83)\n    -- upvalues: (copy) v_u_16, (copy) v_u_14\n    local v84 = workspace.CurrentCamera\n    local v85\n    if v84 then\n        v85 = v84.CameraSubject\n    else\n        v85 = v84\n    end\n    local v86 = p82.vehicleCameraCore\n    assert(v84)\n    assert(v85)\n    assert(v85:IsA(\"VehicleSeat\"))\n    local v87 = p82:GetSubjectCFrame()\n    local v88 = p82:GetSubjectVelocity()\n    local v89 = p82:GetSubjectRotVelocity()\n    local v90 = v88:Dot(v87.ZVector)\n    local v91 = math.abs(v90)\n    local v92 = v87.YVector:Dot(v89)\n    local v93 = math.abs(v92)\n    local v94 = v87.XVector:Dot(v89)\n    local v95 = math.abs(v94)\n    local v96 = p82:GetCameraToSubjectDistance()\n    local v97 = v_u_16(v96, 0.5, p82.assemblyRadius, 1, 0)\n    local v98 = p82:_GetThirdPersonLocalOffset():Lerp(p82:_GetFirstPersonLocalOffset(v87), v97)\n    v86:setTransform(v87)\n    local v99 = v86:step(p83, v95, v93, v97)\n    local v100 = p82:_StepRotation(p83, v91)\n    local v101 = p82:GetVRFocus(v87 * v98, p83) * v99 * v100\n    local v102 = v101 * CFrame.new(0, 0, v96)\n    if v88.Magnitude > 0.1 then\n        p82:StartVREdgeBlur(v_u_14)\n    end\n    return v102, v101\nend\nfunction v_u_19.UpdateStepRotation(p103, p104)\n    -- upvalues: (copy) v_u_16, (copy) v_u_5, (copy) v_u_13, (copy) v_u_14\n    local v105 = workspace.CurrentCamera\n    local v106 = p103.lastSubjectCFrame\n    local v107 = p103:GetSubjectCFrame()\n    local v108 = p103:GetSubjectVelocity()\n    local v109 = p103:GetCameraToSubjectDistance()\n    local v110 = v_u_16(v109, 0.5, p103.assemblyRadius, 1, 0)\n    local v111 = p103:_GetThirdPersonLocalOffset():Lerp(p103:_GetFirstPersonLocalOffset(v107), v110)\n    local v112 = p103:GetVRFocus(v107 * v111, p104)\n    local v113, v114 = p103:addDrift(v112:ToWorldSpace(p103:GetVRFocus(v106 * v111, p104):ToObjectSpace(v105.CFrame)), v112)\n    local v115 = p103:getRotation(p104)\n    local v116\n    if math.abs(v115) > 0 then\n        local v117 = v114:ToObjectSpace(v113)\n        v116 = v114 * CFrame.Angles(0, -v115, 0) * v117\n        if not v_u_5.VRSmoothRotationEnabled then\n            local v118 = v_u_13:GetUserCFrame(Enum.UserCFrame.Head)\n            local v119 = v118.Rotation + v118.Position * v105.HeadScale\n            local v120 = v114 * v107.Rotation\n            local v121 = v120:ToObjectSpace(v113 * v119)\n            local v122 = v121.X\n            local v123 = v121.Z\n            local v124 = Vector3.new(v122, 0, v123).Unit:Dot(Vector3.new(0, 0, 1))\n            local v125 = math.acos(v124)\n            local v126 = v120:ToObjectSpace(v116 * v119)\n            local v127 = v126.X\n            local v128 = v126.Z\n            local v129 = Vector3.new(v127, 0, v128).Unit:Dot(Vector3.new(0, 0, 1))\n            if math.acos(v129) < v125 then\n                if v115 < 0 then\n                    v125 = v125 * -1\n                end\n                v116 = v114 * CFrame.Angles(0, -v125, 0) * v117\n            end\n        end\n    else\n        v116 = v113\n    end\n    if v108.Magnitude > 0.1 then\n        p103:StartVREdgeBlur(v_u_14)\n    end\n    if p103.needsReset then\n        p103.needsReset = false\n        v_u_13:RecenterUserHeadCFrame()\n        p103:StartFadeFromBlack()\n        p103:ResetZoom()\n    end\n    if p103.recentered then\n        v116 = v114 * v107.Rotation * CFrame.new(0, 0, v109)\n        p103.recentered = false\n    end\n    return v116, v116 * CFrame.new(0, 0, -v109)\nend\nfunction v_u_19.UpdateComfortCamera(p130, p131)\n    -- upvalues: (ref) v_u_3, (ref) v_u_18, (copy) v_u_16, (copy) v_u_14\n    local v132 = workspace.CurrentCamera\n    local v133\n    if v132 then\n        v133 = v132.CameraSubject\n    else\n        v133 = v132\n    end\n    local v134 = p130.vehicleCameraCore\n    assert(v132)\n    assert(v133)\n    assert(v133:IsA(\"VehicleSeat\"))\n    if not v_u_3 then\n        p131 = v_u_18\n        v_u_18 = 0\n    end\n    local v135 = p130:GetSubjectCFrame()\n    local v136 = p130:GetSubjectVelocity()\n    local v137 = p130:GetSubjectRotVelocity()\n    local v138 = v136:Dot(v135.ZVector)\n    math.abs(v138)\n    local v139 = v135.YVector:Dot(v137)\n    local v140 = math.abs(v139)\n    local v141 = v135.XVector:Dot(v137)\n    local v142 = math.abs(v141)\n    local v143 = p130:StepZoom()\n    local v144 = v_u_16(v143, 0.5, p130.assemblyRadius, 1, 0)\n    local v145 = p130:_GetThirdPersonLocalOffset():Lerp(p130:_GetFirstPersonLocalOffset(v135), v144)\n    v134:setTransform(v135)\n    local v146 = v134:step(p131, v142, v140, v144)\n    if not v_u_3 then\n        p130:UpdateFadeFromBlack(p131)\n    end\n    local v147, v148\n    if p130:IsInFirstPerson() then\n        local v149 = v146.LookVector.X\n        local v150 = v146.LookVector.Z\n        local v151 = Vector3.new(v149, 0, v150).Unit\n        local v152 = CFrame.new(v146.Position, v151)\n        v147 = CFrame.new(v135 * v145) * v152\n        v148 = v147 * CFrame.new(0, 0, v143)\n        if v_u_3 then\n            if v136.Magnitude > 0.1 then\n                p130:StartVREdgeBlur(v_u_14)\n            end\n        else\n            p130:StartVREdgeBlur(v_u_14)\n        end\n    else\n        v147 = CFrame.new(v135 * v145) * v146\n        v148 = v147 * CFrame.new(0, 0, v143)\n        if not p130.lastCameraFocus then\n            p130.lastCameraFocus = v147\n            p130.needsReset = true\n        end\n        local v153 = v147.Position - v132.CFrame.Position\n        local v154 = v153.magnitude\n        if v153.Unit:Dot(v132.CFrame.LookVector) > 0.56 and (v154 < 200 and not p130.needsReset) then\n            v147 = p130.lastCameraFocus\n            local v155 = v147.p\n            local v156 = p130:GetCameraLookVector()\n            local v157 = v156.X\n            local v158 = v156.Z\n            local v159 = p130:CalculateNewLookVectorFromArg(Vector3.new(v157, 0, v158).Unit, Vector2.new(0, 0))\n            v148 = CFrame.new(v155 - v143 * v159, v155)\n        else\n            p130.lastCameraFocus = p130:GetVRFocus(v135.Position, p131)\n            p130.needsReset = false\n            p130:StartFadeFromBlack()\n            p130:ResetZoom()\n        end\n        if not v_u_3 then\n            p130:UpdateEdgeBlur(v_u_14, p131)\n        end\n    end\n    return v148, v147\nend\nreturn v_u_19"},{"Path":"StarterPlayer.StarterPlayerScripts.PlayerModule.CameraModule.VehicleCamera","Name":"VehicleCamera","ClassName":"ModuleScript","Category":"StarterPlayerScripts","FileName":"VehicleCamera20.lua","Source":"-- Decompiled with Velocity Script Decompiler\nlocal v_u_1 = { 0, 15, 30 }\nlocal v2 = game:GetService(\"Players\")\nlocal v3 = game:GetService(\"RunService\")\nlocal v_u_4 = require(script.Parent:WaitForChild(\"BaseCamera\"))\nlocal v_u_5 = require(script.Parent:WaitForChild(\"CameraInput\"))\nlocal v_u_6 = require(script.Parent:WaitForChild(\"CameraUtils\"))\nrequire(script.Parent:WaitForChild(\"ZoomController\"))\nlocal v_u_7 = require(script:WaitForChild(\"VehicleCameraCore\"))\nlocal v_u_8 = require(script:WaitForChild(\"VehicleCameraConfig\"))\nlocal v_u_9 = v2.LocalPlayer\nlocal _ = v_u_6.map\nlocal v_u_10 = v_u_6.Spring\nlocal v_u_11 = v_u_6.mapClamp\nlocal v_u_12 = v_u_6.sanitizeAngle\nlocal v_u_13 = 0.016666666666666666\nv3.Stepped:Connect(function(_, p14)\n    -- upvalues: (ref) v_u_13\n    v_u_13 = p14\nend)\nlocal v_u_15 = setmetatable({}, v_u_4)\nv_u_15.__index = v_u_15\nfunction v_u_15.new()\n    -- upvalues: (copy) v_u_4, (copy) v_u_15\n    local v16 = v_u_4.new()\n    local v17 = v_u_15\n    local v18 = setmetatable(v16, v17)\n    v18:Reset()\n    return v18\nend\nfunction v_u_15.Reset(p19)\n    -- upvalues: (copy) v_u_7, (copy) v_u_10, (copy) v_u_8, (copy) v_u_6, (copy) v_u_1\n    p19.vehicleCameraCore = v_u_7.new(p19:GetSubjectCFrame())\n    local v20 = v_u_10.new\n    local v21 = v_u_8.pitchBaseAngle\n    p19.pitchSpring = v20(0, -math.rad(v21))\n    p19.yawSpring = v_u_10.new(0, 0)\n    p19.lastPanTick = 0\n    local v22 = workspace.CurrentCamera\n    local v23\n    if v22 then\n        v23 = v22.CameraSubject\n    else\n        v23 = v22\n    end\n    assert(v22)\n    assert(v23)\n    assert(v23:IsA(\"VehicleSeat\"))\n    local v24 = v23:GetConnectedParts(true)\n    local v25, v26 = v_u_6.getLooseBoundingSphere(v24)\n    p19.assemblyRadius = math.max(v26, 5)\n    p19.assemblyOffset = v23.CFrame:Inverse() * v25\n    p19.gamepadZoomLevels = {}\n    for _, v27 in v_u_1 do\n        local v28 = p19.gamepadZoomLevels\n        local v29 = v27 * p19.assemblyRadius / 10\n        table.insert(v28, v29)\n    end\n    p19:SetCameraToSubjectDistance(p19.gamepadZoomLevels[#p19.gamepadZoomLevels])\nend\nfunction v_u_15._StepRotation(p30, p31, p32)\n    -- upvalues: (copy) v_u_5, (copy) v_u_12, (copy) v_u_8, (copy) v_u_11\n    local v33 = p30.yawSpring\n    local v34 = p30.pitchSpring\n    local v35 = v_u_5.getRotation(p31, true)\n    local v36 = -v35.X\n    local v37 = -v35.Y\n    v33.pos = v_u_12(v33.pos + v36)\n    local v38 = v_u_12\n    local v39 = v34.pos + v37\n    v34.pos = v38((math.clamp(v39, -1.3962634015954636, 1.3962634015954636)))\n    if v_u_5.getRotationActivated() then\n        p30.lastPanTick = os.clock()\n    end\n    local v40 = v_u_8.pitchBaseAngle\n    local v41 = -math.rad(v40)\n    local v42 = v_u_8.pitchDeadzoneAngle\n    local v43 = math.rad(v42)\n    if os.clock() - p30.lastPanTick > v_u_8.autocorrectDelay then\n        local v44 = v_u_11(p32, v_u_8.autocorrectMinCarSpeed, v_u_8.autocorrectMaxCarSpeed, 0, v_u_8.autocorrectResponse)\n        v33.freq = v44\n        v34.freq = v44\n        if v33.freq < 0.001 then\n            v33.vel = 0\n        end\n        if v34.freq < 0.001 then\n            v34.vel = 0\n        end\n        local v45 = v_u_12(v41 - v34.pos)\n        if math.abs(v45) <= v43 then\n            v34.goal = v34.pos\n        else\n            v34.goal = v41\n        end\n    else\n        v33.freq = 0\n        v33.vel = 0\n        v34.freq = 0\n        v34.vel = 0\n        v34.goal = v41\n    end\n    return CFrame.fromEulerAnglesYXZ(v34:step(p31), v33:step(p31), 0)\nend\nfunction v_u_15._GetThirdPersonLocalOffset(p46)\n    -- upvalues: (copy) v_u_8\n    local v47 = p46.assemblyOffset\n    local v48 = p46.assemblyRadius * v_u_8.verticalCenterOffset\n    return v47 + Vector3.new(0, v48, 0)\nend\nfunction v_u_15._GetFirstPersonLocalOffset(p49, p50)\n    -- upvalues: (copy) v_u_9\n    local v51 = v_u_9.Character\n    if v51 and v51.Parent then\n        local v52 = v51:FindFirstChild(\"Head\")\n        if v52 and v52:IsA(\"BasePart\") then\n            return p50:Inverse() * v52.Position\n        end\n    end\n    return p49:_GetThirdPersonLocalOffset()\nend\nfunction v_u_15.Update(p53)\n    -- upvalues: (ref) v_u_13, (copy) v_u_11\n    local v54 = workspace.CurrentCamera\n    local v55\n    if v54 then\n        v55 = v54.CameraSubject\n    else\n        v55 = v54\n    end\n    local v56 = p53.vehicleCameraCore\n    assert(v54)\n    assert(v55)\n    assert(v55:IsA(\"VehicleSeat\"))\n    local v57 = v_u_13\n    v_u_13 = 0\n    local v58 = p53:GetSubjectCFrame()\n    local v59 = p53:GetSubjectVelocity()\n    local v60 = p53:GetSubjectRotVelocity()\n    local v61 = v59:Dot(v58.ZVector)\n    local v62 = math.abs(v61)\n    local v63 = v58.YVector:Dot(v60)\n    local v64 = math.abs(v63)\n    local v65 = v58.XVector:Dot(v60)\n    local v66 = math.abs(v65)\n    local v67 = p53:StepZoom()\n    local v68 = p53:_StepRotation(v57, v62)\n    local v69 = v_u_11(v67, 0.5, p53.assemblyRadius, 1, 0)\n    local v70 = p53:_GetThirdPersonLocalOffset():Lerp(p53:_GetFirstPersonLocalOffset(v58), v69)\n    v56:setTransform(v58)\n    local v71 = v56:step(v57, v66, v64, v69)\n    local v72 = CFrame.new(v58 * v70) * v71 * v68\n    return v72 * CFrame.new(0, 0, v67), v72\nend\nfunction v_u_15.ApplyVRTransform(_) end\nreturn v_u_15"},{"Path":"StarterPlayer.StarterPlayerScripts.PlayerModule.CameraModule.VehicleCamera.VehicleCameraCore","Name":"VehicleCameraCore","ClassName":"ModuleScript","Category":"StarterPlayerScripts","FileName":"VehicleCameraCore21.lua","Source":"-- Decompiled with Velocity Script Decompiler\nlocal v1 = require(script.Parent.Parent.CameraUtils)\nlocal v_u_2 = require(script.Parent.VehicleCameraConfig)\nlocal v_u_3 = v1.map\nlocal v_u_4 = v1.mapClamp\nlocal v_u_5 = v1.sanitizeAngle\nlocal v_u_6 = {}\nv_u_6.__index = v_u_6\nfunction v_u_6.new(p7, p8, p9)\n    -- upvalues: (copy) v_u_6\n    local v10 = {\n        [\"fRising\"] = p7,\n        [\"fFalling\"] = p8,\n        [\"g\"] = p9,\n        [\"p\"] = p9,\n        [\"v\"] = p9 * 0\n    }\n    local v11 = v_u_6\n    return setmetatable(v10, v11)\nend\nfunction v_u_6.step(p12, p13)\n    local v14 = p12.fRising\n    local v15 = p12.fFalling\n    local v16 = p12.g\n    local v17 = p12.p\n    local v18 = p12.v\n    local v19 = 6.283185307179586\n    if v18 > 0 then\n        v15 = v14 or v15\n    end\n    local v20 = v19 * v15\n    local v21 = v17 - v16\n    local v22 = -v20 * p13\n    local v23 = math.exp(v22)\n    local v24 = (v21 * (1 + v20 * p13) + v18 * p13) * v23 + v16\n    local v25 = (v18 * (1 - v20 * p13) - v21 * (v20 * v20 * p13)) * v23\n    p12.p = v24\n    p12.v = v25\n    return v24\nend\nlocal v_u_26 = {}\nv_u_26.__index = v_u_26\nfunction v_u_26.new(p27)\n    -- upvalues: (copy) v_u_5, (copy) v_u_6, (copy) v_u_2, (copy) v_u_26\n    local v28 = typeof(p27) == \"CFrame\"\n    assert(v28)\n    local v29 = {}\n    local _, v30 = p27:toEulerAnglesYXZ()\n    v29.yawG = v_u_5(v30)\n    local _, v31 = p27:toEulerAnglesYXZ()\n    v29.yawP = v_u_5(v31)\n    v29.yawV = 0\n    v29.pitchG = v_u_5((p27:toEulerAnglesYXZ()))\n    v29.pitchP = v_u_5((p27:toEulerAnglesYXZ()))\n    v29.pitchV = 0\n    v29.fSpringYaw = v_u_6.new(v_u_2.yawReponseDampingRising, v_u_2.yawResponseDampingFalling, 0)\n    v29.fSpringPitch = v_u_6.new(v_u_2.pitchReponseDampingRising, v_u_2.pitchResponseDampingFalling, 0)\n    local v32 = v_u_26\n    return setmetatable(v29, v32)\nend\nfunction v_u_26.setGoal(p33, p34)\n    -- upvalues: (copy) v_u_5\n    local v35 = typeof(p34) == \"CFrame\"\n    assert(v35)\n    local _, v36 = p34:toEulerAnglesYXZ()\n    p33.yawG = v_u_5(v36)\n    p33.pitchG = v_u_5((p34:toEulerAnglesYXZ()))\nend\nfunction v_u_26.getCFrame(p37)\n    return CFrame.fromEulerAnglesYXZ(p37.pitchP, p37.yawP, 0)\nend\nfunction v_u_26.step(p38, p39, p40, p41, p42)\n    -- upvalues: (copy) v_u_4, (copy) v_u_3, (copy) v_u_2, (copy) v_u_5\n    local v43 = typeof(p39) == \"number\"\n    assert(v43)\n    local v44 = typeof(p41) == \"number\"\n    assert(v44)\n    local v45 = typeof(p40) == \"number\"\n    assert(v45)\n    local v46 = typeof(p42) == \"number\"\n    assert(v46)\n    local v47 = p38.fSpringYaw\n    local v48 = p38.fSpringPitch\n    local v49 = v_u_4\n    local v50 = v_u_3(p42, 0, 1, p41, 0)\n    local v51 = v_u_2.cutoffMinAngularVelYaw\n    local v52 = math.rad(v51)\n    local v53 = v_u_2.cutoffMaxAngularVelYaw\n    v47.g = v49(v50, v52, math.rad(v53), 1, 0)\n    local v54 = v_u_4\n    local v55 = v_u_3(p42, 0, 1, p40, 0)\n    local v56 = v_u_2.cutoffMinAngularVelPitch\n    local v57 = math.rad(v56)\n    local v58 = v_u_2.cutoffMaxAngularVelPitch\n    v48.g = v54(v55, v57, math.rad(v58), 1, 0)\n    local v59 = 6.283185307179586 * v_u_2.yawStiffness * v47:step(p39)\n    local v60 = 6.283185307179586 * v_u_2.pitchStiffness * v48:step(p39) * v_u_3(p42, 0, 1, 1, v_u_2.firstPersonResponseMul)\n    local v61 = v59 * v_u_3(p42, 0, 1, 1, v_u_2.firstPersonResponseMul)\n    local v62 = p38.yawG\n    local v63 = p38.yawP\n    local v64 = p38.yawV\n    local v65 = v_u_5(v63 - v62)\n    local v66 = -v61 * p39\n    local v67 = math.exp(v66)\n    local v68 = v_u_5((v65 * (1 + v61 * p39) + v64 * p39) * v67 + v62)\n    local v69 = (v64 * (1 - v61 * p39) - v65 * (v61 * v61 * p39)) * v67\n    p38.yawP = v68\n    p38.yawV = v69\n    local v70 = p38.pitchG\n    local v71 = p38.pitchP\n    local v72 = p38.pitchV\n    local v73 = v_u_5(v71 - v70)\n    local v74 = -v60 * p39\n    local v75 = math.exp(v74)\n    local v76 = v_u_5((v73 * (1 + v60 * p39) + v72 * p39) * v75 + v70)\n    local v77 = (v72 * (1 - v60 * p39) - v73 * (v60 * v60 * p39)) * v75\n    p38.pitchP = v76\n    p38.pitchV = v77\n    return p38:getCFrame()\nend\nlocal v_u_78 = {}\nv_u_78.__index = v_u_78\nfunction v_u_78.new(p79)\n    -- upvalues: (copy) v_u_26, (copy) v_u_78\n    local v80 = {\n        [\"vrs\"] = v_u_26.new(p79)\n    }\n    local v81 = v_u_78\n    return setmetatable(v80, v81)\nend\nfunction v_u_78.step(p82, p83, p84, p85, p86)\n    return p82.vrs:step(p83, p84, p85, p86)\nend\nfunction v_u_78.setTransform(p87, p88)\n    p87.vrs:setGoal(p88)\nend\nreturn v_u_78"},{"Path":"StarterPlayer.StarterPlayerScripts.PlayerModule.CameraModule.VehicleCamera.VehicleCameraConfig","Name":"VehicleCameraConfig","ClassName":"ModuleScript","Category":"StarterPlayerScripts","FileName":"VehicleCameraConfig22.lua","Source":"-- Decompiled with Velocity Script Decompiler\nreturn {\n    [\"pitchStiffness\"] = 0.5,\n    [\"yawStiffness\"] = 2.5,\n    [\"autocorrectDelay\"] = 1,\n    [\"autocorrectMinCarSpeed\"] = 16,\n    [\"autocorrectMaxCarSpeed\"] = 32,\n    [\"autocorrectResponse\"] = 0.5,\n    [\"cutoffMinAngularVelYaw\"] = 60,\n    [\"cutoffMaxAngularVelYaw\"] = 180,\n    [\"cutoffMinAngularVelPitch\"] = 15,\n    [\"cutoffMaxAngularVelPitch\"] = 60,\n    [\"pitchBaseAngle\"] = 18,\n    [\"pitchDeadzoneAngle\"] = 12,\n    [\"firstPersonResponseMul\"] = 10,\n    [\"yawReponseDampingRising\"] = 1,\n    [\"yawResponseDampingFalling\"] = 3,\n    [\"pitchReponseDampingRising\"] = 1,\n    [\"pitchResponseDampingFalling\"] = 3,\n    [\"verticalCenterOffset\"] = 0.33\n}"},{"Path":"StarterPlayer.StarterPlayerScripts.PlayerModule.CameraModule.LegacyCamera","Name":"LegacyCamera","ClassName":"ModuleScript","Category":"StarterPlayerScripts","FileName":"LegacyCamera23.lua","Source":"-- Decompiled with Velocity Script Decompiler\nVector2.new()\nrequire(script.Parent:WaitForChild(\"CameraUtils\"))\nlocal v_u_1 = require(script.Parent:WaitForChild(\"CameraInput\"))\nlocal v_u_2 = game:GetService(\"Players\")\nlocal v_u_3 = require(script.Parent:WaitForChild(\"BaseCamera\"))\nlocal v_u_4 = setmetatable({}, v_u_3)\nv_u_4.__index = v_u_4\nfunction v_u_4.new()\n    -- upvalues: (copy) v_u_3, (copy) v_u_4\n    local v5 = v_u_3.new()\n    local v6 = v_u_4\n    local v7 = setmetatable(v5, v6)\n    v7.cameraType = Enum.CameraType.Fixed\n    v7.lastUpdate = tick()\n    v7.lastDistanceToSubject = nil\n    return v7\nend\nfunction v_u_4.GetModuleName(_)\n    return \"LegacyCamera\"\nend\nfunction v_u_4.SetCameraToSubjectDistance(p8, p9)\n    -- upvalues: (copy) v_u_3\n    return v_u_3.SetCameraToSubjectDistance(p8, p9)\nend\nfunction v_u_4.Update(p10, p11)\n    -- upvalues: (copy) v_u_2, (copy) v_u_1\n    if not p10.cameraType then\n        return nil, nil\n    end\n    local v12 = tick()\n    local v13 = v12 - p10.lastUpdate\n    local v14 = workspace.CurrentCamera\n    local v15 = v14.CFrame\n    local v16 = v14.Focus\n    local v17 = v_u_2.LocalPlayer\n    local v18 = v_u_1.getRotation(p11)\n    if p10.lastUpdate == nil or v13 > 1 then\n        p10.lastDistanceToSubject = nil\n    end\n    local v19 = p10:GetSubjectPosition()\n    if p10.cameraType == Enum.CameraType.Fixed then\n        if v19 and (v17 and v14) then\n            local v20 = p10:GetCameraToSubjectDistance()\n            local v21 = p10:CalculateNewLookVectorFromArg(nil, v18)\n            v16 = v14.Focus\n            v15 = CFrame.new(v14.CFrame.p, v14.CFrame.p + v20 * v21)\n        end\n    elseif p10.cameraType == Enum.CameraType.Attach then\n        local v22 = p10:GetSubjectCFrame()\n        local v23 = v14.CFrame:ToEulerAnglesYXZ()\n        local _, v24 = v22:ToEulerAnglesYXZ()\n        local v25 = v23 - v18.Y\n        local v26 = math.clamp(v25, -1.3962634015954636, 1.3962634015954636)\n        v16 = CFrame.new(v22.p) * CFrame.fromEulerAnglesYXZ(v26, v24, 0)\n        v15 = v16 * CFrame.new(0, 0, p10:StepZoom())\n    else\n        if p10.cameraType ~= Enum.CameraType.Watch then\n            return v14.CFrame, v14.Focus\n        end\n        if v19 and (v17 and v14) then\n            local v27 = nil\n            if v19 == v14.CFrame.p then\n                warn(\"Camera cannot watch subject in same position as itself\")\n                return v14.CFrame, v14.Focus\n            end\n            local v28 = p10:GetHumanoid()\n            if v28 and v28.RootPart then\n                local v29 = v19 - v14.CFrame.p\n                v27 = v29.unit\n                if p10.lastDistanceToSubject and p10.lastDistanceToSubject == p10:GetCameraToSubjectDistance() then\n                    p10:SetCameraToSubjectDistance(v29.magnitude)\n                end\n            end\n            local v30 = p10:GetCameraToSubjectDistance()\n            local v31 = p10:CalculateNewLookVectorFromArg(v27, v18)\n            v16 = CFrame.new(v19)\n            v15 = CFrame.new(v19 - v30 * v31, v19)\n            p10.lastDistanceToSubject = v30\n        end\n    end\n    p10.lastUpdate = v12\n    return v15, v16\nend\nreturn v_u_4"},{"Path":"StarterPlayer.StarterPlayerScripts.PlayerModule.CameraModule.OrbitalCamera","Name":"OrbitalCamera","ClassName":"ModuleScript","Category":"StarterPlayerScripts","FileName":"OrbitalCamera24.lua","Source":"-- Decompiled with Velocity Script Decompiler\nlocal v_u_1 = require(script.Parent:WaitForChild(\"CameraUtils\"))\nlocal v_u_2 = require(script.Parent:WaitForChild(\"CameraInput\"))\nlocal v_u_3 = game:GetService(\"Players\")\nlocal v_u_4 = require(script.Parent:WaitForChild(\"BaseCamera\"))\nlocal v_u_5 = setmetatable({}, v_u_4)\nv_u_5.__index = v_u_5\nfunction v_u_5.new()\n    -- upvalues: (copy) v_u_4, (copy) v_u_5\n    local v6 = v_u_4.new()\n    local v7 = v_u_5\n    local v8 = setmetatable(v6, v7)\n    v8.lastUpdate = tick()\n    v8.changedSignalConnections = {}\n    v8.refAzimuthRad = nil\n    v8.curAzimuthRad = nil\n    v8.minAzimuthAbsoluteRad = nil\n    v8.maxAzimuthAbsoluteRad = nil\n    v8.useAzimuthLimits = nil\n    v8.curElevationRad = nil\n    v8.minElevationRad = nil\n    v8.maxElevationRad = nil\n    v8.curDistance = nil\n    v8.minDistance = nil\n    v8.maxDistance = nil\n    v8.gamepadDollySpeedMultiplier = 1\n    v8.lastUserPanCamera = tick()\n    v8.externalProperties = {}\n    v8.externalProperties.InitialDistance = 25\n    v8.externalProperties.MinDistance = 10\n    v8.externalProperties.MaxDistance = 100\n    v8.externalProperties.InitialElevation = 35\n    v8.externalProperties.MinElevation = 35\n    v8.externalProperties.MaxElevation = 35\n    v8.externalProperties.ReferenceAzimuth = -45\n    v8.externalProperties.CWAzimuthTravel = 90\n    v8.externalProperties.CCWAzimuthTravel = 90\n    v8.externalProperties.UseAzimuthLimits = false\n    v8:LoadNumberValueParameters()\n    return v8\nend\nfunction v_u_5.LoadOrCreateNumberValueParameter(p_u_9, p_u_10, p11, p_u_12)\n    local v13 = script:FindFirstChild(p_u_10)\n    if v13 and v13:IsA(p11) then\n        p_u_9.externalProperties[p_u_10] = v13.Value\n    else\n        if p_u_9.externalProperties[p_u_10] == nil then\n            return\n        end\n        v13 = Instance.new(p11)\n        v13.Name = p_u_10\n        v13.Parent = script\n        v13.Value = p_u_9.externalProperties[p_u_10]\n    end\n    if p_u_12 then\n        if p_u_9.changedSignalConnections[p_u_10] then\n            p_u_9.changedSignalConnections[p_u_10]:Disconnect()\n        end\n        p_u_9.changedSignalConnections[p_u_10] = v13.Changed:Connect(function(p14)\n            -- upvalues: (copy) p_u_9, (copy) p_u_10, (copy) p_u_12\n            p_u_9.externalProperties[p_u_10] = p14\n            p_u_12(p_u_9)\n        end)\n    end\nend\nfunction v_u_5.SetAndBoundsCheckAzimuthValues(p15)\n    local v16 = p15.externalProperties.ReferenceAzimuth\n    local v17 = math.rad(v16)\n    local v18 = p15.externalProperties.CWAzimuthTravel\n    local v19 = math.rad(v18)\n    p15.minAzimuthAbsoluteRad = v17 - math.abs(v19)\n    local v20 = p15.externalProperties.ReferenceAzimuth\n    local v21 = math.rad(v20)\n    local v22 = p15.externalProperties.CCWAzimuthTravel\n    local v23 = math.rad(v22)\n    p15.maxAzimuthAbsoluteRad = v21 + math.abs(v23)\n    p15.useAzimuthLimits = p15.externalProperties.UseAzimuthLimits\n    if p15.useAzimuthLimits then\n        local v24 = p15.curAzimuthRad\n        local v25 = p15.minAzimuthAbsoluteRad\n        p15.curAzimuthRad = math.max(v24, v25)\n        local v26 = p15.curAzimuthRad\n        local v27 = p15.maxAzimuthAbsoluteRad\n        p15.curAzimuthRad = math.min(v26, v27)\n    end\nend\nfunction v_u_5.SetAndBoundsCheckElevationValues(p28)\n    local v29 = p28.externalProperties.MinElevation\n    local v30 = math.max(v29, -80)\n    local v31 = p28.externalProperties.MaxElevation\n    local v32 = math.min(v31, 80)\n    local v33 = math.min(v30, v32)\n    p28.minElevationRad = math.rad(v33)\n    local v34 = math.max(v30, v32)\n    p28.maxElevationRad = math.rad(v34)\n    local v35 = p28.curElevationRad\n    local v36 = p28.minElevationRad\n    p28.curElevationRad = math.max(v35, v36)\n    local v37 = p28.curElevationRad\n    local v38 = p28.maxElevationRad\n    p28.curElevationRad = math.min(v37, v38)\nend\nfunction v_u_5.SetAndBoundsCheckDistanceValues(p39)\n    p39.minDistance = p39.externalProperties.MinDistance\n    p39.maxDistance = p39.externalProperties.MaxDistance\n    local v40 = p39.curDistance\n    local v41 = p39.minDistance\n    p39.curDistance = math.max(v40, v41)\n    local v42 = p39.curDistance\n    local v43 = p39.maxDistance\n    p39.curDistance = math.min(v42, v43)\nend\nfunction v_u_5.LoadNumberValueParameters(p44)\n    p44:LoadOrCreateNumberValueParameter(\"InitialElevation\", \"NumberValue\", nil)\n    p44:LoadOrCreateNumberValueParameter(\"InitialDistance\", \"NumberValue\", nil)\n    p44:LoadOrCreateNumberValueParameter(\"ReferenceAzimuth\", \"NumberValue\", p44.SetAndBoundsCheckAzimuthValue)\n    p44:LoadOrCreateNumberValueParameter(\"CWAzimuthTravel\", \"NumberValue\", p44.SetAndBoundsCheckAzimuthValues)\n    p44:LoadOrCreateNumberValueParameter(\"CCWAzimuthTravel\", \"NumberValue\", p44.SetAndBoundsCheckAzimuthValues)\n    p44:LoadOrCreateNumberValueParameter(\"MinElevation\", \"NumberValue\", p44.SetAndBoundsCheckElevationValues)\n    p44:LoadOrCreateNumberValueParameter(\"MaxElevation\", \"NumberValue\", p44.SetAndBoundsCheckElevationValues)\n    p44:LoadOrCreateNumberValueParameter(\"MinDistance\", \"NumberValue\", p44.SetAndBoundsCheckDistanceValues)\n    p44:LoadOrCreateNumberValueParameter(\"MaxDistance\", \"NumberValue\", p44.SetAndBoundsCheckDistanceValues)\n    p44:LoadOrCreateNumberValueParameter(\"UseAzimuthLimits\", \"BoolValue\", p44.SetAndBoundsCheckAzimuthValues)\n    local v45 = p44.externalProperties.ReferenceAzimuth\n    p44.curAzimuthRad = math.rad(v45)\n    local v46 = p44.externalProperties.InitialElevation\n    p44.curElevationRad = math.rad(v46)\n    p44.curDistance = p44.externalProperties.InitialDistance\n    p44:SetAndBoundsCheckAzimuthValues()\n    p44:SetAndBoundsCheckElevationValues()\n    p44:SetAndBoundsCheckDistanceValues()\nend\nfunction v_u_5.GetModuleName(_)\n    return \"OrbitalCamera\"\nend\nfunction v_u_5.SetInitialOrientation(p47, p48)\n    -- upvalues: (copy) v_u_1\n    if p48 and p48.RootPart then\n        local v49 = p48.RootPart\n        assert(v49, \"\")\n        local v50 = (p48.RootPart.CFrame.LookVector - Vector3.new(0, 0.23, 0)).Unit\n        local v51 = v_u_1.GetAngleBetweenXZVectors(v50, p47:GetCameraLookVector())\n        local v52 = p47:GetCameraLookVector().Y\n        local v53 = math.asin(v52)\n        local v54 = v50.Y\n        local v55 = v53 - math.asin(v54)\n        v_u_1.IsFinite(v51)\n        v_u_1.IsFinite(v55)\n    else\n        warn(\"OrbitalCamera could not set initial orientation due to missing humanoid\")\n    end\nend\nfunction v_u_5.GetCameraToSubjectDistance(p56)\n    return p56.curDistance\nend\nfunction v_u_5.SetCameraToSubjectDistance(p57, p58)\n    -- upvalues: (copy) v_u_3\n    if v_u_3.LocalPlayer then\n        local v59 = p57.minDistance\n        local v60 = p57.maxDistance\n        p57.currentSubjectDistance = math.clamp(p58, v59, v60)\n        local v61 = p57.currentSubjectDistance\n        local v62 = p57.FIRST_PERSON_DISTANCE_THRESHOLD\n        p57.currentSubjectDistance = math.max(v61, v62)\n    end\n    p57.inFirstPerson = false\n    p57:UpdateMouseBehavior()\n    return p57.currentSubjectDistance\nend\nfunction v_u_5.CalculateNewLookVector(p63, p64, p65)\n    local v66 = p64 or p63:GetCameraLookVector()\n    local v67 = v66.Y\n    local v68 = math.asin(v67)\n    local v69 = p65.Y\n    local v70 = v68 - 1.3962634015954636\n    local v71 = v68 - -1.3962634015954636\n    local v72 = math.clamp(v69, v70, v71)\n    local v73 = Vector2.new(p65.X, v72)\n    local v74 = CFrame.new(Vector3.new(0, 0, 0), v66)\n    return (CFrame.Angles(0, -v73.X, 0) * v74 * CFrame.Angles(-v73.Y, 0, 0)).LookVector\nend\nfunction v_u_5.Update(p75, p76)\n    -- upvalues: (copy) v_u_2, (copy) v_u_3\n    local v77 = tick()\n    local v78 = v77 - p75.lastUpdate\n    local v79 = v_u_2.getRotation(p76) ~= Vector2.new()\n    local v80 = workspace.CurrentCamera\n    local v81 = v80.CFrame\n    local v82 = v80.Focus\n    local v83 = v_u_3.LocalPlayer\n    local v84\n    if v80 then\n        v84 = v80.CameraSubject\n    else\n        v84 = v80\n    end\n    local v85\n    if v84 then\n        v85 = v84:IsA(\"VehicleSeat\")\n    else\n        v85 = v84\n    end\n    local v86\n    if v84 then\n        v86 = v84:IsA(\"SkateboardPlatform\")\n    else\n        v86 = v84\n    end\n    if p75.lastUpdate == nil or v78 > 1 then\n        p75.lastCameraTransform = nil\n    end\n    if v79 then\n        p75.lastUserPanCamera = tick()\n    end\n    local v87 = p75:GetSubjectPosition()\n    if v87 and (v83 and v80) then\n        if p75.gamepadDollySpeedMultiplier ~= 1 then\n            p75:SetCameraToSubjectDistance(p75.currentSubjectDistance * p75.gamepadDollySpeedMultiplier)\n        end\n        v82 = CFrame.new(v87)\n        local v88 = v_u_2.getRotation(p76)\n        p75.curAzimuthRad = p75.curAzimuthRad - v88.X\n        if p75.useAzimuthLimits then\n            local v89 = p75.curAzimuthRad\n            local v90 = p75.minAzimuthAbsoluteRad\n            local v91 = p75.maxAzimuthAbsoluteRad\n            p75.curAzimuthRad = math.clamp(v89, v90, v91)\n        else\n            local v92\n            if p75.curAzimuthRad == 0 then\n                v92 = 0\n            else\n                local v93 = p75.curAzimuthRad\n                local v94 = math.sign(v93)\n                local v95 = p75.curAzimuthRad\n                v92 = v94 * (math.abs(v95) % 6.283185307179586) or 0\n            end\n            p75.curAzimuthRad = v92\n        end\n        local v96 = p75.curElevationRad + v88.Y\n        local v97 = p75.minElevationRad\n        local v98 = p75.maxElevationRad\n        p75.curElevationRad = math.clamp(v96, v97, v98)\n        local v99 = v87 + p75.currentSubjectDistance * (CFrame.fromEulerAnglesYXZ(-p75.curElevationRad, p75.curAzimuthRad, 0) * Vector3.new(0, 0, 1))\n        v81 = CFrame.new(v99, v87)\n        p75.lastCameraTransform = v81\n        p75.lastCameraFocus = v82\n        if (v85 or v86) and v84:IsA(\"BasePart\") then\n            p75.lastSubjectCFrame = v84.CFrame\n        else\n            p75.lastSubjectCFrame = nil\n        end\n    end\n    p75.lastUpdate = v77\n    return v81, v82\nend\nreturn v_u_5"},{"Path":"StarterPlayer.StarterPlayerScripts.PlayerModule.CameraModule.ZoomController","Name":"ZoomController","ClassName":"ModuleScript","Category":"StarterPlayerScripts","FileName":"ZoomController25.lua","Source":"-- Decompiled with Velocity Script Decompiler\nlocal v_u_1 = require(script:WaitForChild(\"Popper\"))\nlocal v_u_2 = math.clamp\nlocal v_u_3 = math.exp\nlocal v_u_4 = math.min\nlocal v_u_5 = math.max\nlocal v_u_6 = nil\nlocal v_u_7 = nil\nlocal v_u_8 = game:GetService(\"Players\").LocalPlayer\nassert(v_u_8)\nlocal function v9()\n    -- upvalues: (ref) v_u_6, (copy) v_u_8, (ref) v_u_7\n    v_u_6 = v_u_8.CameraMinZoomDistance\n    v_u_7 = v_u_8.CameraMaxZoomDistance\nend\nv_u_6 = v_u_8.CameraMinZoomDistance\nv_u_7 = v_u_8.CameraMaxZoomDistance\nv_u_8:GetPropertyChangedSignal(\"CameraMinZoomDistance\"):Connect(v9)\nv_u_8:GetPropertyChangedSignal(\"CameraMaxZoomDistance\"):Connect(v9)\nlocal v_u_10 = {}\nv_u_10.__index = v_u_10\nfunction v_u_10.new(p11, p12, p13, p14)\n    -- upvalues: (copy) v_u_2, (copy) v_u_10\n    local v15 = v_u_2(p12, p13, p14)\n    local v16 = v_u_10\n    return setmetatable({\n        [\"freq\"] = p11,\n        [\"x\"] = v15,\n        [\"v\"] = 0,\n        [\"minValue\"] = p13,\n        [\"maxValue\"] = p14,\n        [\"goal\"] = v15\n    }, v16)\nend\nfunction v_u_10.Step(p17, p18)\n    -- upvalues: (copy) v_u_3\n    local v19 = p17.freq * 2 * 3.141592653589793\n    local v20 = p17.x\n    local v21 = p17.v\n    local v22 = p17.minValue\n    local v23 = p17.maxValue\n    local v24 = p17.goal\n    local v25 = v24 - v20\n    local v26 = v19 * p18\n    local v27 = v_u_3(-v26)\n    local v28 = v24 + (v21 * p18 - v25 * (v26 + 1)) * v27\n    local v29 = ((v25 * v19 - v21) * v26 + v21) * v27\n    if v28 < v22 then\n        v23 = v22\n        v29 = 0\n    elseif v23 < v28 then\n        v29 = 0\n    else\n        v23 = v28\n    end\n    p17.x = v23\n    p17.v = v29\n    return v23\nend\nlocal v_u_30 = v_u_10.new(4.5, 12.5, 0.5, v_u_7)\nlocal v_u_31 = 0\nreturn {\n    [\"Update\"] = function(p32, p33, p34)\n        -- upvalues: (copy) v_u_30, (ref) v_u_31, (ref) v_u_6, (ref) v_u_7, (copy) v_u_2, (copy) v_u_5, (copy) v_u_1, (copy) v_u_4\n        local v35\n        if v_u_30.goal > 1 then\n            local v36 = v_u_30.x\n            local v37 = v_u_30.goal\n            local v38 = v_u_31\n            local v39 = v_u_6\n            local v40 = v_u_7\n            local v41 = v_u_2(v37 + v38 * (v37 * 0.0375 + 1), v39, v40)\n            local v42 = v_u_5(v36, v41 < 1 and (v38 <= 0 and v39 and v39 or 1) or v41)\n            v35 = v_u_1(p33 * CFrame.new(0, 0, 0.5), v42 - 0.5, p34) + 0.5\n        else\n            v35 = (1 / 0)\n        end\n        v_u_30.minValue = 0.5\n        v_u_30.maxValue = v_u_4(v_u_7, v35)\n        return v_u_30:Step(p32)\n    end,\n    [\"GetZoomRadius\"] = function()\n        -- upvalues: (copy) v_u_30\n        return v_u_30.x\n    end,\n    [\"SetZoomParameters\"] = function(p43, p44)\n        -- upvalues: (copy) v_u_30, (ref) v_u_31\n        v_u_30.goal = p43\n        v_u_31 = p44\n    end,\n    [\"ReleaseSpring\"] = function()\n        -- upvalues: (copy) v_u_30\n        v_u_30.x = v_u_30.goal\n        v_u_30.v = 0\n    end\n}"},{"Path":"StarterPlayer.StarterPlayerScripts.PlayerModule.CameraModule.ZoomController.Popper","Name":"Popper","ClassName":"ModuleScript","Category":"StarterPlayerScripts","FileName":"Popper26.lua","Source":"-- Decompiled with Velocity Script Decompiler\nlocal v1 = game:GetService(\"Players\")\nlocal v2 = script.Parent.Parent.Parent:WaitForChild(\"CommonUtils\")\nlocal v3 = require(v2:WaitForChild(\"FlagUtil\"))\nlocal v4 = require(v2:WaitForChild(\"CameraWrapper\"))\nlocal v5 = require(v2:WaitForChild(\"ConnectionUtil\"))\nlocal v_u_6 = v3.getUserFlag(\"UserRaycastUpdateAPI\")\nlocal v_u_7 = v3.getUserFlag(\"UserCurrentCameraUpdate2\")\nlocal v_u_8 = v3.getUserFlag(\"UserPlayerConnectionMemoryLeak\")\nlocal v_u_9\nif v_u_7 then\n    v_u_9 = v4.new()\nelse\n    v_u_9 = nil\nend\nlocal v_u_10\nif v_u_7 then\n    v_u_10 = nil\nelse\n    v_u_10 = game.Workspace.CurrentCamera\nend\nif v_u_7 then\n    v_u_9:Enable()\nend\nlocal v_u_11 = math.min\nlocal v_u_12 = math.tan\nlocal v_u_13 = math.rad\nlocal v_u_14 = Ray.new\nlocal v_u_15 = RaycastParams.new()\nv_u_15.IgnoreWater = true\nv_u_15.FilterType = Enum.RaycastFilterType.Exclude\nlocal v_u_16 = RaycastParams.new()\nv_u_16.IgnoreWater = true\nv_u_16.FilterType = Enum.RaycastFilterType.Include\nlocal v_u_17\nif v_u_8 then\n    v_u_17 = v5.new()\nelse\n    v_u_17 = nil\nend\nlocal v_u_18 = nil\nlocal v_u_19 = nil\nlocal v_u_20, v_u_21, v_u_22\nif v_u_7 then\n    local function v27()\n        -- upvalues: (copy) v_u_9, (copy) v_u_13, (ref) v_u_19, (copy) v_u_12, (ref) v_u_18\n        local v23 = v_u_9:getCamera()\n        local v24 = v_u_13(v23.FieldOfView)\n        local v25 = v23.ViewportSize\n        local v26 = v25.X / v25.Y\n        v_u_19 = v_u_12(v24 / 2) * 2\n        v_u_18 = v26 * v_u_19\n    end\n    v_u_9:Connect(\"FieldOfView\", v27)\n    v_u_9:Connect(\"ViewportSize\", v27)\n    local v28 = v_u_9:getCamera()\n    local v29 = v_u_13(v28.FieldOfView)\n    local v30 = v28.ViewportSize\n    local v31 = v30.X / v30.Y\n    local v32 = v_u_12(v29 / 2) * 2\n    local v33 = v31 * v32\n    local v_u_34 = v_u_9:getCamera().NearPlaneZ\n    v_u_9:Connect(\"NearPlaneZ\", function()\n        -- upvalues: (ref) v_u_34, (copy) v_u_9\n        v_u_34 = v_u_9:getCamera().NearPlaneZ\n    end)\n    v_u_20 = v32\n    v_u_21 = v33\n    v_u_22 = v_u_34\nelse\n    local function v38()\n        -- upvalues: (ref) v_u_10, (copy) v_u_13, (ref) v_u_19, (copy) v_u_12, (ref) v_u_18\n        local v35 = v_u_13(v_u_10.FieldOfView)\n        local v36 = v_u_10.ViewportSize\n        local v37 = v36.X / v36.Y\n        v_u_19 = v_u_12(v35 / 2) * 2\n        v_u_18 = v37 * v_u_19\n    end\n    v_u_10:GetPropertyChangedSignal(\"FieldOfView\"):Connect(v38)\n    v_u_10:GetPropertyChangedSignal(\"ViewportSize\"):Connect(v38)\n    local v39 = v_u_13(v_u_10.FieldOfView)\n    local v40 = v_u_10.ViewportSize\n    local v41 = v40.X / v40.Y\n    local v42 = v_u_12(v39 / 2) * 2\n    local v43 = v41 * v42\n    local v_u_44 = v_u_10.NearPlaneZ\n    v_u_10:GetPropertyChangedSignal(\"NearPlaneZ\"):Connect(function()\n        -- upvalues: (ref) v_u_44, (ref) v_u_10\n        v_u_44 = v_u_10.NearPlaneZ\n    end)\n    v_u_20 = v42\n    v_u_21 = v43\n    v_u_22 = v_u_44\nend\nlocal v_u_45 = {}\nlocal v_u_46 = {}\nlocal function v57(p_u_47)\n    -- upvalues: (copy) v_u_46, (ref) v_u_45, (copy) v_u_8, (copy) v_u_17\n    local function v51(p48)\n        -- upvalues: (ref) v_u_46, (copy) p_u_47, (ref) v_u_45\n        v_u_46[p_u_47] = p48\n        local v49 = 1\n        v_u_45 = {}\n        for _, v50 in pairs(v_u_46) do\n            v_u_45[v49] = v50\n            v49 = v49 + 1\n        end\n    end\n    local function v54()\n        -- upvalues: (ref) v_u_46, (copy) p_u_47, (ref) v_u_45\n        v_u_46[p_u_47] = nil\n        local v52 = 1\n        v_u_45 = {}\n        for _, v53 in pairs(v_u_46) do\n            v_u_45[v52] = v53\n            v52 = v52 + 1\n        end\n    end\n    if v_u_8 then\n        v_u_17:trackConnection((\"%*CharacterAdded\"):format(p_u_47.UserId), p_u_47.CharacterAdded:Connect(v51))\n        v_u_17:trackConnection((\"%*CharacterRemoving\"):format(p_u_47.UserId), p_u_47.CharacterRemoving:Connect(v54))\n    else\n        p_u_47.CharacterAdded:Connect(v51)\n        p_u_47.CharacterRemoving:Connect(v54)\n    end\n    if p_u_47.Character then\n        v_u_46[p_u_47] = p_u_47.Character\n        local v55 = 1\n        v_u_45 = {}\n        for _, v56 in pairs(v_u_46) do\n            v_u_45[v55] = v56\n            v55 = v55 + 1\n        end\n    end\nend\nlocal function v61(p58)\n    -- upvalues: (copy) v_u_46, (ref) v_u_45, (copy) v_u_8, (copy) v_u_17\n    v_u_46[p58] = nil\n    local v59 = 1\n    v_u_45 = {}\n    for _, v60 in pairs(v_u_46) do\n        v_u_45[v59] = v60\n        v59 = v59 + 1\n    end\n    if v_u_8 then\n        v_u_17:disconnect(((\"%*CharacterAdded\"):format(p58.UserId)))\n        v_u_17:disconnect(((\"%*CharacterRemoving\"):format(p58.UserId)))\n    end\nend\nv1.PlayerAdded:Connect(v57)\nv1.PlayerRemoving:Connect(v61)\nfor _, v62 in ipairs(v1:GetPlayers()) do\n    v57(v62)\nend\nlocal v63 = 1\nv_u_45 = {}\nlocal v_u_64 = v_u_45\nfor _, v65 in pairs(v_u_46) do\n    v_u_64[v63] = v65\n    v63 = v63 + 1\nend\nlocal v_u_66 = nil\nlocal v_u_67 = nil\nif v_u_7 then\n    v_u_9:Connect(\"CameraSubject\", function()\n        -- upvalues: (copy) v_u_9, (ref) v_u_67\n        local v68 = v_u_9:getCamera().CameraSubject\n        if v68 and v68:IsA(\"Humanoid\") then\n            v_u_67 = v68.RootPart\n            return\n        elseif v68 and v68:IsA(\"BasePart\") then\n            v_u_67 = v68\n        else\n            v_u_67 = nil\n        end\n    end)\nelse\n    v_u_10:GetPropertyChangedSignal(\"CameraSubject\"):Connect(function()\n        -- upvalues: (ref) v_u_10, (ref) v_u_67\n        local v69 = v_u_10.CameraSubject\n        if v69:IsA(\"Humanoid\") then\n            v_u_67 = v69.RootPart\n            return\n        elseif v69:IsA(\"BasePart\") then\n            v_u_67 = v69\n        else\n            v_u_67 = nil\n        end\n    end)\nend\nlocal v_u_70 = {\n    Vector2.new(0.4, 0),\n    Vector2.new(-0.4, 0),\n    Vector2.new(0, -0.4),\n    Vector2.new(0, 0.4),\n    Vector2.new(0, 0.2)\n}\nlocal function v_u_81(p71, p72)\n    -- upvalues: (copy) v_u_6, (copy) v_u_15, (ref) v_u_64, (copy) v_u_14\n    if v_u_6 then\n        v_u_15.FilterDescendantsInstances = v_u_64\n        while true do\n            local v73 = workspace:Raycast(p71, p72, v_u_15)\n            if v73 then\n                if v73.Instance.CanCollide then\n                    return v73.Position, true\n                end\n                v_u_15:AddToFilter(v73.Instance)\n            end\n            if not v73 then\n                ::l8::\n                return p71 + p72, false\n            end\n        end\n    else\n        local v74 = #v_u_64\n        while true do\n            local v75, v76 = workspace:FindPartOnRayWithIgnoreList(v_u_14(p71, p72), v_u_64, false, true)\n            if v75 then\n                if v75.CanCollide then\n                    local v77 = v_u_64\n                    for v78 = #v77, v74 + 1, -1 do\n                        v77[v78] = nil\n                    end\n                    return v76, true\n                end\n                v_u_64[#v_u_64 + 1] = v75\n            end\n            if not v75 then\n                local v79 = v_u_64\n                for v80 = #v79, v74 + 1, -1 do\n                    v79[v80] = nil\n                end\n                goto l8\n            end\n        end\n    end\nend\nlocal function v_u_109(p82, p83, p84, p85)\n    -- upvalues: (ref) v_u_64, (ref) v_u_22, (copy) v_u_6, (copy) v_u_15, (ref) v_u_66, (copy) v_u_16, (copy) v_u_14\n    debug.profilebegin(\"queryPoint\")\n    local v86 = #v_u_64\n    local v87 = p84 + v_u_22\n    local v88 = p82 + p83 * v87\n    local v89 = (1 / 0)\n    local v90 = (1 / 0)\n    local v91 = 0\n    local v92\n    if v_u_6 then\n        v_u_15.FilterDescendantsInstances = v_u_64\n        local v93 = p82\n        while true do\n            local v94 = workspace:Raycast(p82, v88 - p82, v_u_15)\n            if not v94 then\n                v92 = v89\n                break\n            end\n            v91 = v91 + 1\n            local v95 = v94.Instance\n            local v96 = v94.Position\n            v92 = (v96 - v93).Magnitude\n            if v91 >= 64 then\n                v90 = v92\n                v92 = v89\n            else\n                local v97 = 1 - (1 - v95.Transparency) * (1 - v95.LocalTransparencyModifier) < 0.25 and v95.CanCollide\n                if v97 then\n                    if v_u_66 == (v95:GetRootPart() or v95) then\n                        v97 = false\n                    else\n                        v97 = not v95:IsA(\"TrussPart\")\n                    end\n                end\n                if v97 then\n                    v_u_16.FilterDescendantsInstances = { v95 }\n                    if workspace:Raycast(v88, v96 - v88, v_u_16) then\n                        local v98\n                        if p85 then\n                            v98 = workspace:Raycast(p85, v88 - p85, v_u_16) or workspace:Raycast(v88, p85 - v88, v_u_16)\n                        else\n                            v98 = false\n                        end\n                        if v98 then\n                            v90 = v92\n                            v92 = v89\n                        elseif v87 >= v89 then\n                            v92 = v89\n                        end\n                    else\n                        v90 = v92\n                        v92 = v89\n                    end\n                else\n                    v92 = v89\n                end\n            end\n            v_u_15:AddToFilter(v95)\n            p82 = v96 - p83 * 0.001\n            if v90 < (1 / 0) or not v95 then\n                break\n            end\n            v89 = v92\n        end\n    else\n        local v99 = p82\n        while true do\n            if true then\n                local v100, v101 = workspace:FindPartOnRayWithIgnoreList(v_u_14(p82, v88 - p82), v_u_64, false, true)\n                v91 = v91 + 1\n                if v100 then\n                    local v102 = v91 >= 64\n                    local v103 = 1 - (1 - v100.Transparency) * (1 - v100.LocalTransparencyModifier) < 0.25 and v100.CanCollide\n                    if v103 then\n                        if v_u_66 == (v100:GetRootPart() or v100) then\n                            v103 = false\n                        else\n                            v103 = not v100:IsA(\"TrussPart\")\n                        end\n                    end\n                    if v103 or v102 then\n                        local v104 = { v100 }\n                        local v105 = workspace:FindPartOnRayWithWhitelist(v_u_14(v88, v101 - v88), v104, true)\n                        v92 = (v101 - v99).Magnitude\n                        if v105 and not v102 then\n                            local v106\n                            if p85 then\n                                v106 = workspace:FindPartOnRayWithWhitelist(v_u_14(p85, v88 - p85), v104, true) or workspace:FindPartOnRayWithWhitelist(v_u_14(v88, p85 - v88), v104, true)\n                            else\n                                v106 = false\n                            end\n                            if v106 then\n                                v90 = v92\n                                v92 = v89\n                            elseif v87 >= v89 then\n                                v92 = v89\n                            end\n                        else\n                            v90 = v92\n                            v92 = v89\n                        end\n                    else\n                        v92 = v89\n                    end\n                    v_u_64[#v_u_64 + 1] = v100\n                    p82 = v101 - p83 * 0.001\n                else\n                    v92 = v89\n                end\n            end\n            if v90 < (1 / 0) or not v100 then\n                break\n            end\n            v89 = v92\n        end\n        local v107 = v_u_64\n        for v108 = #v107, v86 + 1, -1 do\n            v107[v108] = nil\n        end\n    end\n    debug.profileend()\n    return v92 - v_u_22, v90 - v_u_22\nend\nlocal function v_u_125(p110, p111)\n    -- upvalues: (ref) v_u_10, (copy) v_u_7, (copy) v_u_9, (ref) v_u_21, (ref) v_u_20, (ref) v_u_22, (copy) v_u_109\n    debug.profilebegin(\"queryViewport\")\n    local v112 = p110.p\n    local v113 = p110.rightVector\n    local v114 = p110.upVector\n    local v115 = -p110.lookVector\n    local v116\n    if v_u_7 then\n        v116 = v_u_9:getCamera()\n    else\n        v116 = v_u_10\n    end\n    v_u_10 = v116\n    local v117 = v_u_10.ViewportSize\n    local v118 = (1 / 0)\n    local v119 = (1 / 0)\n    for v120 = 0, 1 do\n        local v121 = v113 * ((v120 - 0.5) * v_u_21)\n        for v122 = 0, 1 do\n            local v123, v124 = v_u_109(v112 + v_u_22 * (v121 + v114 * ((v122 - 0.5) * v_u_20)), v115, p111, v_u_10:ViewportPointToRay(v117.x * v120, v117.y * v122).Origin)\n            if v124 >= v118 then\n                v124 = v118\n            end\n            if v123 < v119 then\n                v119 = v123\n                v118 = v124\n            else\n                v118 = v124\n            end\n        end\n    end\n    debug.profileend()\n    return v119, v118\nend\nlocal function v_u_139(p126, p127, p128)\n    -- upvalues: (copy) v_u_81, (copy) v_u_11, (copy) v_u_109, (copy) v_u_70\n    debug.profilebegin(\"testPromotion\")\n    local v129 = p126.p\n    local v130 = p126.rightVector\n    local v131 = p126.upVector\n    local v132 = -p126.lookVector\n    debug.profilebegin(\"extrapolate\")\n    local v133 = (v_u_81(v129, p128.posVelocity * 1.25) - v129).Magnitude\n    local v134 = p128.posVelocity.magnitude\n    for v135 = 0, v_u_11(1.25, p128.rotVelocity.magnitude + v133 / v134), 0.0625 do\n        local v136 = p128.extrapolate(v135)\n        if p127 <= v_u_109(v136.p, -v136.lookVector, p127) then\n            return false\n        end\n    end\n    debug.profileend()\n    debug.profilebegin(\"testOffsets\")\n    for _, v137 in ipairs(v_u_70) do\n        local v138 = v_u_81(v129, v130 * v137.x + v131 * v137.y)\n        if v_u_109(v138, (v129 + v132 * p127 - v138).Unit, p127) == (1 / 0) then\n            return false\n        end\n    end\n    debug.profileend()\n    debug.profileend()\n    return true\nend\nreturn function(p140, p141, p142)\n    -- upvalues: (ref) v_u_66, (ref) v_u_67, (copy) v_u_125, (copy) v_u_139\n    debug.profilebegin(\"popper\")\n    v_u_66 = v_u_67 and v_u_67:GetRootPart() or v_u_67\n    local v143, v144 = v_u_125(p140, p141)\n    if v144 >= p141 then\n        v144 = p141\n    end\n    if v143 < v144 then\n        if not v_u_139(p140, p141, p142) then\n            v143 = v144\n        end\n    else\n        v143 = v144\n    end\n    v_u_66 = nil\n    debug.profileend()\n    return v143\nend"},{"Path":"StarterPlayer.StarterPlayerScripts.PlayerModule.CameraModule.BaseOcclusion","Name":"BaseOcclusion","ClassName":"ModuleScript","Category":"StarterPlayerScripts","FileName":"BaseOcclusion27.lua","Source":"-- Decompiled with Velocity Script Decompiler\nlocal v_u_1 = {}\nv_u_1.__index = v_u_1\nsetmetatable(v_u_1, {\n    [\"__call\"] = function(_, ...)\n        -- upvalues: (copy) v_u_1\n        return v_u_1.new(...)\n    end\n})\nfunction v_u_1.new()\n    -- upvalues: (copy) v_u_1\n    local v2 = v_u_1\n    return setmetatable({}, v2)\nend\nfunction v_u_1.CharacterAdded(_, _, _) end\nfunction v_u_1.CharacterRemoving(_, _, _) end\nfunction v_u_1.OnCameraSubjectChanged(_, _) end\nfunction v_u_1.GetOcclusionMode(_)\n    warn(\"BaseOcclusion GetOcclusionMode must be overridden by derived classes\")\n    return nil\nend\nfunction v_u_1.Enable(_, _)\n    warn(\"BaseOcclusion Enable must be overridden by derived classes\")\nend\nfunction v_u_1.Update(_, _, p3, p4)\n    warn(\"BaseOcclusion Update must be overridden by derived classes\")\n    return p3, p4\nend\nreturn v_u_1"},{"Path":"StarterPlayer.StarterPlayerScripts.PlayerModule.CameraModule.Invisicam","Name":"Invisicam","ClassName":"ModuleScript","Category":"StarterPlayerScripts","FileName":"Invisicam28.lua","Source":"-- Decompiled with Velocity Script Decompiler\nlocal v_u_1 = game:GetService(\"Players\")\nlocal v2 = script.Parent.Parent:WaitForChild(\"CommonUtils\")\nlocal v_u_3 = require(v2:WaitForChild(\"FlagUtil\")).getUserFlag(\"UserRaycastUpdateAPI\")\nlocal v_u_4 = {\n    [\"LIMBS\"] = 2,\n    [\"MOVEMENT\"] = 3,\n    [\"CORNERS\"] = 4,\n    [\"CIRCLE1\"] = 5,\n    [\"CIRCLE2\"] = 6,\n    [\"LIMBMOVE\"] = 7,\n    [\"SMART_CIRCLE\"] = 8,\n    [\"CHAR_OUTLINE\"] = 9\n}\nlocal v_u_5 = {\n    [\"Head\"] = true,\n    [\"Left Arm\"] = true,\n    [\"Right Arm\"] = true,\n    [\"Left Leg\"] = true,\n    [\"Right Leg\"] = true,\n    [\"LeftLowerArm\"] = true,\n    [\"RightLowerArm\"] = true,\n    [\"LeftUpperLeg\"] = true,\n    [\"RightUpperLeg\"] = true\n}\nlocal v_u_6 = {\n    Vector3.new(1, 1, -1),\n    Vector3.new(1, -1, -1),\n    Vector3.new(-1, -1, -1),\n    Vector3.new(-1, 1, -1)\n}\nlocal v_u_7 = RaycastParams.new()\nv_u_7.FilterType = Enum.RaycastFilterType.Exclude\nlocal v_u_8 = RaycastParams.new()\nv_u_8.FilterType = Enum.RaycastFilterType.Include\nlocal function v_u_16(p9, ...)\n    local v10 = {}\n    local v11 = \"\"\n    for _, v12 in pairs({ ... }) do\n        v10[v12] = true\n        v11 = v11 .. (v11 == \"\" and \"\" or \" or \") .. v12\n    end\n    local v13 = type(p9)\n    local v14 = v10[v13]\n    local v15 = v11 .. \" type expected, got: \" .. v13\n    assert(v14, v15)\nend\nlocal function v_u_52(p17, p18, p19, p20)\n    local v21 = p18:Cross(p20)\n    local v22 = p19.X - p17.X\n    local v23 = p19.Y - p17.Y\n    local v24 = p19.Z - p17.Z\n    local v25 = p18.X\n    local v26 = -p20.X\n    local v27 = v21.X\n    local v28 = p18.Y\n    local v29 = -p20.Y\n    local v30 = v21.Y\n    local v31 = p18.Z\n    local v32 = -p20.Z\n    local v33 = v21.Z\n    local v34 = v25 * (v29 * v33 - v30 * v32) - v26 * (v28 * v33 - v30 * v31) + v27 * (v28 * v32 - v29 * v31)\n    if v34 == 0 then\n        return Vector3.new(0, 0, 0)\n    end\n    local v35 = -p20.X\n    local v36 = v21.X\n    local v37 = -p20.Y\n    local v38 = v21.Y\n    local v39 = -p20.Z\n    local v40 = v21.Z\n    local v41 = (v22 * (v37 * v40 - v38 * v39) - v35 * (v23 * v40 - v38 * v24) + v36 * (v23 * v39 - v37 * v24)) / v34\n    local v42 = p18.X\n    local v43 = v21.X\n    local v44 = p18.Y\n    local v45 = v21.Y\n    local v46 = p18.Z\n    local v47 = v21.Z\n    local v48 = (v42 * (v23 * v47 - v45 * v24) - v22 * (v44 * v47 - v45 * v46) + v43 * (v44 * v24 - v23 * v46)) / v34\n    local v49 = p17 + v41 * p18\n    local v50 = p19 + v48 * p20\n    local v51 = v49 + 0.5 * (v50 - v49)\n    return (v50 - v49).Magnitude >= 0.25 and Vector3.new(0, 0, 0) or v51\nend\nlocal v_u_53 = require(script.Parent:WaitForChild(\"BaseOcclusion\"))\nlocal v_u_54 = setmetatable({}, v_u_53)\nv_u_54.__index = v_u_54\nfunction v_u_54.new()\n    -- upvalues: (copy) v_u_53, (copy) v_u_54, (copy) v_u_4\n    local v55 = v_u_53.new()\n    local v56 = v_u_54\n    local v57 = setmetatable(v55, v56)\n    v57.char = nil\n    v57.humanoidRootPart = nil\n    v57.torsoPart = nil\n    v57.headPart = nil\n    v57.childAddedConn = nil\n    v57.childRemovedConn = nil\n    v57.behaviors = {}\n    v57.behaviors[v_u_4.LIMBS] = v57.LimbBehavior\n    v57.behaviors[v_u_4.MOVEMENT] = v57.MoveBehavior\n    v57.behaviors[v_u_4.CORNERS] = v57.CornerBehavior\n    v57.behaviors[v_u_4.CIRCLE1] = v57.CircleBehavior\n    v57.behaviors[v_u_4.CIRCLE2] = v57.CircleBehavior\n    v57.behaviors[v_u_4.LIMBMOVE] = v57.LimbMoveBehavior\n    v57.behaviors[v_u_4.SMART_CIRCLE] = v57.SmartCircleBehavior\n    v57.behaviors[v_u_4.CHAR_OUTLINE] = v57.CharacterOutlineBehavior\n    v57.mode = v_u_4.SMART_CIRCLE\n    v57.behaviorFunction = v57.SmartCircleBehavior\n    v57.savedHits = {}\n    v57.trackedLimbs = {}\n    v57.camera = game.Workspace.CurrentCamera\n    v57.enabled = false\n    return v57\nend\nfunction v_u_54.Enable(p58, p59)\n    p58.enabled = p59\n    if not p59 then\n        p58:Cleanup()\n    end\nend\nfunction v_u_54.GetOcclusionMode(_)\n    return Enum.DevCameraOcclusionMode.Invisicam\nend\nfunction v_u_54.LimbBehavior(p60, p61)\n    for v62, _ in pairs(p60.trackedLimbs) do\n        p61[#p61 + 1] = v62.Position\n    end\nend\nfunction v_u_54.MoveBehavior(p63, p64)\n    for v65 = 1, 3 do\n        local v66 = p63.humanoidRootPart.Position\n        local v67 = p63.humanoidRootPart.Velocity\n        local v68 = v67.X\n        local v69 = v67.Z\n        local v70 = Vector3.new(v68, 0, v69).Magnitude / 2\n        local v71 = (v65 - 1) * p63.humanoidRootPart.CFrame.lookVector * v70\n        p64[#p64 + 1] = v66 + v71\n    end\nend\nfunction v_u_54.CornerBehavior(p72, p73)\n    -- upvalues: (copy) v_u_6\n    local v74 = p72.humanoidRootPart.CFrame\n    local v75 = v74.Position\n    local v76 = v74 - v75\n    local v77 = p72.char:GetExtentsSize() / 2\n    p73[#p73 + 1] = v75\n    for v78 = 1, #v_u_6 do\n        p73[#p73 + 1] = v75 + v76 * (v77 * v_u_6[v78])\n    end\nend\nfunction v_u_54.CircleBehavior(p79, p80)\n    -- upvalues: (copy) v_u_4\n    local v81\n    if p79.mode == v_u_4.CIRCLE1 then\n        v81 = p79.humanoidRootPart.CFrame\n    else\n        local v82 = p79.camera.CoordinateFrame\n        v81 = v82 - v82.Position + p79.humanoidRootPart.Position\n    end\n    p80[#p80 + 1] = v81.Position\n    for v83 = 0, 9 do\n        local v84 = 0.6283185307179586 * v83\n        local v85 = math.cos(v84)\n        local v86 = math.sin(v84)\n        local v87 = 3 * Vector3.new(v85, v86, 0)\n        p80[#p80 + 1] = v81 * v87\n    end\nend\nfunction v_u_54.LimbMoveBehavior(p88, p89)\n    p88:LimbBehavior(p89)\n    p88:MoveBehavior(p89)\nend\nfunction v_u_54.CharacterOutlineBehavior(p90, p91)\n    -- upvalues: (copy) v_u_3, (copy) v_u_8\n    local v92 = p90.torsoPart.CFrame.upVector.unit\n    local v93 = p90.torsoPart.CFrame.rightVector.unit\n    p91[#p91 + 1] = p90.torsoPart.CFrame.p\n    p91[#p91 + 1] = p90.torsoPart.CFrame.p + v92\n    p91[#p91 + 1] = p90.torsoPart.CFrame.p - v92\n    p91[#p91 + 1] = p90.torsoPart.CFrame.p + v93\n    p91[#p91 + 1] = p90.torsoPart.CFrame.p - v93\n    if p90.headPart then\n        p91[#p91 + 1] = p90.headPart.CFrame.p\n    end\n    local v94 = CFrame.new\n    local v95 = p90.camera.CoordinateFrame.lookVector.X\n    local v96 = p90.camera.CoordinateFrame.lookVector.Z\n    local v97 = v94(Vector3.new(0, 0, 0), (Vector3.new(v95, 0, v96)))\n    local v98 = p90.torsoPart and p90.torsoPart.Position or p90.humanoidRootPart.Position\n    local v99 = { p90.torsoPart }\n    if p90.headPart then\n        v99[#v99 + 1] = p90.headPart\n    end\n    for v100 = 1, 24 do\n        local v101 = 6.283185307179586 * v100 / 24\n        local v102 = math.cos(v101)\n        local v103 = math.sin(v101)\n        local v104 = v97 * (3 * Vector3.new(v102, v103, 0))\n        local v105 = v104.X\n        local v106 = v104.Y\n        local v107 = math.max(v106, -2.25)\n        local v108 = v104.Z\n        local v109 = Vector3.new(v105, v107, v108)\n        if v_u_3 then\n            v_u_8.FilterDescendantsInstances = v99\n            local v110 = game.Workspace:Raycast(v98 + v109, -3 * v109, v_u_8)\n            if v110 then\n                local v111 = v110.Position\n                p91[#p91 + 1] = v111 + 0.2 * (v98 - v111).unit\n            end\n        else\n            local v112 = Ray.new(v98 + v109, -3 * v109)\n            local v113, v114 = game.Workspace:FindPartOnRayWithWhitelist(v112, v99, false)\n            if v113 then\n                p91[#p91 + 1] = v114 + 0.2 * (v98 - v114).unit\n            end\n        end\n    end\nend\nfunction v_u_54.SmartCircleBehavior(p115, p116)\n    -- upvalues: (copy) v_u_3, (copy) v_u_7, (copy) v_u_52\n    local v117 = p115.torsoPart.CFrame.upVector.unit\n    local v118 = p115.torsoPart.CFrame.rightVector.unit\n    p116[#p116 + 1] = p115.torsoPart.CFrame.p\n    p116[#p116 + 1] = p115.torsoPart.CFrame.p + v117\n    p116[#p116 + 1] = p115.torsoPart.CFrame.p - v117\n    p116[#p116 + 1] = p115.torsoPart.CFrame.p + v118\n    p116[#p116 + 1] = p115.torsoPart.CFrame.p - v118\n    if p115.headPart then\n        p116[#p116 + 1] = p115.headPart.CFrame.p\n    end\n    local v119 = p115.camera.CFrame - p115.camera.CFrame.p\n    local v120 = Vector3.new(0, 0.5, 0) + (p115.torsoPart and p115.torsoPart.Position or p115.humanoidRootPart.Position)\n    for v121 = 1, 24 do\n        local v122 = 0.2617993877991494 * v121 - 1.5707963267948966\n        local v123 = math.cos(v122)\n        local v124 = math.sin(v122)\n        local v125 = v120 + v119 * (2.5 * Vector3.new(v123, v124, 0))\n        local v126 = v125 - p115.camera.CFrame.p\n        if v_u_3 then\n            v_u_7.FilterDescendantsInstances = { p115.char }\n            local v127 = game.Workspace:Raycast(v120, v125 - v120, v_u_7)\n            if v127 then\n                local v128 = v127.Position\n                local v129 = v127.Normal\n                local v130 = v128 + 0.1 * v129.unit\n                local v131 = v130 - v120\n                local v132 = v131:Cross(v126).unit:Cross(v129).unit\n                local v133 = (v130 - p115.camera.CFrame.p).unit\n                if v131.unit:Dot(-v132) < v131.unit:Dot(v133) then\n                    v125 = v_u_52(v130, v132, v125, v126)\n                    if v125.Magnitude > 0 then\n                        local v134 = game.Workspace:Raycast(v130, v125 - v130, v_u_7)\n                        if v134 then\n                            v125 = v134.Position + 0.1 * v134.Normal.Unit\n                        end\n                    else\n                        v125 = v130\n                    end\n                else\n                    v125 = v130\n                end\n                local v135 = game.Workspace:Raycast(v120, v125 - v120, v_u_7)\n                if v135 then\n                    v125 = v135.Position - 0.1 * (v125 - v120).unit\n                end\n            end\n            p116[#p116 + 1] = v125\n        else\n            local v136 = Ray.new(v120, v125 - v120)\n            local v137, v138, v139 = game.Workspace:FindPartOnRayWithIgnoreList(v136, { p115.char }, false, false)\n            if v137 then\n                local v140 = v138 + 0.1 * v139.unit\n                local v141 = v140 - v120\n                local v142 = v141:Cross(v126).unit:Cross(v139).unit\n                local v143 = (v140 - p115.camera.CFrame.p).unit\n                if v141.unit:Dot(-v142) < v141.unit:Dot(v143) then\n                    v125 = v_u_52(v140, v142, v125, v126)\n                    if v125.Magnitude > 0 then\n                        local v144 = Ray.new(v140, v125 - v140)\n                        local v145, v146, v147 = game.Workspace:FindPartOnRayWithIgnoreList(v144, { p115.char }, false, false)\n                        if v145 then\n                            v125 = v146 + 0.1 * v147.unit\n                        end\n                    else\n                        v125 = v140\n                    end\n                else\n                    v125 = v140\n                end\n                local v148 = Ray.new(v120, v125 - v120)\n                local v149, v150, _ = game.Workspace:FindPartOnRayWithIgnoreList(v148, { p115.char }, false, false)\n                if v149 then\n                    v125 = v150 - 0.1 * (v125 - v120).unit\n                end\n            end\n            p116[#p116 + 1] = v125\n        end\n    end\nend\nfunction v_u_54.CheckTorsoReference(p151)\n    if p151.char then\n        p151.torsoPart = p151.char:FindFirstChild(\"Torso\")\n        if not p151.torsoPart then\n            p151.torsoPart = p151.char:FindFirstChild(\"UpperTorso\")\n            if not p151.torsoPart then\n                p151.torsoPart = p151.char:FindFirstChild(\"HumanoidRootPart\")\n            end\n        end\n        p151.headPart = p151.char:FindFirstChild(\"Head\")\n    end\nend\nfunction v_u_54.CharacterAdded(p_u_152, p153, p154)\n    -- upvalues: (copy) v_u_1, (copy) v_u_5\n    if p154 == v_u_1.LocalPlayer then\n        if p_u_152.childAddedConn then\n            p_u_152.childAddedConn:Disconnect()\n            p_u_152.childAddedConn = nil\n        end\n        if p_u_152.childRemovedConn then\n            p_u_152.childRemovedConn:Disconnect()\n            p_u_152.childRemovedConn = nil\n        end\n        p_u_152.char = p153\n        p_u_152.trackedLimbs = {}\n        local function v156(p155)\n            -- upvalues: (ref) v_u_5, (copy) p_u_152\n            if p155:IsA(\"BasePart\") then\n                if v_u_5[p155.Name] then\n                    p_u_152.trackedLimbs[p155] = true\n                end\n                if p155.Name == \"Torso\" or p155.Name == \"UpperTorso\" then\n                    p_u_152.torsoPart = p155\n                end\n                if p155.Name == \"Head\" then\n                    p_u_152.headPart = p155\n                end\n            end\n        end\n        p_u_152.childAddedConn = p153.ChildAdded:Connect(v156)\n        p_u_152.childRemovedConn = p153.ChildRemoved:Connect(function(p157)\n            -- upvalues: (copy) p_u_152\n            p_u_152.trackedLimbs[p157] = nil\n            p_u_152:CheckTorsoReference()\n        end)\n        for _, v158 in pairs(p_u_152.char:GetChildren()) do\n            if v158:IsA(\"BasePart\") then\n                if v_u_5[v158.Name] then\n                    p_u_152.trackedLimbs[v158] = true\n                end\n                if v158.Name == \"Torso\" or v158.Name == \"UpperTorso\" then\n                    p_u_152.torsoPart = v158\n                end\n                if v158.Name == \"Head\" then\n                    p_u_152.headPart = v158\n                end\n            end\n        end\n    end\nend\nfunction v_u_54.SetMode(p159, p160)\n    -- upvalues: (copy) v_u_16, (copy) v_u_4\n    v_u_16(p160, \"number\")\n    for _, v161 in pairs(v_u_4) do\n        if v161 == p160 then\n            p159.mode = p160\n            p159.behaviorFunction = p159.behaviors[p159.mode]\n            return\n        end\n    end\n    error(\"Invalid mode number\")\nend\nfunction v_u_54.GetObscuredParts(p162)\n    return p162.savedHits\nend\nfunction v_u_54.Cleanup(p163)\n    for v164, v165 in pairs(p163.savedHits) do\n        v164.LocalTransparencyModifier = v165\n    end\nend\nfunction v_u_54.Update(p_u_166, _, p167, p168)\n    if not (p_u_166.enabled and p_u_166.char) then\n        return p167, p168\n    end\n    p_u_166.camera = game.Workspace.CurrentCamera\n    if not p_u_166.humanoidRootPart then\n        local v169 = p_u_166.char:FindFirstChildOfClass(\"Humanoid\")\n        if v169 and v169.RootPart then\n            p_u_166.humanoidRootPart = v169.RootPart\n        else\n            p_u_166.humanoidRootPart = p_u_166.char:FindFirstChild(\"HumanoidRootPart\")\n            if not p_u_166.humanoidRootPart then\n                return p167, p168\n            end\n        end\n        local v_u_170 = nil\n        v_u_170 = p_u_166.humanoidRootPart.AncestryChanged:Connect(function(p171, p172)\n            -- upvalues: (copy) p_u_166, (ref) v_u_170\n            if p171 == p_u_166.humanoidRootPart and not p172 then\n                p_u_166.humanoidRootPart = nil\n                if v_u_170 and v_u_170.Connected then\n                    v_u_170:Disconnect()\n                    v_u_170 = nil\n                end\n            end\n        end)\n    end\n    if not p_u_166.torsoPart then\n        p_u_166:CheckTorsoReference()\n        if not p_u_166.torsoPart then\n            return p167, p168\n        end\n    end\n    local v173 = {}\n    p_u_166.behaviorFunction(p_u_166, v173)\n    local v174 = { p_u_166.char }\n    local v175 = p_u_166.headPart and p_u_166.headPart.CFrame.p or v173[1]\n    local v176 = p_u_166.torsoPart and p_u_166.torsoPart.CFrame.p or v173[2]\n    local v177 = p_u_166.camera:GetPartsObscuringTarget({ v175, v176 }, v174)\n    local v178 = 0\n    local v179 = {}\n    local v180 = 0.75\n    local v181 = {}\n    local v182 = 0.75\n    for v183 = 1, #v177 do\n        local v184 = v177[v183]\n        v178 = v178 + 1\n        v179[v184] = true\n        for _, v185 in pairs(v184:GetChildren()) do\n            if v185:IsA(\"Decal\") or v185:IsA(\"Texture\") then\n                v178 = v178 + 1\n                break\n            end\n        end\n    end\n    if v178 > 0 then\n        local v186 = 0.375 / v178 + 0.375\n        local v187 = 1 / v178\n        v180 = math.pow(v186, v187)\n        local v188 = 0.25 / v178 + 0.25\n        local v189 = 1 / v178\n        v182 = math.pow(v188, v189)\n    end\n    local v190 = p_u_166.camera:GetPartsObscuringTarget(v173, v174)\n    local v191 = {}\n    for v192 = 1, #v190 do\n        local v193 = v190[v192]\n        v191[v193] = v179[v193] and v180 and v180 or v182\n        if v193.Transparency < v191[v193] then\n            v181[v193] = true\n            if not p_u_166.savedHits[v193] then\n                p_u_166.savedHits[v193] = v193.LocalTransparencyModifier\n            end\n        end\n        for _, v194 in pairs(v193:GetChildren()) do\n            if (v194:IsA(\"Decal\") or v194:IsA(\"Texture\")) and v194.Transparency < v191[v193] then\n                v191[v194] = v191[v193]\n                v181[v194] = true\n                if not p_u_166.savedHits[v194] then\n                    p_u_166.savedHits[v194] = v194.LocalTransparencyModifier\n                end\n            end\n        end\n    end\n    for v195, v196 in pairs(p_u_166.savedHits) do\n        if v181[v195] then\n            v195.LocalTransparencyModifier = v195.Transparency < 1 and ((v191[v195] - v195.Transparency) / (1 - v195.Transparency) or 0) or 0\n        else\n            v195.LocalTransparencyModifier = v196\n            p_u_166.savedHits[v195] = nil\n        end\n    end\n    return p167, p168\nend\nreturn v_u_54"},{"Path":"StarterPlayer.StarterPlayerScripts.PlayerModule.CameraModule.ClassicCamera","Name":"ClassicCamera","ClassName":"ModuleScript","Category":"StarterPlayerScripts","FileName":"ClassicCamera29.lua","Source":"-- Decompiled with Velocity Script Decompiler\nVector2.new(0, 0)\nlocal v_u_1 = 0\nlocal v_u_2 = CFrame.fromOrientation(-0.2617993877991494, 0, 0)\nlocal v3 = script.Parent.Parent:WaitForChild(\"CommonUtils\")\nlocal v4 = require(v3:WaitForChild(\"FlagUtil\"))\nlocal v_u_5 = v4.getUserFlag(\"UserCameraInputDt\")\nlocal v_u_6 = v4.getUserFlag(\"UserFixCameraFPError\")\nlocal v_u_7 = game:GetService(\"Players\")\nlocal v_u_8 = require(script.Parent:WaitForChild(\"CameraInput\"))\nlocal v_u_9 = require(script.Parent:WaitForChild(\"CameraUtils\"))\nlocal v_u_10 = require(script.Parent:WaitForChild(\"BaseCamera\"))\nlocal v_u_11 = setmetatable({}, v_u_10)\nv_u_11.__index = v_u_11\nfunction v_u_11.new()\n    -- upvalues: (copy) v_u_10, (copy) v_u_11, (copy) v_u_9\n    local v12 = v_u_10.new()\n    local v13 = v_u_11\n    local v14 = setmetatable(v12, v13)\n    v14.isFollowCamera = false\n    v14.isCameraToggle = false\n    v14.lastUpdate = tick()\n    v14.cameraToggleSpring = v_u_9.Spring.new(5, 0)\n    return v14\nend\nfunction v_u_11.GetCameraToggleOffset(p15, p16)\n    -- upvalues: (copy) v_u_8, (copy) v_u_9\n    if not p15.isCameraToggle then\n        return Vector3.new()\n    end\n    local v17 = p15.currentSubjectDistance\n    if v_u_8.getTogglePan() then\n        local v18 = p15.cameraToggleSpring\n        local v19 = v_u_9.map(v17, 0.5, p15.FIRST_PERSON_DISTANCE_THRESHOLD, 0, 1)\n        v18.goal = math.clamp(v19, 0, 1)\n    else\n        p15.cameraToggleSpring.goal = 0\n    end\n    local v20 = v_u_9.map(v17, 0.5, 64, 0, 1)\n    local v21 = math.clamp(v20, 0, 1) + 1\n    local v22 = p15.cameraToggleSpring:step(p16) * v21\n    return Vector3.new(0, v22, 0)\nend\nfunction v_u_11.SetCameraMovementMode(p23, p24)\n    -- upvalues: (copy) v_u_10\n    v_u_10.SetCameraMovementMode(p23, p24)\n    p23.isFollowCamera = p24 == Enum.ComputerCameraMovementMode.Follow\n    p23.isCameraToggle = p24 == Enum.ComputerCameraMovementMode.CameraToggle\nend\nfunction v_u_11.Update(p25, p26)\n    -- upvalues: (copy) v_u_5, (copy) v_u_2, (copy) v_u_7, (copy) v_u_8, (ref) v_u_1, (copy) v_u_9, (copy) v_u_6\n    local v27 = tick()\n    local v28 = v27 - p25.lastUpdate\n    if v_u_5 then\n        v28 = p26\n    end\n    local v29 = workspace.CurrentCamera\n    local v30 = v29.CFrame\n    local v31 = v29.Focus\n    local v32\n    if p25.resetCameraAngle then\n        local v33 = p25:GetHumanoidRootPart()\n        if v33 then\n            v32 = (v33.CFrame * v_u_2).lookVector\n        else\n            v32 = v_u_2.lookVector\n        end\n        p25.resetCameraAngle = false\n    else\n        v32 = nil\n    end\n    local v34 = v_u_7.LocalPlayer\n    local v35 = p25:GetHumanoid()\n    local v36 = v29.CameraSubject\n    local v37\n    if v36 then\n        v37 = v36:IsA(\"VehicleSeat\")\n    else\n        v37 = v36\n    end\n    local v38\n    if v36 then\n        v38 = v36:IsA(\"SkateboardPlatform\")\n    else\n        v38 = v36\n    end\n    local v39\n    if v35 then\n        v39 = v35:GetState() == Enum.HumanoidStateType.Climbing\n    else\n        v39 = v35\n    end\n    if p25.lastUpdate == nil or v28 > 1 then\n        p25.lastCameraTransform = nil\n    end\n    local v40 = v_u_8.getRotation(v28)\n    p25:StepZoom()\n    local v41 = p25:GetCameraHeight()\n    if v40 ~= Vector2.new() then\n        v_u_1 = 0\n        p25.lastUserPanCamera = tick()\n    end\n    local v42 = v27 - p25.lastUserPanCamera < 2\n    local v43 = p25:GetSubjectPosition()\n    if v43 and (v34 and v29) then\n        local v44 = p25:GetCameraToSubjectDistance()\n        local v45 = v44 < 0.5 and 0.5 or v44\n        if p25:GetIsMouseLocked() and not p25:IsInFirstPerson() then\n            local v46 = p25:CalculateNewLookCFrameFromArg(v32, v40)\n            local v47 = p25:GetMouseLockOffset()\n            if v35 then\n                v47 = v47 + v35.CameraOffset\n            end\n            local v48 = v47.X * v46.RightVector + v47.Y * v46.UpVector + v47.Z * v46.LookVector\n            if v_u_9.IsFiniteVector3(v48) then\n                v43 = v43 + v48\n            end\n        elseif v40 == Vector2.new() and p25.lastCameraTransform then\n            local v49 = p25:IsInFirstPerson()\n            if (v37 or (v38 or p25.isFollowCamera and v39)) and (p25.lastUpdate and (v35 and v35.Torso)) then\n                if v49 then\n                    if p25.lastSubjectCFrame and (v37 or v38) and v36:IsA(\"BasePart\") then\n                        local v50 = -v_u_9.GetAngleBetweenXZVectors(p25.lastSubjectCFrame.lookVector, v36.CFrame.lookVector)\n                        if v_u_9.IsFinite(v50) then\n                            v40 = v40 + Vector2.new(v50, 0)\n                        end\n                        v_u_1 = 0\n                    end\n                elseif not v42 then\n                    local v51 = v35.Torso.CFrame.lookVector\n                    local v52 = v_u_1 + 3.839724354387525 * v28\n                    v_u_1 = math.clamp(v52, 0, 4.363323129985824)\n                    local v53 = v_u_1 * v28\n                    local v54 = math.clamp(v53, 0, 1)\n                    local v55 = p25:IsInFirstPerson() and not (p25.isFollowCamera and p25.isClimbing) and 1 or v54\n                    local v56 = v_u_9.GetAngleBetweenXZVectors(v51, p25:GetCameraLookVector())\n                    if v_u_9.IsFinite(v56) and math.abs(v56) > 0.0001 then\n                        v40 = v40 + Vector2.new(v56 * v55, 0)\n                    end\n                end\n            elseif p25.isFollowCamera and not (v49 or v42) then\n                local v57 = -(p25.lastCameraTransform.p - v43)\n                local v58 = v_u_9.GetAngleBetweenXZVectors(v57, p25:GetCameraLookVector())\n                if v_u_9.IsFinite(v58) and (math.abs(v58) > 0.0001 and math.abs(v58) > 0.4 * v28) then\n                    v40 = v40 + Vector2.new(v58, 0)\n                end\n            end\n        end\n        local v59, v60\n        if p25.isFollowCamera then\n            local v61 = p25:CalculateNewLookVectorFromArg(v32, v40)\n            v59 = CFrame.new(v43)\n            if v_u_6 then\n                v60 = CFrame.lookAlong(v59.p - v45 * v61, v61)\n            else\n                v60 = CFrame.new(v59.p - v45 * v61, v59.p) + Vector3.new(0, v41, 0)\n            end\n        else\n            v59 = CFrame.new(v43)\n            local v62 = v59.p\n            local v63 = p25:CalculateNewLookVectorFromArg(v32, v40)\n            if v_u_6 then\n                v60 = CFrame.lookAlong(v62 - v45 * v63, v63)\n            else\n                v60 = CFrame.new(v62 - v45 * v63, v62)\n            end\n        end\n        local v64 = p25:GetCameraToggleOffset(v28)\n        v31 = v59 + v64\n        v30 = v60 + v64\n        p25.lastCameraTransform = v30\n        p25.lastCameraFocus = v31\n        if (v37 or v38) and v36:IsA(\"BasePart\") then\n            p25.lastSubjectCFrame = v36.CFrame\n        else\n            p25.lastSubjectCFrame = nil\n        end\n    end\n    p25.lastUpdate = v27\n    return v30, v31\nend\nreturn v_u_11"},{"Path":"StarterPlayer.StarterPlayerScripts.PlayerModule.CameraModule.CameraToggleStateController","Name":"CameraToggleStateController","ClassName":"ModuleScript","Category":"StarterPlayerScripts","FileName":"CameraToggleStateController30.lua","Source":"-- Decompiled with Velocity Script Decompiler\ngame:GetService(\"Players\")\ngame:GetService(\"UserInputService\")\nUserSettings():GetService(\"UserGameSettings\")\nlocal v_u_1 = require(script.Parent:WaitForChild(\"CameraInput\"))\nlocal v_u_2 = require(script.Parent:WaitForChild(\"CameraUI\"))\nlocal v_u_3 = require(script.Parent:WaitForChild(\"CameraUtils\"))\nlocal v_u_4 = false\nlocal v_u_5 = tick()\nlocal v_u_6 = false\nlocal v_u_7 = false\nlocal v_u_8 = false\nv_u_2.setCameraModeToastEnabled(false)\nreturn function(p9)\n    -- upvalues: (copy) v_u_1, (ref) v_u_4, (ref) v_u_6, (ref) v_u_5, (copy) v_u_2, (ref) v_u_8, (ref) v_u_7, (copy) v_u_3\n    local v10 = v_u_1.getTogglePan()\n    if p9 and v10 ~= v_u_4 then\n        v_u_6 = true\n    end\n    if v_u_4 ~= v10 or tick() - v_u_5 > 3 then\n        local v11\n        if v10 then\n            v11 = tick() - v_u_5 < 3\n        else\n            v11 = v10\n        end\n        v_u_2.setCameraModeToastOpen(v11)\n        if v10 then\n            v_u_6 = false\n        end\n        v_u_5 = tick()\n        v_u_4 = v10\n    end\n    if p9 ~= v_u_8 then\n        if p9 then\n            v_u_7 = v_u_1.getTogglePan()\n            v_u_1.setTogglePan(true)\n        elseif not v_u_6 then\n            v_u_1.setTogglePan(v_u_7)\n        end\n    end\n    if p9 then\n        if v_u_1.getTogglePan() then\n            v_u_3.setMouseIconOverride(\"rbxasset://textures/Cursors/CrossMouseIcon.png\")\n            v_u_3.setMouseBehaviorOverride(Enum.MouseBehavior.LockCenter)\n            v_u_3.setRotationTypeOverride(Enum.RotationType.CameraRelative)\n        else\n            v_u_3.restoreMouseIcon()\n            v_u_3.restoreMouseBehavior()\n            v_u_3.setRotationTypeOverride(Enum.RotationType.CameraRelative)\n        end\n    elseif v_u_1.getTogglePan() then\n        v_u_3.setMouseIconOverride(\"rbxasset://textures/Cursors/CrossMouseIcon.png\")\n        v_u_3.setMouseBehaviorOverride(Enum.MouseBehavior.LockCenter)\n        v_u_3.setRotationTypeOverride(Enum.RotationType.MovementRelative)\n    elseif v_u_1.getHoldPan() then\n        v_u_3.restoreMouseIcon()\n        v_u_3.setMouseBehaviorOverride(Enum.MouseBehavior.LockCurrentPosition)\n        v_u_3.setRotationTypeOverride(Enum.RotationType.MovementRelative)\n    else\n        v_u_3.restoreMouseIcon()\n        v_u_3.restoreMouseBehavior()\n        v_u_3.restoreRotationType()\n    end\n    v_u_8 = p9\nend"},{"Path":"StarterPlayer.StarterPlayerScripts.PlayerModule.CameraModule.Poppercam","Name":"Poppercam","ClassName":"ModuleScript","Category":"StarterPlayerScripts","FileName":"Poppercam31.lua","Source":"-- Decompiled with Velocity Script Decompiler\nlocal v1 = script.Parent.Parent:WaitForChild(\"CommonUtils\")\nlocal v2 = require(v1:WaitForChild(\"FlagUtil\"))\nlocal v_u_3 = require(script.Parent:WaitForChild(\"ZoomController\"))\nlocal v_u_4 = v2.getUserFlag(\"UserFixCameraFPError\")\nlocal v_u_5 = {}\nv_u_5.__index = v_u_5\nlocal v_u_6 = CFrame.new()\nfunction v_u_5.new()\n    -- upvalues: (copy) v_u_5\n    local v7 = v_u_5\n    return setmetatable({\n        [\"lastCFrame\"] = nil\n    }, v7)\nend\nfunction v_u_5.Step(p8, p9, p10)\n    -- upvalues: (copy) v_u_6\n    local v11 = p8.lastCFrame or p10\n    p8.lastCFrame = p10\n    local v_u_12 = p10.Position\n    local _, _, _, v13, v14, v15, v16, v17, v18, v19, v20, v21 = p10:GetComponents()\n    local v_u_22 = CFrame.new(0, 0, 0, v13, v14, v15, v16, v17, v18, v19, v20, v21)\n    local v23 = v11.p\n    local _, _, _, v24, v25, v26, v27, v28, v29, v30, v31, v32 = v11:GetComponents()\n    local v33 = CFrame.new(0, 0, 0, v24, v25, v26, v27, v28, v29, v30, v31, v32)\n    local v_u_34 = (v_u_12 - v23) / p9\n    local v35, v36 = (v_u_22 * v33:inverse()):ToAxisAngle()\n    local v_u_37 = v35 * v36 / p9\n    return {\n        [\"extrapolate\"] = function(p38)\n            -- upvalues: (copy) v_u_34, (copy) v_u_12, (copy) v_u_37, (ref) v_u_6, (copy) v_u_22\n            local v39 = v_u_34 * p38 + v_u_12\n            local v40 = v_u_37 * p38\n            local v41 = v40.Magnitude\n            local v42\n            if v41 > 0.00001 then\n                v42 = CFrame.fromAxisAngle(v40, v41)\n            else\n                v42 = v_u_6\n            end\n            return v42 * v_u_22 + v39\n        end,\n        [\"posVelocity\"] = v_u_34,\n        [\"rotVelocity\"] = v_u_37\n    }\nend\nfunction v_u_5.Reset(p43)\n    p43.lastCFrame = nil\nend\nlocal v_u_44 = require(script.Parent:WaitForChild(\"BaseOcclusion\"))\nlocal v_u_45 = setmetatable({}, v_u_44)\nv_u_45.__index = v_u_45\nfunction v_u_45.new()\n    -- upvalues: (copy) v_u_44, (copy) v_u_45, (copy) v_u_5\n    local v46 = v_u_44.new()\n    local v47 = v_u_45\n    local v48 = setmetatable(v46, v47)\n    v48.focusExtrapolator = v_u_5.new()\n    return v48\nend\nfunction v_u_45.GetOcclusionMode(_)\n    return Enum.DevCameraOcclusionMode.Zoom\nend\nfunction v_u_45.Enable(p49, _)\n    p49.focusExtrapolator:Reset()\nend\nfunction v_u_45.Update(p50, p51, p52, p53, _)\n    -- upvalues: (copy) v_u_4, (copy) v_u_3\n    local v54\n    if v_u_4 then\n        v54 = CFrame.lookAlong(p53.p, -p52.LookVector) * CFrame.new(0, 0, 0, -1, 0, 0, 0, 1, 0, 0, 0, -1)\n    else\n        v54 = CFrame.new(p53.p, p52.p) * CFrame.new(0, 0, 0, -1, 0, 0, 0, 1, 0, 0, 0, -1)\n    end\n    local v55 = p50.focusExtrapolator:Step(p51, v54)\n    local v56 = v_u_3.Update(p51, v54, v55)\n    return v54 * CFrame.new(0, 0, v56), p53\nend\nfunction v_u_45.CharacterAdded(_, _, _) end\nfunction v_u_45.CharacterRemoving(_, _, _) end\nfunction v_u_45.OnCameraSubjectChanged(_, _) end\nreturn v_u_45"},{"Path":"StarterPlayer.StarterPlayerScripts.PlayerModule.CameraModule.VRBaseCamera","Name":"VRBaseCamera","ClassName":"ModuleScript","Category":"StarterPlayerScripts","FileName":"VRBaseCamera32.lua","Source":"-- Decompiled with Velocity Script Decompiler\nlocal v1, v2 = pcall(function()\n    return UserSettings():IsUserFeatureEnabled(\"UserVRVehicleCamera2\")\nend)\nlocal v_u_3 = v1 and v2\nlocal v_u_4 = game:GetService(\"VRService\")\nlocal v_u_5 = game:GetService(\"Players\").LocalPlayer\nlocal v_u_6 = game:GetService(\"Lighting\")\nlocal v_u_7 = game:GetService(\"RunService\")\nlocal v_u_8 = UserSettings():GetService(\"UserGameSettings\")\nlocal v_u_9 = require(script.Parent:WaitForChild(\"CameraInput\"))\nlocal v_u_10 = require(script.Parent:WaitForChild(\"ZoomController\"))\nlocal v11 = script.Parent.Parent:WaitForChild(\"CommonUtils\")\nlocal v_u_12 = require(v11:WaitForChild(\"FlagUtil\")).getUserFlag(\"UserCameraInputDt\")\nlocal v_u_13 = require(script.Parent:WaitForChild(\"BaseCamera\"))\nlocal v_u_14 = setmetatable({}, v_u_13)\nv_u_14.__index = v_u_14\nfunction v_u_14.new()\n    -- upvalues: (copy) v_u_13, (copy) v_u_14\n    local v15 = v_u_13.new()\n    local v16 = v_u_14\n    local v17 = setmetatable(v15, v16)\n    v17.gamepadZoomLevels = { 0, 7 }\n    v17.headScale = 1\n    v17:SetCameraToSubjectDistance(7)\n    v17.VRFadeResetTimer = 0\n    v17.VREdgeBlurTimer = 0\n    v17.gamepadResetConnection = nil\n    v17.needsReset = true\n    v17.recentered = false\n    v17:Reset()\n    return v17\nend\nfunction v_u_14.Reset(p18)\n    p18.stepRotateTimeout = 0\nend\nfunction v_u_14.GetModuleName(_)\n    return \"VRBaseCamera\"\nend\nfunction v_u_14.GamepadZoomPress(p19)\n    -- upvalues: (copy) v_u_13\n    v_u_13.GamepadZoomPress(p19)\n    p19:GamepadReset()\n    p19:ResetZoom()\nend\nfunction v_u_14.GamepadReset(p20)\n    p20.stepRotateTimeout = 0\n    p20.needsReset = true\nend\nfunction v_u_14.ResetZoom(p21)\n    -- upvalues: (copy) v_u_10\n    v_u_10.SetZoomParameters(p21.currentSubjectDistance, 0)\n    v_u_10.ReleaseSpring()\nend\nfunction v_u_14.OnEnabledChanged(p_u_22)\n    -- upvalues: (copy) v_u_13, (copy) v_u_9, (copy) v_u_4, (ref) v_u_3, (copy) v_u_5, (copy) v_u_6\n    v_u_13.OnEnabledChanged(p_u_22)\n    if p_u_22.enabled then\n        p_u_22.gamepadResetConnection = v_u_9.gamepadReset:Connect(function()\n            -- upvalues: (copy) p_u_22\n            p_u_22:GamepadReset()\n        end)\n        p_u_22.thirdPersonOptionChanged = v_u_4:GetPropertyChangedSignal(\"ThirdPersonFollowCamEnabled\"):Connect(function()\n            -- upvalues: (ref) v_u_3, (copy) p_u_22\n            if v_u_3 then\n                p_u_22:Reset()\n            elseif not p_u_22:IsInFirstPerson() then\n                p_u_22:Reset()\n            end\n        end)\n        p_u_22.vrRecentered = v_u_4.UserCFrameChanged:Connect(function(p23, _)\n            -- upvalues: (copy) p_u_22\n            if p23 == Enum.UserCFrame.Floor then\n                p_u_22.recentered = true\n            end\n        end)\n    else\n        if p_u_22.inFirstPerson then\n            p_u_22:GamepadZoomPress()\n        end\n        if p_u_22.thirdPersonOptionChanged then\n            p_u_22.thirdPersonOptionChanged:Disconnect()\n            p_u_22.thirdPersonOptionChanged = nil\n        end\n        if p_u_22.vrRecentered then\n            p_u_22.vrRecentered:Disconnect()\n            p_u_22.vrRecentered = nil\n        end\n        if p_u_22.cameraHeadScaleChangedConn then\n            p_u_22.cameraHeadScaleChangedConn:Disconnect()\n            p_u_22.cameraHeadScaleChangedConn = nil\n        end\n        if p_u_22.gamepadResetConnection then\n            p_u_22.gamepadResetConnection:Disconnect()\n            p_u_22.gamepadResetConnection = nil\n        end\n        p_u_22.VREdgeBlurTimer = 0\n        p_u_22:UpdateEdgeBlur(v_u_5, 1)\n        local v24 = v_u_6:FindFirstChild(\"VRFade\")\n        if v24 then\n            v24.Brightness = 0\n        end\n    end\nend\nfunction v_u_14.OnCurrentCameraChanged(p_u_25)\n    -- upvalues: (copy) v_u_13\n    v_u_13.OnCurrentCameraChanged(p_u_25)\n    if p_u_25.cameraHeadScaleChangedConn then\n        p_u_25.cameraHeadScaleChangedConn:Disconnect()\n        p_u_25.cameraHeadScaleChangedConn = nil\n    end\n    local v26 = workspace.CurrentCamera\n    if v26 then\n        p_u_25.cameraHeadScaleChangedConn = v26:GetPropertyChangedSignal(\"HeadScale\"):Connect(function()\n            -- upvalues: (copy) p_u_25\n            p_u_25:OnHeadScaleChanged()\n        end)\n        p_u_25:OnHeadScaleChanged()\n    end\nend\nfunction v_u_14.OnHeadScaleChanged(p27)\n    local v28 = workspace.CurrentCamera.HeadScale\n    for v29, v30 in p27.gamepadZoomLevels do\n        p27.gamepadZoomLevels[v29] = v30 * v28 / p27.headScale\n    end\n    p27:SetCameraToSubjectDistance(p27:GetCameraToSubjectDistance() * v28 / p27.headScale)\n    p27.headScale = v28\nend\nfunction v_u_14.GetVRFocus(p31, p32, p33)\n    local v34 = p31.lastCameraFocus or p32\n    local v35 = p31.cameraTranslationConstraints.x\n    local v36 = p31.cameraTranslationConstraints.y + p33\n    local v37 = math.min(1, v36)\n    local v38 = p31.cameraTranslationConstraints.z\n    p31.cameraTranslationConstraints = Vector3.new(v35, v37, v38)\n    local v39 = p31:GetCameraHeight()\n    local v40 = Vector3.new(0, v39, 0)\n    local v41 = CFrame.new\n    local v42 = p32.x\n    local v43 = v34.y\n    local v44 = p32.z\n    return v41(Vector3.new(v42, v43, v44):Lerp(p32 + v40, p31.cameraTranslationConstraints.y))\nend\nfunction v_u_14.StartFadeFromBlack(p45)\n    -- upvalues: (copy) v_u_8, (copy) v_u_6\n    if v_u_8.VignetteEnabled ~= false then\n        local v46 = v_u_6:FindFirstChild(\"VRFade\")\n        if not v46 then\n            v46 = Instance.new(\"ColorCorrectionEffect\")\n            v46.Name = \"VRFade\"\n            v46.Parent = v_u_6\n        end\n        v46.Brightness = -1\n        p45.VRFadeResetTimer = 0.1\n    end\nend\nfunction v_u_14.UpdateFadeFromBlack(p47, p48)\n    -- upvalues: (copy) v_u_6\n    local v49 = v_u_6:FindFirstChild(\"VRFade\")\n    if p47.VRFadeResetTimer > 0 then\n        local v50 = p47.VRFadeResetTimer - p48\n        p47.VRFadeResetTimer = math.max(v50, 0)\n        local v51 = v_u_6:FindFirstChild(\"VRFade\")\n        if v51 and v51.Brightness < 0 then\n            local v52 = v51.Brightness + p48 * 10\n            v51.Brightness = math.min(v52, 0)\n            return\n        end\n    elseif v49 then\n        v49.Brightness = 0\n    end\nend\nfunction v_u_14.StartVREdgeBlur(p53, p54)\n    -- upvalues: (copy) v_u_8, (copy) v_u_7, (copy) v_u_4\n    if v_u_8.VignetteEnabled ~= false then\n        local v55 = workspace.CurrentCamera:FindFirstChild(\"VRBlurPart\")\n        if not v55 then\n            local v_u_56 = Instance.new(\"Part\")\n            v_u_56.Name = \"VRBlurPart\"\n            v_u_56.Parent = workspace.CurrentCamera\n            v_u_56.CanTouch = false\n            v_u_56.CanCollide = false\n            v_u_56.CanQuery = false\n            v_u_56.Anchored = true\n            v_u_56.Size = Vector3.new(0.44, 0.47, 1)\n            v_u_56.Transparency = 1\n            v_u_56.CastShadow = false\n            v_u_7.RenderStepped:Connect(function(_)\n                -- upvalues: (ref) v_u_4, (ref) v_u_56\n                local v57 = v_u_4:GetUserCFrame(Enum.UserCFrame.Head)\n                local v58 = workspace.CurrentCamera.CFrame * (CFrame.new(v57.p * workspace.CurrentCamera.HeadScale) * (v57 - v57.p))\n                v_u_56.CFrame = v58 * CFrame.Angles(0, 3.141592653589793, 0) + v58.LookVector * (1.05 * workspace.CurrentCamera.HeadScale)\n                v_u_56.Size = Vector3.new(0.44, 0.47, 1) * workspace.CurrentCamera.HeadScale\n            end)\n            v55 = v_u_56\n        end\n        local v59 = p54.PlayerGui:FindFirstChild(\"VRBlurScreen\")\n        local v60\n        if v59 then\n            v60 = v59:FindFirstChild(\"VRBlur\")\n        else\n            v60 = nil\n        end\n        if not v60 then\n            local v61 = v59 or (Instance.new(\"SurfaceGui\") or Instance.new(\"ScreenGui\"))\n            v61.Name = \"VRBlurScreen\"\n            v61.Parent = p54.PlayerGui\n            v61.Adornee = v55\n            v60 = Instance.new(\"ImageLabel\")\n            v60.Name = \"VRBlur\"\n            v60.Parent = v61\n            v60.Image = \"rbxasset://textures/ui/VR/edgeBlur.png\"\n            v60.AnchorPoint = Vector2.new(0.5, 0.5)\n            v60.Position = UDim2.new(0.5, 0, 0.5, 0)\n            local v62 = workspace.CurrentCamera.ViewportSize.X * 2.3 / 512\n            local v63 = workspace.CurrentCamera.ViewportSize.Y * 2.3 / 512\n            v60.Size = UDim2.fromScale(v62, v63)\n            v60.BackgroundTransparency = 1\n            v60.Active = true\n            v60.ScaleType = Enum.ScaleType.Stretch\n        end\n        v60.Visible = true\n        v60.ImageTransparency = 0\n        p53.VREdgeBlurTimer = 0.14\n    end\nend\nfunction v_u_14.UpdateEdgeBlur(p64, p65, p66)\n    local v67 = p65.PlayerGui:FindFirstChild(\"VRBlurScreen\")\n    local v68\n    if v67 then\n        v68 = v67:FindFirstChild(\"VRBlur\")\n    else\n        v68 = nil\n    end\n    if v68 then\n        if p64.VREdgeBlurTimer > 0 then\n            p64.VREdgeBlurTimer = p64.VREdgeBlurTimer - p66\n            local v69 = p65.PlayerGui:FindFirstChild(\"VRBlurScreen\")\n            local v70 = v69 and v69:FindFirstChild(\"VRBlur\")\n            if v70 then\n                local v71 = p64.VREdgeBlurTimer\n                v70.ImageTransparency = 1 - math.clamp(v71, 0.01, 0.14) * 7.142857142857142\n                return\n            end\n        else\n            v68.Visible = false\n        end\n    end\nend\nfunction v_u_14.GetCameraHeight(p72)\n    return p72.inFirstPerson and 0 or 0.25881904510252074 * p72.currentSubjectDistance\nend\nfunction v_u_14.GetSubjectCFrame(p73)\n    -- upvalues: (copy) v_u_13\n    local v74 = v_u_13.GetSubjectCFrame(p73)\n    local v75 = workspace.CurrentCamera\n    if v75 then\n        v75 = v75.CameraSubject\n    end\n    if not v75 then\n        return v74\n    end\n    if v75:IsA(\"Humanoid\") and (v75:GetState() == Enum.HumanoidStateType.Dead and v75 == p73.lastSubject) then\n        v74 = p73.lastSubjectCFrame\n    end\n    if v74 then\n        p73.lastSubjectCFrame = v74\n    end\n    return v74\nend\nfunction v_u_14.GetSubjectPosition(p76)\n    -- upvalues: (copy) v_u_13\n    local v77 = v_u_13.GetSubjectPosition(p76)\n    local v78 = game.Workspace.CurrentCamera\n    if v78 then\n        v78 = v78.CameraSubject\n    end\n    if not v78 then\n        return nil\n    end\n    if v78:IsA(\"Humanoid\") then\n        if v78:GetState() == Enum.HumanoidStateType.Dead and v78 == p76.lastSubject then\n            v77 = p76.lastSubjectPosition\n        end\n    elseif v78:IsA(\"VehicleSeat\") then\n        v77 = v78.CFrame.p + v78.CFrame:vectorToWorldSpace(Vector3.new(0, 4, 0))\n    end\n    p76.lastSubjectPosition = v77\n    return v77\nend\nfunction v_u_14.getRotation(p79, p80)\n    -- upvalues: (copy) v_u_9, (copy) v_u_8, (copy) v_u_12\n    local v81 = v_u_9.getRotation(p80)\n    local v82 = 0\n    if v_u_8.VRSmoothRotationEnabled then\n        if v_u_12 then\n            return v81.X\n        else\n            return v81.X * 40 * p80\n        end\n    else\n        local v83 = v81.X\n        if math.abs(v83) > 0.03 then\n            if p79.stepRotateTimeout > 0 then\n                p79.stepRotateTimeout = p79.stepRotateTimeout - p80\n            end\n            if p79.stepRotateTimeout <= 0 then\n                local v84 = (v81.X < 0 and -1 or 1) * 0.5235987755982988\n                p79:StartFadeFromBlack()\n                p79.stepRotateTimeout = 0.25\n                return v84\n            end\n        else\n            local v85 = v81.X\n            if math.abs(v85) < 0.02 then\n                p79.stepRotateTimeout = 0\n            end\n        end\n        return v82\n    end\nend\nreturn v_u_14"},{"Path":"StarterPlayer.StarterPlayerScripts.PlayerModule.CameraModule.TransparencyController","Name":"TransparencyController","ClassName":"ModuleScript","Category":"StarterPlayerScripts","FileName":"TransparencyController33.lua","Source":"-- Decompiled with Velocity Script Decompiler\nlocal v_u_1 = game:GetService(\"VRService\")\nlocal v_u_2 = {\n    \"BasePart\",\n    \"Decal\",\n    \"Beam\",\n    \"ParticleEmitter\",\n    \"Trail\",\n    \"Fire\",\n    \"Smoke\",\n    \"Sparkles\",\n    \"Explosion\"\n}\nlocal v_u_3 = require(script.Parent:WaitForChild(\"CameraUtils\"))\nlocal v4, v5 = pcall(function()\n    return UserSettings():IsUserFeatureEnabled(\"UserHideCharacterParticlesInFirstPerson\")\nend)\nlocal v_u_6 = v4 and v5\nlocal v_u_7 = {}\nv_u_7.__index = v_u_7\nfunction v_u_7.new()\n    -- upvalues: (copy) v_u_7\n    local v8 = v_u_7\n    local v9 = setmetatable({}, v8)\n    v9.transparencyDirty = false\n    v9.enabled = false\n    v9.lastTransparency = nil\n    v9.descendantAddedConn = nil\n    v9.descendantRemovingConn = nil\n    v9.toolDescendantAddedConns = {}\n    v9.toolDescendantRemovingConns = {}\n    v9.cachedParts = {}\n    return v9\nend\nfunction v_u_7.HasToolAncestor(p10, p11)\n    if p11.Parent == nil then\n        return false\n    end\n    local v12 = p11.Parent\n    assert(v12, \"\")\n    return p11.Parent:IsA(\"Tool\") or p10:HasToolAncestor(p11.Parent)\nend\nfunction v_u_7.IsValidPartToModify(p13, p14)\n    -- upvalues: (ref) v_u_6, (copy) v_u_2\n    if v_u_6 then\n        for _, v15 in v_u_2 do\n            if p14:IsA(v15) then\n                return not p13:HasToolAncestor(p14)\n            end\n        end\n    elseif p14:IsA(\"BasePart\") or p14:IsA(\"Decal\") then\n        return not p13:HasToolAncestor(p14)\n    end\n    return false\nend\nfunction v_u_7.CachePartsRecursive(p16, p17)\n    if p17 then\n        if p16:IsValidPartToModify(p17) then\n            p16.cachedParts[p17] = true\n            p16.transparencyDirty = true\n        end\n        for _, v18 in pairs(p17:GetChildren()) do\n            p16:CachePartsRecursive(v18)\n        end\n    end\nend\nfunction v_u_7.TeardownTransparency(p19)\n    for v20, _ in pairs(p19.cachedParts) do\n        v20.LocalTransparencyModifier = 0\n    end\n    p19.cachedParts = {}\n    p19.transparencyDirty = true\n    p19.lastTransparency = nil\n    if p19.descendantAddedConn then\n        p19.descendantAddedConn:disconnect()\n        p19.descendantAddedConn = nil\n    end\n    if p19.descendantRemovingConn then\n        p19.descendantRemovingConn:disconnect()\n        p19.descendantRemovingConn = nil\n    end\n    for v21, v22 in pairs(p19.toolDescendantAddedConns) do\n        v22:Disconnect()\n        p19.toolDescendantAddedConns[v21] = nil\n    end\n    for v23, v24 in pairs(p19.toolDescendantRemovingConns) do\n        v24:Disconnect()\n        p19.toolDescendantRemovingConns[v23] = nil\n    end\nend\nfunction v_u_7.SetupTransparency(p_u_25, p_u_26)\n    p_u_25:TeardownTransparency()\n    if p_u_25.descendantAddedConn then\n        p_u_25.descendantAddedConn:disconnect()\n    end\n    p_u_25.descendantAddedConn = p_u_26.DescendantAdded:Connect(function(p27)\n        -- upvalues: (copy) p_u_25, (copy) p_u_26\n        if p_u_25:IsValidPartToModify(p27) then\n            p_u_25.cachedParts[p27] = true\n            p_u_25.transparencyDirty = true\n        elseif p27:IsA(\"Tool\") then\n            if p_u_25.toolDescendantAddedConns[p27] then\n                p_u_25.toolDescendantAddedConns[p27]:Disconnect()\n            end\n            p_u_25.toolDescendantAddedConns[p27] = p27.DescendantAdded:Connect(function(p28)\n                -- upvalues: (ref) p_u_25\n                p_u_25.cachedParts[p28] = nil\n                if p28:IsA(\"BasePart\") or p28:IsA(\"Decal\") then\n                    p28.LocalTransparencyModifier = 0\n                end\n            end)\n            if p_u_25.toolDescendantRemovingConns[p27] then\n                p_u_25.toolDescendantRemovingConns[p27]:disconnect()\n            end\n            p_u_25.toolDescendantRemovingConns[p27] = p27.DescendantRemoving:Connect(function(p29)\n                -- upvalues: (ref) p_u_26, (ref) p_u_25\n                wait()\n                if p_u_26 and (p29 and (p29:IsDescendantOf(p_u_26) and p_u_25:IsValidPartToModify(p29))) then\n                    p_u_25.cachedParts[p29] = true\n                    p_u_25.transparencyDirty = true\n                end\n            end)\n        end\n    end)\n    if p_u_25.descendantRemovingConn then\n        p_u_25.descendantRemovingConn:disconnect()\n    end\n    p_u_25.descendantRemovingConn = p_u_26.DescendantRemoving:connect(function(p30)\n        -- upvalues: (copy) p_u_25\n        if p_u_25.cachedParts[p30] then\n            p_u_25.cachedParts[p30] = nil\n            p30.LocalTransparencyModifier = 0\n        end\n    end)\n    p_u_25:CachePartsRecursive(p_u_26)\nend\nfunction v_u_7.Enable(p31, p32)\n    if p31.enabled ~= p32 then\n        p31.enabled = p32\n    end\nend\nfunction v_u_7.SetSubject(p33, p34)\n    local v35\n    if p34 and p34:IsA(\"Humanoid\") then\n        v35 = p34.Parent\n    else\n        v35 = nil\n    end\n    if p34 and (p34:IsA(\"VehicleSeat\") and p34.Occupant) then\n        v35 = p34.Occupant.Parent\n    end\n    if v35 then\n        p33:SetupTransparency(v35)\n    else\n        p33:TeardownTransparency()\n    end\nend\nfunction v_u_7.Update(p36, p37)\n    -- upvalues: (copy) v_u_3, (copy) v_u_1\n    local v38 = workspace.CurrentCamera\n    if v38 and p36.enabled then\n        local v39 = (v38.Focus.p - v38.CoordinateFrame.p).magnitude\n        local v40 = v39 < 2 and 1 - (v39 - 0.5) / 1.5 or 0\n        local v41 = v40 < 0.5 and 0 or v40\n        if p36.lastTransparency and (v41 < 1 and p36.lastTransparency < 0.95) then\n            local v42 = v41 - p36.lastTransparency\n            local v43 = 2.8 * p37\n            local v44 = -v43\n            local v45 = math.clamp(v42, v44, v43)\n            v41 = p36.lastTransparency + v45\n        else\n            p36.transparencyDirty = true\n        end\n        local v46 = v_u_3.Round(v41, 2)\n        local v47 = math.clamp(v46, 0, 1)\n        if p36.transparencyDirty or p36.lastTransparency ~= v47 then\n            for v48, _ in pairs(p36.cachedParts) do\n                if v_u_1.VREnabled and v_u_1.AvatarGestures then\n                    local v49 = {\n                        [Enum.AccessoryType.Hat] = true,\n                        [Enum.AccessoryType.Hair] = true,\n                        [Enum.AccessoryType.Face] = true,\n                        [Enum.AccessoryType.Eyebrow] = true,\n                        [Enum.AccessoryType.Eyelash] = true\n                    }\n                    if v48.Parent:IsA(\"Accessory\") and v49[v48.Parent.AccessoryType] or v48.Name == \"Head\" then\n                        v48.LocalTransparencyModifier = v47\n                    else\n                        v48.LocalTransparencyModifier = 0\n                    end\n                else\n                    v48.LocalTransparencyModifier = v47\n                end\n            end\n            p36.transparencyDirty = false\n            p36.lastTransparency = v47\n        end\n    end\nend\nreturn v_u_7"},{"Path":"StarterPlayer.StarterPlayerScripts.PlayerModule.CameraModule.CameraUI","Name":"CameraUI","ClassName":"ModuleScript","Category":"StarterPlayerScripts","FileName":"CameraUI34.lua","Source":"-- Decompiled with Velocity Script Decompiler\nlocal v_u_1 = game:GetService(\"StarterGui\")\nlocal v_u_2 = false\nlocal v_u_6 = {\n    [\"setCameraModeToastEnabled\"] = function(p3)\n        -- upvalues: (ref) v_u_2, (copy) v_u_6\n        if p3 or v_u_2 then\n            if not v_u_2 then\n                v_u_2 = true\n            end\n            if not p3 then\n                v_u_6.setCameraModeToastOpen(false)\n            end\n        end\n    end,\n    [\"setCameraModeToastOpen\"] = function(p4)\n        -- upvalues: (ref) v_u_2, (copy) v_u_1\n        local v5 = v_u_2\n        assert(v5)\n        if p4 then\n            v_u_1:SetCore(\"SendNotification\", {\n                [\"Title\"] = \"Camera Control Enabled\",\n                [\"Text\"] = \"Right click to toggle\",\n                [\"Duration\"] = 3\n            })\n        end\n    end\n}\nreturn v_u_6"},{"Path":"StarterPlayer.StarterPlayerScripts.PlayerModule.CameraModule.BaseCamera","Name":"BaseCamera","ClassName":"ModuleScript","Category":"StarterPlayerScripts","FileName":"BaseCamera35.lua","Source":"-- Decompiled with Velocity Script Decompiler\nlocal v1 = game:GetService(\"Players\")\nlocal v_u_2 = game:GetService(\"UserInputService\")\nlocal v_u_3 = game:GetService(\"VRService\")\nlocal v_u_4 = UserSettings():GetService(\"UserGameSettings\")\nlocal v5 = script.Parent.Parent:WaitForChild(\"CommonUtils\")\nlocal v_u_6 = require(v5:WaitForChild(\"ConnectionUtil\"))\nrequire(v5:WaitForChild(\"FlagUtil\"))\nlocal v_u_7 = require(script.Parent:WaitForChild(\"CameraUtils\"))\nlocal v_u_8 = require(script.Parent:WaitForChild(\"ZoomController\"))\nlocal v_u_9 = require(script.Parent:WaitForChild(\"CameraToggleStateController\"))\nlocal v_u_10 = require(script.Parent:WaitForChild(\"CameraInput\"))\nlocal v_u_11 = require(script.Parent:WaitForChild(\"CameraUI\"))\nlocal v_u_12 = v1.LocalPlayer\nlocal v13, v14 = pcall(function()\n    return UserSettings():IsUserFeatureEnabled(\"UserFixGamepadMaxZoom\")\nend)\nlocal v_u_15 = v13 and v14\nVector2.new(0, 0)\nlocal v_u_16 = {\n    [\"CHARACTER_ADDED\"] = \"CHARACTER_ADDED\",\n    [\"CAMERA_MODE_CHANGED\"] = \"CAMERA_MODE_CHANGED\",\n    [\"CAMERA_MIN_DISTANCE_CHANGED\"] = \"CAMERA_MIN_DISTANCE_CHANGED\",\n    [\"CAMERA_MAX_DISTANCE_CHANGED\"] = \"CAMERA_MAX_DISTANCE_CHANGED\"\n}\nlocal v_u_17 = {}\nv_u_17.__index = v_u_17\nfunction v_u_17.new()\n    -- upvalues: (copy) v_u_17, (copy) v_u_6, (copy) v_u_12, (copy) v_u_4\n    local v18 = v_u_17\n    local v19 = setmetatable({}, v18)\n    v19._connections = v_u_6.new()\n    v19.gamepadZoomLevels = { 0, 10, 20 }\n    v19.FIRST_PERSON_DISTANCE_THRESHOLD = 1\n    v19.cameraType = nil\n    v19.cameraMovementMode = nil\n    v19.lastCameraTransform = nil\n    v19.lastUserPanCamera = tick()\n    v19.humanoidRootPart = nil\n    v19.humanoidCache = {}\n    v19.lastSubject = nil\n    v19.lastSubjectPosition = Vector3.new(0, 5, 0)\n    v19.lastSubjectCFrame = CFrame.new(v19.lastSubjectPosition)\n    local v20 = v_u_12.CameraMinZoomDistance\n    local v21 = v_u_12.CameraMaxZoomDistance\n    v19.currentSubjectDistance = math.clamp(12.5, v20, v21)\n    v19.inFirstPerson = false\n    v19.inMouseLockedMode = false\n    v19.portraitMode = false\n    v19.isSmallTouchScreen = false\n    v19.resetCameraAngle = true\n    v19.enabled = false\n    v19.cameraChangedConn = nil\n    v19.viewportSizeChangedConn = nil\n    v19.shouldUseVRRotation = false\n    v19.VRRotationIntensityAvailable = false\n    v19.lastVRRotationIntensityCheckTime = 0\n    v19.lastVRRotationTime = 0\n    v19.vrRotateKeyCooldown = {}\n    v19.cameraTranslationConstraints = Vector3.new(1, 1, 1)\n    v19.humanoidJumpOrigin = nil\n    v19.trackingHumanoid = nil\n    v19.cameraFrozen = false\n    v19.subjectStateChangedConn = nil\n    v19.gamepadZoomPressConnection = nil\n    v19.mouseLockOffset = Vector3.new(0, 0, 0)\n    v_u_4:SetCameraYInvertVisible()\n    v_u_4:SetGamepadCameraSensitivityVisible()\n    return v19\nend\nfunction v_u_17.GetModuleName(_)\n    return \"BaseCamera\"\nend\nfunction v_u_17._setUpConfigurations(p_u_22)\n    -- upvalues: (copy) v_u_16, (copy) v_u_12\n    p_u_22._connections:trackConnection(v_u_16.CHARACTER_ADDED, v_u_12.CharacterAdded:Connect(function(p23)\n        -- upvalues: (copy) p_u_22\n        p_u_22:OnCharacterAdded(p23)\n    end))\n    p_u_22.humanoidRootPart = nil\n    p_u_22._connections:trackConnection(v_u_16.CAMERA_MODE_CHANGED, v_u_12:GetPropertyChangedSignal(\"CameraMode\"):Connect(function()\n        -- upvalues: (copy) p_u_22\n        p_u_22:OnPlayerCameraPropertyChange()\n    end))\n    p_u_22._connections:trackConnection(v_u_16.CAMERA_MIN_DISTANCE_CHANGED, v_u_12:GetPropertyChangedSignal(\"CameraMinZoomDistance\"):Connect(function()\n        -- upvalues: (copy) p_u_22\n        p_u_22:OnPlayerCameraPropertyChange()\n    end))\n    p_u_22._connections:trackConnection(v_u_16.CAMERA_MAX_DISTANCE_CHANGED, v_u_12:GetPropertyChangedSignal(\"CameraMaxZoomDistance\"):Connect(function()\n        -- upvalues: (copy) p_u_22\n        p_u_22:OnPlayerCameraPropertyChange()\n    end))\n    p_u_22:OnPlayerCameraPropertyChange()\nend\nfunction v_u_17.OnCharacterAdded(p24, _)\n    p24.resetCameraAngle = p24.resetCameraAngle or p24:GetEnabled()\n    p24.humanoidRootPart = nil\nend\nfunction v_u_17.GetHumanoidRootPart(p25)\n    -- upvalues: (copy) v_u_12\n    local v26 = (not p25.humanoidRootPart and v_u_12.Character and true or false) and v_u_12.Character:FindFirstChildOfClass(\"Humanoid\")\n    if v26 then\n        p25.humanoidRootPart = v26.RootPart\n    end\n    return p25.humanoidRootPart\nend\nfunction v_u_17.GetBodyPartToFollow(_, p27, _)\n    if p27:GetState() == Enum.HumanoidStateType.Dead then\n        local v28 = p27.Parent\n        if v28 and v28:IsA(\"Model\") then\n            return v28:FindFirstChild(\"Head\") or p27.RootPart\n        end\n    end\n    return p27.RootPart\nend\nfunction v_u_17.GetSubjectCFrame(p29)\n    local v30 = p29.lastSubjectCFrame\n    local v31 = workspace.CurrentCamera\n    if v31 then\n        v31 = v31.CameraSubject\n    end\n    if not v31 then\n        return v30\n    end\n    if v31:IsA(\"Humanoid\") then\n        local v32 = v31:GetState() == Enum.HumanoidStateType.Dead\n        local v33 = v31.CameraOffset\n        if p29:GetIsMouseLocked() then\n            v33 = Vector3.new()\n        end\n        local v34 = v31.RootPart\n        if v32 and (v31.Parent and v31.Parent:IsA(\"Model\")) then\n            v34 = v31.Parent:FindFirstChild(\"Head\") or v34\n        end\n        if v34 and v34:IsA(\"BasePart\") then\n            local v35\n            if v31.RigType == Enum.HumanoidRigType.R15 then\n                if v31.AutomaticScalingEnabled then\n                    v35 = Vector3.new(0, 1.5, 0)\n                    local v36 = v31.RootPart\n                    if v34 == v36 then\n                        local v37 = (v36.Size.Y - (Vector3.new(2, 2, 1)).Y) / 2\n                        v35 = v35 + Vector3.new(0, v37, 0)\n                    end\n                else\n                    v35 = Vector3.new(0, 2, 0)\n                end\n            else\n                v35 = Vector3.new(0, 1.5, 0)\n            end\n            v30 = v34.CFrame * CFrame.new((v32 and Vector3.new(0, 0, 0) or v35) + v33)\n        end\n    elseif v31:IsA(\"BasePart\") then\n        v30 = v31.CFrame\n    elseif v31:IsA(\"Model\") then\n        if v31.PrimaryPart then\n            v30 = v31:GetPrimaryPartCFrame()\n        else\n            v30 = CFrame.new()\n        end\n    end\n    if v30 then\n        p29.lastSubjectCFrame = v30\n    end\n    return v30\nend\nfunction v_u_17.GetSubjectVelocity(_)\n    local v38 = workspace.CurrentCamera\n    if v38 then\n        v38 = v38.CameraSubject\n    end\n    if not v38 then\n        return Vector3.new(0, 0, 0)\n    end\n    if v38:IsA(\"BasePart\") then\n        return v38.Velocity\n    end\n    if v38:IsA(\"Humanoid\") then\n        local v39 = v38.RootPart\n        if v39 then\n            return v39.Velocity\n        end\n    else\n        local v40 = v38:IsA(\"Model\") and v38.PrimaryPart\n        if v40 then\n            return v40.Velocity\n        end\n    end\n    return Vector3.new(0, 0, 0)\nend\nfunction v_u_17.GetSubjectRotVelocity(_)\n    local v41 = workspace.CurrentCamera\n    if v41 then\n        v41 = v41.CameraSubject\n    end\n    if not v41 then\n        return Vector3.new(0, 0, 0)\n    end\n    if v41:IsA(\"BasePart\") then\n        return v41.RotVelocity\n    end\n    if v41:IsA(\"Humanoid\") then\n        local v42 = v41.RootPart\n        if v42 then\n            return v42.RotVelocity\n        end\n    else\n        local v43 = v41:IsA(\"Model\") and v41.PrimaryPart\n        if v43 then\n            return v43.RotVelocity\n        end\n    end\n    return Vector3.new(0, 0, 0)\nend\nfunction v_u_17.StepZoom(p44)\n    -- upvalues: (copy) v_u_10, (copy) v_u_8\n    local v45 = p44.currentSubjectDistance\n    local v46 = v_u_10.getZoomDelta()\n    if math.abs(v46) > 0 then\n        local v47\n        if v46 > 0 then\n            local v48 = v45 + v46 * (v45 * 0.5 + 1)\n            local v49 = p44.FIRST_PERSON_DISTANCE_THRESHOLD\n            v47 = math.max(v48, v49)\n        else\n            local v50 = (v45 + v46) / (1 - v46 * 0.5)\n            v47 = math.max(v50, 0.5)\n        end\n        p44:SetCameraToSubjectDistance(v47 < p44.FIRST_PERSON_DISTANCE_THRESHOLD and 0.5 or v47)\n    end\n    return v_u_8.GetZoomRadius()\nend\nfunction v_u_17.GetSubjectPosition(p51)\n    local v52 = p51.lastSubjectPosition\n    local v53 = game.Workspace.CurrentCamera\n    if v53 then\n        v53 = v53.CameraSubject\n    end\n    if not v53 then\n        return nil\n    end\n    if v53:IsA(\"Humanoid\") then\n        local v54 = v53:GetState() == Enum.HumanoidStateType.Dead\n        local v55 = v53.CameraOffset\n        if p51:GetIsMouseLocked() then\n            v55 = Vector3.new()\n        end\n        local v56 = v53.RootPart\n        if v54 and (v53.Parent and v53.Parent:IsA(\"Model\")) then\n            v56 = v53.Parent:FindFirstChild(\"Head\") or v56\n        end\n        if v56 and v56:IsA(\"BasePart\") then\n            local v57\n            if v53.RigType == Enum.HumanoidRigType.R15 then\n                if v53.AutomaticScalingEnabled then\n                    v57 = Vector3.new(0, 1.5, 0)\n                    if v56 == v53.RootPart then\n                        local v58 = v53.RootPart.Size.Y / 2 - (Vector3.new(2, 2, 1)).Y / 2\n                        v57 = v57 + Vector3.new(0, v58, 0)\n                    end\n                else\n                    v57 = Vector3.new(0, 2, 0)\n                end\n            else\n                v57 = Vector3.new(0, 1.5, 0)\n            end\n            v52 = v56.CFrame.p + v56.CFrame:vectorToWorldSpace((v54 and Vector3.new(0, 0, 0) or v57) + v55)\n        end\n    elseif v53:IsA(\"VehicleSeat\") then\n        v52 = v53.CFrame.p + v53.CFrame:vectorToWorldSpace(Vector3.new(0, 5, 0))\n    elseif v53:IsA(\"SkateboardPlatform\") then\n        v52 = v53.CFrame.p + Vector3.new(0, 5, 0)\n    elseif v53:IsA(\"BasePart\") then\n        v52 = v53.CFrame.p\n    elseif v53:IsA(\"Model\") then\n        if v53.PrimaryPart then\n            v52 = v53:GetPrimaryPartCFrame().p\n        else\n            v52 = v53:GetModelCFrame().p\n        end\n    end\n    p51.lastSubject = v53\n    p51.lastSubjectPosition = v52\n    return v52\nend\nfunction v_u_17.OnViewportSizeChanged(p59)\n    -- upvalues: (copy) v_u_2\n    local v60 = game.Workspace.CurrentCamera.ViewportSize\n    p59.portraitMode = v60.X < v60.Y\n    local v61 = v_u_2.TouchEnabled\n    if v61 then\n        v61 = v60.Y < 500 and true or v60.X < 700\n    end\n    p59.isSmallTouchScreen = v61\nend\nfunction v_u_17.OnCurrentCameraChanged(p_u_62)\n    -- upvalues: (copy) v_u_2\n    if v_u_2.TouchEnabled then\n        if p_u_62.viewportSizeChangedConn then\n            p_u_62.viewportSizeChangedConn:Disconnect()\n            p_u_62.viewportSizeChangedConn = nil\n        end\n        local v63 = game.Workspace.CurrentCamera\n        if v63 then\n            p_u_62:OnViewportSizeChanged()\n            p_u_62.viewportSizeChangedConn = v63:GetPropertyChangedSignal(\"ViewportSize\"):Connect(function()\n                -- upvalues: (copy) p_u_62\n                p_u_62:OnViewportSizeChanged()\n            end)\n        end\n    end\n    if p_u_62.cameraSubjectChangedConn then\n        p_u_62.cameraSubjectChangedConn:Disconnect()\n        p_u_62.cameraSubjectChangedConn = nil\n    end\n    local v64 = game.Workspace.CurrentCamera\n    if v64 then\n        p_u_62.cameraSubjectChangedConn = v64:GetPropertyChangedSignal(\"CameraSubject\"):Connect(function()\n            -- upvalues: (copy) p_u_62\n            p_u_62:OnNewCameraSubject()\n        end)\n        p_u_62:OnNewCameraSubject()\n    end\nend\nfunction v_u_17.OnPlayerCameraPropertyChange(p65)\n    p65:SetCameraToSubjectDistance(p65.currentSubjectDistance)\nend\nfunction v_u_17.InputTranslationToCameraAngleChange(_, p66, p67)\n    return p66 * p67\nend\nfunction v_u_17.GamepadZoomPress(p68)\n    -- upvalues: (copy) v_u_12, (ref) v_u_15\n    local v69 = p68:GetCameraToSubjectDistance()\n    local v70 = v_u_12.CameraMaxZoomDistance\n    for v71 = #p68.gamepadZoomLevels, 1, -1 do\n        local v72 = p68.gamepadZoomLevels[v71]\n        if v70 >= v72 then\n            if v72 < v_u_12.CameraMinZoomDistance then\n                v72 = v_u_12.CameraMinZoomDistance\n                if v_u_15 and v70 == v72 then\n                    break\n                end\n            end\n            if not v_u_15 and v70 == v72 then\n                break\n            end\n            if v72 + (v70 - v72) / 2 < v69 then\n                p68:SetCameraToSubjectDistance(v72)\n                return\n            end\n            v70 = v72\n        end\n    end\n    p68:SetCameraToSubjectDistance(p68.gamepadZoomLevels[#p68.gamepadZoomLevels])\nend\nfunction v_u_17.Enable(p73, p74)\n    if p73.enabled ~= p74 then\n        p73.enabled = p74\n        p73:OnEnabledChanged()\n    end\nend\nfunction v_u_17.OnEnabledChanged(p_u_75)\n    -- upvalues: (copy) v_u_10, (copy) v_u_12\n    if p_u_75.enabled then\n        p_u_75:_setUpConfigurations()\n        v_u_10.setInputEnabled(true)\n        p_u_75.gamepadZoomPressConnection = v_u_10.gamepadZoomPress:Connect(function()\n            -- upvalues: (copy) p_u_75\n            p_u_75:GamepadZoomPress()\n        end)\n        if v_u_12.CameraMode == Enum.CameraMode.LockFirstPerson then\n            p_u_75.currentSubjectDistance = 0.5\n            if not p_u_75.inFirstPerson then\n                p_u_75:EnterFirstPerson()\n            end\n        end\n        if p_u_75.cameraChangedConn then\n            p_u_75.cameraChangedConn:Disconnect()\n            p_u_75.cameraChangedConn = nil\n        end\n        p_u_75.cameraChangedConn = workspace:GetPropertyChangedSignal(\"CurrentCamera\"):Connect(function()\n            -- upvalues: (copy) p_u_75\n            p_u_75:OnCurrentCameraChanged()\n        end)\n        p_u_75:OnCurrentCameraChanged()\n    else\n        p_u_75._connections:disconnectAll()\n        v_u_10.setInputEnabled(false)\n        if p_u_75.gamepadZoomPressConnection then\n            p_u_75.gamepadZoomPressConnection:Disconnect()\n            p_u_75.gamepadZoomPressConnection = nil\n        end\n        p_u_75:Cleanup()\n    end\nend\nfunction v_u_17.GetEnabled(p76)\n    return p76.enabled\nend\nfunction v_u_17.Cleanup(p77)\n    -- upvalues: (copy) v_u_7\n    if p77.subjectStateChangedConn then\n        p77.subjectStateChangedConn:Disconnect()\n        p77.subjectStateChangedConn = nil\n    end\n    if p77.viewportSizeChangedConn then\n        p77.viewportSizeChangedConn:Disconnect()\n        p77.viewportSizeChangedConn = nil\n    end\n    if p77.cameraChangedConn then\n        p77.cameraChangedConn:Disconnect()\n        p77.cameraChangedConn = nil\n    end\n    p77.lastCameraTransform = nil\n    p77.lastSubjectCFrame = nil\n    v_u_7.restoreMouseBehavior()\nend\nfunction v_u_17.UpdateMouseBehavior(p78)\n    -- upvalues: (copy) v_u_4, (copy) v_u_11, (copy) v_u_10, (copy) v_u_9, (copy) v_u_7\n    local v79 = v_u_4.ComputerMovementMode == Enum.ComputerMovementMode.ClickToMove\n    if p78.isCameraToggle and v79 == false then\n        v_u_11.setCameraModeToastEnabled(true)\n        v_u_10.enableCameraToggleInput()\n        v_u_9(p78.inFirstPerson)\n        return\n    else\n        v_u_11.setCameraModeToastEnabled(false)\n        v_u_10.disableCameraToggleInput()\n        if p78.inFirstPerson or p78.inMouseLockedMode then\n            v_u_7.setRotationTypeOverride(Enum.RotationType.CameraRelative)\n            v_u_7.setMouseBehaviorOverride(Enum.MouseBehavior.LockCenter)\n            return\n        else\n            v_u_7.restoreRotationType()\n            if v_u_10.getRotationActivated() then\n                v_u_7.setMouseBehaviorOverride(Enum.MouseBehavior.LockCurrentPosition)\n            else\n                v_u_7.restoreMouseBehavior()\n            end\n        end\n    end\nend\nfunction v_u_17.UpdateForDistancePropertyChange(p80)\n    p80:SetCameraToSubjectDistance(p80.currentSubjectDistance)\nend\nfunction v_u_17.SetCameraToSubjectDistance(p81, p82)\n    -- upvalues: (copy) v_u_12, (copy) v_u_8\n    local v83 = p81.currentSubjectDistance\n    if v_u_12.CameraMode == Enum.CameraMode.LockFirstPerson then\n        p81.currentSubjectDistance = 0.5\n        if not p81.inFirstPerson then\n            p81:EnterFirstPerson()\n        end\n    else\n        local v84 = v_u_12.CameraMinZoomDistance\n        local v85 = v_u_12.CameraMaxZoomDistance\n        local v86 = math.clamp(p82, v84, v85)\n        if v86 < 1 then\n            p81.currentSubjectDistance = 0.5\n            if not p81.inFirstPerson then\n                p81:EnterFirstPerson()\n            end\n        else\n            p81.currentSubjectDistance = v86\n            if p81.inFirstPerson then\n                p81:LeaveFirstPerson()\n            end\n        end\n    end\n    local v87 = v_u_8.SetZoomParameters\n    local v88 = p81.currentSubjectDistance\n    local v89 = p82 - v83\n    v87(v88, (math.sign(v89)))\n    return p81.currentSubjectDistance\nend\nfunction v_u_17.SetCameraType(p90, p91)\n    p90.cameraType = p91\nend\nfunction v_u_17.GetCameraType(p92)\n    return p92.cameraType\nend\nfunction v_u_17.SetCameraMovementMode(p93, p94)\n    p93.cameraMovementMode = p94\nend\nfunction v_u_17.GetCameraMovementMode(p95)\n    return p95.cameraMovementMode\nend\nfunction v_u_17.SetIsMouseLocked(p96, p97)\n    p96.inMouseLockedMode = p97\nend\nfunction v_u_17.GetIsMouseLocked(p98)\n    return p98.inMouseLockedMode\nend\nfunction v_u_17.SetMouseLockOffset(p99, p100)\n    p99.mouseLockOffset = p100\nend\nfunction v_u_17.GetMouseLockOffset(p101)\n    return p101.mouseLockOffset\nend\nfunction v_u_17.InFirstPerson(p102)\n    return p102.inFirstPerson\nend\nfunction v_u_17.EnterFirstPerson(p103)\n    p103.inFirstPerson = true\n    p103:UpdateMouseBehavior()\nend\nfunction v_u_17.LeaveFirstPerson(p104)\n    p104.inFirstPerson = false\n    p104:UpdateMouseBehavior()\nend\nfunction v_u_17.GetCameraToSubjectDistance(p105)\n    return p105.currentSubjectDistance\nend\nfunction v_u_17.GetMeasuredDistanceToFocus(_)\n    local v106 = game.Workspace.CurrentCamera\n    if v106 then\n        return (v106.CoordinateFrame.p - v106.Focus.p).magnitude\n    else\n        return nil\n    end\nend\nfunction v_u_17.GetCameraLookVector(_)\n    return game.Workspace.CurrentCamera and game.Workspace.CurrentCamera.CFrame.LookVector or Vector3.new(0, 0, 1)\nend\nfunction v_u_17.CalculateNewLookCFrameFromArg(p107, p108, p109)\n    local v110 = p108 or p107:GetCameraLookVector()\n    local v111 = v110.Y\n    local v112 = math.asin(v111)\n    local v113 = p109.Y\n    local v114 = v112 + -1.3962634015954636\n    local v115 = v112 + 1.3962634015954636\n    local v116 = math.clamp(v113, v114, v115)\n    local v117 = Vector2.new(p109.X, v116)\n    local v118 = CFrame.new(Vector3.new(0, 0, 0), v110)\n    return CFrame.Angles(0, -v117.X, 0) * v118 * CFrame.Angles(-v117.Y, 0, 0)\nend\nfunction v_u_17.CalculateNewLookVectorFromArg(p119, p120, p121)\n    return p119:CalculateNewLookCFrameFromArg(p120, p121).LookVector\nend\nfunction v_u_17.CalculateNewLookVectorVRFromArg(p122, p123)\n    local v124 = ((p122:GetSubjectPosition() - game.Workspace.CurrentCamera.CFrame.p) * Vector3.new(1, 0, 1)).unit\n    local v125 = Vector2.new(p123.X, 0)\n    local v126 = CFrame.new(Vector3.new(0, 0, 0), v124)\n    return ((CFrame.Angles(0, -v125.X, 0) * v126 * CFrame.Angles(-v125.Y, 0, 0)).LookVector * Vector3.new(1, 0, 1)).unit\nend\nfunction v_u_17.GetHumanoid(p127)\n    -- upvalues: (copy) v_u_12\n    local v128 = v_u_12\n    if v128 then\n        v128 = v_u_12.Character\n    end\n    if not v128 then\n        return nil\n    end\n    local v129 = p127.humanoidCache[v_u_12]\n    if v129 and v129.Parent == v128 then\n        return v129\n    end\n    p127.humanoidCache[v_u_12] = nil\n    local v130 = v128:FindFirstChildOfClass(\"Humanoid\")\n    if v130 then\n        p127.humanoidCache[v_u_12] = v130\n    end\n    return v130\nend\nfunction v_u_17.GetHumanoidPartToFollow(_, p131, p132)\n    if p132 == Enum.HumanoidStateType.Dead then\n        local v133 = p131.Parent\n        if v133 then\n            return v133:FindFirstChild(\"Head\") or p131.Torso\n        else\n            return p131.Torso\n        end\n    else\n        return p131.Torso\n    end\nend\nfunction v_u_17.OnNewCameraSubject(p134)\n    if p134.subjectStateChangedConn then\n        p134.subjectStateChangedConn:Disconnect()\n        p134.subjectStateChangedConn = nil\n    end\nend\nfunction v_u_17.IsInFirstPerson(p135)\n    return p135.inFirstPerson\nend\nfunction v_u_17.Update(_, _)\n    error(\"BaseCamera:Update() This is a virtual function that should never be getting called.\", 2)\nend\nfunction v_u_17.GetCameraHeight(p136)\n    -- upvalues: (copy) v_u_3\n    return (not v_u_3.VREnabled or p136.inFirstPerson) and 0 or 0.25881904510252074 * p136.currentSubjectDistance\nend\nreturn v_u_17"},{"Path":"StarterPlayer.StarterPlayerScripts.PlayerModule.CameraModule.CameraInput","Name":"CameraInput","ClassName":"ModuleScript","Category":"StarterPlayerScripts","FileName":"CameraInput36.lua","Source":"-- Decompiled with Velocity Script Decompiler\nlocal v_u_1 = game:GetService(\"ContextActionService\")\nlocal v_u_2 = game:GetService(\"UserInputService\")\nlocal v3 = game:GetService(\"Players\")\nlocal v4 = game:GetService(\"RunService\")\nlocal v_u_5 = UserSettings():GetService(\"UserGameSettings\")\nlocal v_u_6 = game:GetService(\"VRService\")\nlocal v_u_7 = game:GetService(\"GuiService\")\nlocal v8 = script.Parent.Parent:WaitForChild(\"CommonUtils\")\nlocal v_u_9 = require(v8:WaitForChild(\"FlagUtil\")).getUserFlag(\"UserCameraInputDt\")\nlocal v_u_10 = v3.LocalPlayer\nlocal v_u_11 = Enum.ContextActionPriority.Medium.Value\nlocal v_u_12 = Vector2.new(1, 0.77) * 0.06981317007977318\nlocal v_u_13 = Vector2.new(1, 0.77) * 0.008726646259971648\nlocal v_u_14 = Vector2.new(1, 0.77) * 0.12217304763960307\nlocal v_u_15 = Vector2.new(1, 0.66) * 0.017453292519943295\nif v_u_9 then\n    v_u_12 = v_u_12 * 60\nend\nlocal v_u_16 = Instance.new(\"BindableEvent\")\nlocal v_u_17 = Instance.new(\"BindableEvent\")\nlocal v_u_18 = v_u_16.Event\nlocal v_u_19 = v_u_17.Event\nv_u_2.InputBegan:Connect(function(p20, p21)\n    -- upvalues: (copy) v_u_16\n    if not p21 and p20.UserInputType == Enum.UserInputType.MouseButton2 then\n        v_u_16:Fire()\n    end\nend)\nv_u_2.InputEnded:Connect(function(p22, _)\n    -- upvalues: (copy) v_u_17\n    if p22.UserInputType == Enum.UserInputType.MouseButton2 then\n        v_u_17:Fire()\n    end\nend)\nlocal function v_u_26(p23)\n    local v24 = (math.abs(p23) - 0.1) / 0.9 * 2\n    local v25 = (math.exp(v24) - 1) / 6.38905609893065\n    return math.sign(p23) * math.clamp(v25, 0, 1)\nend\nlocal function v_u_31(p27)\n    local v28 = workspace.CurrentCamera\n    if not v28 then\n        return p27\n    end\n    local v29 = v28.CFrame:ToEulerAnglesYXZ()\n    if p27.Y * v29 >= 0 then\n        return p27\n    end\n    local v30 = (1 - (math.abs(v29) * 2 / 3.141592653589793) ^ 0.75) * 0.75 + 0.25\n    return Vector2.new(1, v30) * p27\nend\nlocal function v_u_38(p32)\n    -- upvalues: (copy) v_u_10\n    local v33 = v_u_10:FindFirstChildOfClass(\"PlayerGui\")\n    if v33 then\n        v33 = v33:FindFirstChild(\"TouchGui\")\n    end\n    local v34\n    if v33 then\n        v34 = v33:FindFirstChild(\"TouchControlFrame\")\n    else\n        v34 = v33\n    end\n    if v34 then\n        v34 = v34:FindFirstChild(\"DynamicThumbstickFrame\")\n    end\n    if not v34 then\n        return false\n    end\n    if not v33.Enabled then\n        return false\n    end\n    local v35 = v34.AbsolutePosition\n    local v36 = v35 + v34.AbsoluteSize\n    local v37\n    if p32.X >= v35.X and (p32.Y >= v35.Y and p32.X <= v36.X) then\n        v37 = p32.Y <= v36.Y\n    else\n        v37 = false\n    end\n    return v37\nend\nlocal v_u_39 = 0.016666666666666666\nv4.Stepped:Connect(function(_, p40)\n    -- upvalues: (ref) v_u_39\n    v_u_39 = p40\nend)\nlocal v41 = {}\nlocal v_u_42 = {}\nlocal v_u_43 = 0\nlocal v_u_44 = {\n    [\"Thumbstick2\"] = Vector2.new()\n}\nlocal v_u_45 = {\n    [\"Left\"] = 0,\n    [\"Right\"] = 0,\n    [\"I\"] = 0,\n    [\"O\"] = 0\n}\nlocal v_u_46 = {\n    [\"Movement\"] = Vector2.new(),\n    [\"Wheel\"] = 0,\n    [\"Pan\"] = Vector2.new(),\n    [\"Pinch\"] = 0\n}\nlocal v_u_47 = {\n    [\"Move\"] = Vector2.new(),\n    [\"Pinch\"] = 0\n}\nlocal v_u_48 = Instance.new(\"BindableEvent\")\nv41.gamepadZoomPress = v_u_48.Event\nlocal v_u_49 = v_u_6.VREnabled and Instance.new(\"BindableEvent\") or nil\nif v_u_6.VREnabled then\n    v41.gamepadReset = v_u_49.Event\nend\nfunction v41.getRotationActivated()\n    -- upvalues: (ref) v_u_43, (copy) v_u_44\n    return v_u_43 > 0 and true or v_u_44.Thumbstick2.Magnitude > 0\nend\nfunction v41.getRotation(p50, p51)\n    -- upvalues: (copy) v_u_5, (copy) v_u_9, (copy) v_u_45, (ref) v_u_39, (copy) v_u_44, (copy) v_u_46, (copy) v_u_31, (copy) v_u_47, (ref) v_u_12, (copy) v_u_13, (copy) v_u_14, (copy) v_u_15\n    local v52 = Vector2.new(1, v_u_5:GetCameraYInvertValue())\n    local v53\n    if v_u_9 then\n        v53 = Vector2.new(v_u_45.Right - v_u_45.Left, 0) * p50\n    else\n        v53 = Vector2.new(v_u_45.Right - v_u_45.Left, 0) * v_u_39\n    end\n    local v54 = v_u_44.Thumbstick2 * v_u_5.GamepadCameraSensitivity\n    if v_u_9 then\n        v54 = v54 * p50\n    end\n    local v55 = v_u_46.Movement\n    local v56 = v_u_46.Pan\n    local v57 = v_u_31(v_u_47.Move)\n    if p51 then\n        v53 = Vector2.new()\n    end\n    return (v53 * 2.0943951023931953 + v54 * v_u_12 + v55 * v_u_13 + v56 * v_u_14 + v57 * v_u_15) * v52\nend\nfunction v41.getZoomDelta()\n    -- upvalues: (copy) v_u_45, (copy) v_u_46, (copy) v_u_47\n    local v58 = v_u_45.O - v_u_45.I\n    local v59 = -v_u_46.Wheel + v_u_46.Pinch\n    local v60 = -v_u_47.Pinch\n    return v58 * 0.1 + v59 * 1 + v60 * 0.04\nend\nlocal function v_u_63(_, _, p61)\n    -- upvalues: (copy) v_u_44, (ref) v_u_26\n    local v62 = p61.Position\n    v_u_44[p61.KeyCode.Name] = Vector2.new(v_u_26(v62.X), -v_u_26(v62.Y))\n    return Enum.ContextActionResult.Pass\nend\nlocal function v_u_66(_, p64, p65)\n    -- upvalues: (copy) v_u_45\n    v_u_45[p65.KeyCode.Name] = p64 == Enum.UserInputState.Begin and 1 or 0\nend\nlocal function v_u_68(_, p67, _)\n    -- upvalues: (copy) v_u_48\n    if p67 == Enum.UserInputState.Begin then\n        v_u_48:Fire()\n    end\nend\nlocal function v_u_70(_, p69, _)\n    -- upvalues: (copy) v_u_49\n    if p69 == Enum.UserInputState.Begin then\n        v_u_49:Fire()\n    end\nend\nlocal function v_u_75()\n    -- upvalues: (copy) v_u_44, (copy) v_u_45, (copy) v_u_46, (copy) v_u_47, (ref) v_u_43\n    local v71 = {\n        v_u_44,\n        v_u_45,\n        v_u_46,\n        v_u_47\n    }\n    for _, v72 in pairs(v71) do\n        for v73, v74 in pairs(v72) do\n            if type(v74) == \"boolean\" then\n                v72[v73] = false\n            else\n                v72[v73] = v72[v73] * 0\n            end\n        end\n    end\n    v_u_43 = 0\nend\nlocal v_u_76 = {}\nlocal v_u_77 = nil\nlocal v_u_78 = nil\nlocal function v_u_84(p79, p80)\n    -- upvalues: (ref) v_u_77, (copy) v_u_38, (ref) v_u_43, (ref) v_u_76\n    local v81 = p79.UserInputType == Enum.UserInputType.Touch\n    assert(v81)\n    local v82 = p79.UserInputState == Enum.UserInputState.Begin\n    assert(v82)\n    if v_u_77 == nil and (v_u_38(p79.Position) and not p80) then\n        v_u_77 = p79\n    else\n        if not p80 then\n            local v83 = v_u_43 + 1\n            v_u_43 = math.max(0, v83)\n        end\n        v_u_76[p79] = p80\n    end\nend\nlocal function v_u_89(p85, _)\n    -- upvalues: (ref) v_u_77, (ref) v_u_76, (ref) v_u_78, (ref) v_u_43\n    local v86 = p85.UserInputType == Enum.UserInputType.Touch\n    assert(v86)\n    local v87 = p85.UserInputState == Enum.UserInputState.End\n    assert(v87)\n    if p85 == v_u_77 then\n        v_u_77 = nil\n    end\n    if v_u_76[p85] == false then\n        v_u_78 = nil\n        local v88 = v_u_43 - 1\n        v_u_43 = math.max(0, v88)\n    end\n    v_u_76[p85] = nil\nend\nlocal function v_u_101(p90, p91)\n    -- upvalues: (ref) v_u_77, (ref) v_u_76, (copy) v_u_47, (ref) v_u_78\n    local v92 = p90.UserInputType == Enum.UserInputType.Touch\n    assert(v92)\n    local v93 = p90.UserInputState == Enum.UserInputState.Change\n    assert(v93)\n    if p90 == v_u_77 then\n        return\n    else\n        if v_u_76[p90] == nil then\n            v_u_76[p90] = p91\n        end\n        local v94 = {}\n        for v95, v96 in pairs(v_u_76) do\n            if not v96 then\n                table.insert(v94, v95)\n            end\n        end\n        if #v94 == 1 and v_u_76[p90] == false then\n            local v97 = p90.Delta\n            local v98 = v_u_47\n            v98.Move = v98.Move + Vector2.new(v97.X, v97.Y)\n        end\n        if #v94 == 2 then\n            local v99 = (v94[1].Position - v94[2].Position).Magnitude\n            if v_u_78 then\n                local v100 = v_u_47\n                v100.Pinch = v100.Pinch + (v99 - v_u_78)\n            end\n            v_u_78 = v99\n        else\n            v_u_78 = nil\n        end\n    end\nend\nlocal function v_u_102()\n    -- upvalues: (ref) v_u_76, (ref) v_u_77, (ref) v_u_78, (ref) v_u_43\n    v_u_76 = {}\n    v_u_77 = nil\n    v_u_78 = nil\n    v_u_43 = 0\nend\nlocal function v_u_107(p103, p104, p105, p106)\n    -- upvalues: (copy) v_u_46\n    if not p106 then\n        v_u_46.Wheel = p103\n        v_u_46.Pan = p104\n        v_u_46.Pinch = -p105\n    end\nend\nlocal function v_u_111(p108, p109)\n    -- upvalues: (ref) v_u_84, (ref) v_u_43\n    if p108.UserInputType == Enum.UserInputType.Touch then\n        v_u_84(p108, p109)\n    elseif p108.UserInputType == Enum.UserInputType.MouseButton2 and not p109 then\n        local v110 = v_u_43 + 1\n        v_u_43 = math.max(0, v110)\n    end\nend\nlocal function v_u_115(p112, p113)\n    -- upvalues: (ref) v_u_101, (copy) v_u_46\n    if p112.UserInputType == Enum.UserInputType.Touch then\n        v_u_101(p112, p113)\n    elseif p112.UserInputType == Enum.UserInputType.MouseMovement then\n        local v114 = p112.Delta\n        v_u_46.Movement = Vector2.new(v114.X, v114.Y)\n    end\nend\nlocal function v_u_119(p116, p117)\n    -- upvalues: (ref) v_u_89, (ref) v_u_43\n    if p116.UserInputType == Enum.UserInputType.Touch then\n        v_u_89(p116, p117)\n    elseif p116.UserInputType == Enum.UserInputType.MouseButton2 then\n        local v118 = v_u_43 - 1\n        v_u_43 = math.max(0, v118)\n    end\nend\nlocal v_u_120 = false\nfunction v41.setInputEnabled(p121)\n    -- upvalues: (ref) v_u_120, (copy) v_u_75, (ref) v_u_102, (copy) v_u_1, (copy) v_u_63, (copy) v_u_11, (copy) v_u_66, (copy) v_u_6, (copy) v_u_70, (copy) v_u_68, (ref) v_u_42, (copy) v_u_2, (copy) v_u_111, (copy) v_u_115, (copy) v_u_119, (copy) v_u_107, (copy) v_u_7\n    if v_u_120 == p121 then\n        return\n    else\n        v_u_120 = p121\n        v_u_75()\n        v_u_102()\n        if v_u_120 then\n            v_u_1:BindActionAtPriority(\"RbxCameraThumbstick\", v_u_63, false, v_u_11, Enum.KeyCode.Thumbstick2)\n            v_u_1:BindActionAtPriority(\"RbxCameraKeypress\", v_u_66, false, v_u_11, Enum.KeyCode.Left, Enum.KeyCode.Right, Enum.KeyCode.I, Enum.KeyCode.O)\n            if v_u_6.VREnabled then\n                v_u_1:BindAction(\"RbxCameraGamepadReset\", v_u_70, false, Enum.KeyCode.ButtonL3)\n            end\n            v_u_1:BindAction(\"RbxCameraGamepadZoom\", v_u_68, false, Enum.KeyCode.ButtonR3)\n            local v122 = v_u_42\n            local v123 = v_u_2.InputBegan\n            local v124 = v_u_111\n            table.insert(v122, v123:Connect(v124))\n            local v125 = v_u_42\n            local v126 = v_u_2.InputChanged\n            local v127 = v_u_115\n            table.insert(v125, v126:Connect(v127))\n            local v128 = v_u_42\n            local v129 = v_u_2.InputEnded\n            local v130 = v_u_119\n            table.insert(v128, v129:Connect(v130))\n            local v131 = v_u_42\n            local v132 = v_u_2.PointerAction\n            local v133 = v_u_107\n            table.insert(v131, v132:Connect(v133))\n            local v134 = v_u_42\n            local v135 = v_u_7.MenuOpened\n            local v136 = v_u_102\n            table.insert(v134, v135:connect(v136))\n        else\n            v_u_1:UnbindAction(\"RbxCameraThumbstick\")\n            v_u_1:UnbindAction(\"RbxCameraMouseMove\")\n            v_u_1:UnbindAction(\"RbxCameraMouseWheel\")\n            v_u_1:UnbindAction(\"RbxCameraKeypress\")\n            v_u_1:UnbindAction(\"RbxCameraGamepadZoom\")\n            if v_u_6.VREnabled then\n                v_u_1:UnbindAction(\"RbxCameraGamepadReset\")\n            end\n            for _, v137 in pairs(v_u_42) do\n                v137:Disconnect()\n            end\n            v_u_42 = {}\n        end\n    end\nend\nfunction v41.getInputEnabled()\n    -- upvalues: (ref) v_u_120\n    return v_u_120\nend\nfunction v41.resetInputForFrameEnd()\n    -- upvalues: (copy) v_u_46, (copy) v_u_47\n    v_u_46.Movement = Vector2.new()\n    v_u_47.Move = Vector2.new()\n    v_u_47.Pinch = 0\n    v_u_46.Wheel = 0\n    v_u_46.Pan = Vector2.new()\n    v_u_46.Pinch = 0\nend\nv_u_2.WindowFocused:Connect(v_u_75)\nv_u_2.WindowFocusReleased:Connect(v_u_75)\nlocal v_u_138 = false\nlocal v_u_139 = false\nlocal v_u_140 = 0\nfunction v41.getHoldPan()\n    -- upvalues: (ref) v_u_138\n    return v_u_138\nend\nfunction v41.getTogglePan()\n    -- upvalues: (ref) v_u_139\n    return v_u_139\nend\nfunction v41.getPanning()\n    -- upvalues: (ref) v_u_139, (ref) v_u_138\n    return v_u_139 or v_u_138\nend\nfunction v41.setTogglePan(p141)\n    -- upvalues: (ref) v_u_139\n    v_u_139 = p141\nend\nlocal v_u_142 = false\nlocal v_u_143 = nil\nlocal v_u_144 = nil\nfunction v41.enableCameraToggleInput()\n    -- upvalues: (ref) v_u_142, (ref) v_u_138, (ref) v_u_139, (ref) v_u_143, (ref) v_u_144, (ref) v_u_18, (ref) v_u_140, (ref) v_u_19, (copy) v_u_2\n    if not v_u_142 then\n        v_u_142 = true\n        v_u_138 = false\n        v_u_139 = false\n        if v_u_143 then\n            v_u_143:Disconnect()\n        end\n        if v_u_144 then\n            v_u_144:Disconnect()\n        end\n        v_u_143 = v_u_18:Connect(function()\n            -- upvalues: (ref) v_u_138, (ref) v_u_140\n            v_u_138 = true\n            v_u_140 = tick()\n        end)\n        v_u_144 = v_u_19:Connect(function()\n            -- upvalues: (ref) v_u_138, (ref) v_u_140, (ref) v_u_139, (ref) v_u_2\n            v_u_138 = false\n            if tick() - v_u_140 < 0.3 and (v_u_139 or v_u_2:GetMouseDelta().Magnitude < 2) then\n                v_u_139 = not v_u_139\n            end\n        end)\n    end\nend\nfunction v41.disableCameraToggleInput()\n    -- upvalues: (ref) v_u_142, (ref) v_u_143, (ref) v_u_144\n    if v_u_142 then\n        v_u_142 = false\n        if v_u_143 then\n            v_u_143:Disconnect()\n            v_u_143 = nil\n        end\n        if v_u_144 then\n            v_u_144:Disconnect()\n            v_u_144 = nil\n        end\n    end\nend\nreturn v41"},{"Path":"StarterPlayer.StarterPlayerScripts.PlayerModule.CameraModule.MouseLockController","Name":"MouseLockController","ClassName":"ModuleScript","Category":"StarterPlayerScripts","FileName":"MouseLockController37.lua","Source":"-- Decompiled with Velocity Script Decompiler\nlocal v1 = script.Parent.Parent:WaitForChild(\"CommonUtils\")\nlocal v2 = require(v1:WaitForChild(\"FlagUtil\"))\nlocal v_u_3 = Enum.ContextActionPriority.Medium.Value\nlocal v_u_4 = game:GetService(\"Players\")\nlocal v_u_5 = game:GetService(\"ContextActionService\")\nlocal v_u_6 = game:GetService(\"UserInputService\")\nlocal v_u_7 = UserSettings().GameSettings\nlocal v_u_8 = require(script.Parent:WaitForChild(\"CameraUtils\"))\nlocal v_u_9 = v2.getUserFlag(\"UserPreferredInputPlayerScripts2\")\nlocal v_u_10 = {}\nv_u_10.__index = v_u_10\nfunction v_u_10.new()\n    -- upvalues: (copy) v_u_10, (copy) v_u_7, (copy) v_u_4, (copy) v_u_9, (copy) v_u_6\n    local v11 = v_u_10\n    local v_u_12 = setmetatable({}, v11)\n    v_u_12.isMouseLocked = false\n    v_u_12.savedMouseCursor = nil\n    v_u_12.boundKeys = { Enum.KeyCode.LeftShift, Enum.KeyCode.RightShift }\n    v_u_12.mouseLockToggledEvent = Instance.new(\"BindableEvent\")\n    local v13 = script:FindFirstChild(\"BoundKeys\")\n    if not (v13 and v13:IsA(\"StringValue\")) then\n        if v13 then\n            v13:Destroy()\n        end\n        v13 = Instance.new(\"StringValue\")\n        assert(v13, \"\")\n        v13.Name = \"BoundKeys\"\n        v13.Value = \"LeftShift,RightShift\"\n        v13.Parent = script\n    end\n    if v13 then\n        v13.Changed:Connect(function(p14)\n            -- upvalues: (copy) v_u_12\n            v_u_12:OnBoundKeysObjectChanged(p14)\n        end)\n        v_u_12:OnBoundKeysObjectChanged(v13.Value)\n    end\n    v_u_7.Changed:Connect(function(p15)\n        -- upvalues: (copy) v_u_12\n        if p15 == \"ControlMode\" or p15 == \"ComputerMovementMode\" then\n            v_u_12:UpdateMouseLockAvailability()\n        end\n    end)\n    v_u_4.LocalPlayer:GetPropertyChangedSignal(\"DevEnableMouseLock\"):Connect(function()\n        -- upvalues: (copy) v_u_12\n        v_u_12:UpdateMouseLockAvailability()\n    end)\n    v_u_4.LocalPlayer:GetPropertyChangedSignal(\"DevComputerMovementMode\"):Connect(function()\n        -- upvalues: (copy) v_u_12\n        v_u_12:UpdateMouseLockAvailability()\n    end)\n    if v_u_9 then\n        v_u_6:GetPropertyChangedSignal(\"PreferredInput\"):Connect(function()\n            -- upvalues: (copy) v_u_12\n            v_u_12:UpdateMouseLockAvailability()\n        end)\n    end\n    v_u_12:UpdateMouseLockAvailability()\n    return v_u_12\nend\nfunction v_u_10.GetIsMouseLocked(p16)\n    return p16.isMouseLocked\nend\nfunction v_u_10.GetBindableToggleEvent(p17)\n    return p17.mouseLockToggledEvent.Event\nend\nfunction v_u_10.GetMouseLockOffset(_)\n    return Vector3.new(1.75, 0, 0)\nend\nfunction v_u_10.UpdateMouseLockAvailability(p18)\n    -- upvalues: (copy) v_u_4, (copy) v_u_7, (copy) v_u_6, (copy) v_u_9\n    local v19 = v_u_4.LocalPlayer.DevEnableMouseLock\n    local v20 = v_u_4.LocalPlayer.DevComputerMovementMode == Enum.DevComputerMovementMode.Scriptable\n    local v21 = v_u_7.ControlMode == Enum.ControlMode.MouseLockSwitch\n    local v22 = v_u_7.ComputerMovementMode == Enum.ComputerMovementMode.ClickToMove\n    local v23 = v_u_6.PreferredInput == Enum.PreferredInput.KeyboardAndMouse\n    if v_u_9 and not v23 then\n        v21 = v23\n    elseif v19 then\n        if v21 then\n            v21 = not v22\n            if v21 then\n                v21 = not v20\n            end\n        end\n    else\n        v21 = v19\n    end\n    if v21 ~= p18.enabled then\n        p18:EnableMouseLock(v21)\n    end\nend\nfunction v_u_10.OnBoundKeysObjectChanged(p24, p25)\n    p24.boundKeys = {}\n    for v26 in string.gmatch(p25, \"[^%s,]+\") do\n        for _, v27 in pairs(Enum.KeyCode:GetEnumItems()) do\n            if v26 == v27.Name then\n                p24.boundKeys[#p24.boundKeys + 1] = v27\n                break\n            end\n        end\n    end\n    p24:UnbindContextActions()\n    p24:BindContextActions()\nend\nfunction v_u_10.OnMouseLockToggled(p28)\n    -- upvalues: (copy) v_u_8\n    p28.isMouseLocked = not p28.isMouseLocked\n    if p28.isMouseLocked then\n        local v29 = script:FindFirstChild(\"CursorImage\")\n        if v29 and (v29:IsA(\"StringValue\") and v29.Value) then\n            v_u_8.setMouseIconOverride(v29.Value)\n        else\n            if v29 then\n                v29:Destroy()\n            end\n            local v30 = Instance.new(\"StringValue\")\n            assert(v30, \"\")\n            v30.Name = \"CursorImage\"\n            v30.Value = \"rbxasset://textures/MouseLockedCursor.png\"\n            v30.Parent = script\n            v_u_8.setMouseIconOverride(\"rbxasset://textures/MouseLockedCursor.png\")\n        end\n    else\n        v_u_8.restoreMouseIcon()\n    end\n    p28.mouseLockToggledEvent:Fire()\nend\nfunction v_u_10.DoMouseLockSwitch(p31, _, p32, _)\n    if p32 ~= Enum.UserInputState.Begin then\n        return Enum.ContextActionResult.Pass\n    end\n    p31:OnMouseLockToggled()\n    return Enum.ContextActionResult.Sink\nend\nfunction v_u_10.BindContextActions(p_u_33)\n    -- upvalues: (copy) v_u_5, (copy) v_u_3\n    local v34 = v_u_5\n    local v35 = v_u_3\n    local v36 = p_u_33.boundKeys\n    v34:BindActionAtPriority(\"MouseLockSwitchAction\", function(p37, p38, p39)\n        -- upvalues: (copy) p_u_33\n        return p_u_33:DoMouseLockSwitch(p37, p38, p39)\n    end, false, v35, unpack(v36))\nend\nfunction v_u_10.UnbindContextActions(_)\n    -- upvalues: (copy) v_u_5\n    v_u_5:UnbindAction(\"MouseLockSwitchAction\")\nend\nfunction v_u_10.IsMouseLocked(p40)\n    local v41 = p40.enabled\n    if v41 then\n        v41 = p40.isMouseLocked\n    end\n    return v41\nend\nfunction v_u_10.EnableMouseLock(p42, p43)\n    -- upvalues: (copy) v_u_8\n    if p43 ~= p42.enabled then\n        p42.enabled = p43\n        if p42.enabled then\n            p42:BindContextActions()\n            return\n        end\n        v_u_8.restoreMouseIcon()\n        p42:UnbindContextActions()\n        if p42.isMouseLocked then\n            p42.mouseLockToggledEvent:Fire()\n        end\n        p42.isMouseLocked = false\n    end\nend\nreturn v_u_10"},{"Path":"StarterPlayer.StarterPlayerScripts.PlayerModule.CommonUtils.CharacterUtil","Name":"CharacterUtil","ClassName":"ModuleScript","Category":"StarterPlayerScripts","FileName":"CharacterUtil38.lua","Source":"-- Decompiled with Velocity Script Decompiler\nlocal v_u_1 = game:GetService(\"Players\")\nlocal v2 = script.Parent\nlocal v_u_3 = {\n    [\"LOCAL_PLAYER\"] = \"LOCAL_PLAYER\",\n    [\"ON_LOCAL_PLAYER\"] = \"ON_LOCAL_PLAYER\",\n    [\"CHARACTER_ADDED\"] = \"CHARACTER_ADDED\",\n    [\"ON_CHARACTER\"] = \"ON_CHARACTER\",\n    [\"CHARACTER_CHILD_ADDED\"] = \"CHARACTER_CHILD_ADDED\"\n}\nlocal v_u_23 = {\n    [\"_connectionUtil\"] = require(v2:WaitForChild(\"ConnectionUtil\")).new(),\n    [\"_boundEvents\"] = {},\n    [\"getLocalPlayer\"] = function()\n        -- upvalues: (copy) v_u_1\n        return v_u_1.LocalPlayer\n    end,\n    [\"onLocalPlayer\"] = function(p4)\n        -- upvalues: (copy) v_u_23, (copy) v_u_3, (copy) v_u_1\n        local v5 = v_u_23.getLocalPlayer()\n        if v5 then\n            p4(v5)\n        end\n        v_u_23._connectionUtil:trackConnection(v_u_3.LOCAL_PLAYER, v_u_1:GetPropertyChangedSignal(\"LocalPlayer\"):Connect(function()\n            -- upvalues: (ref) v_u_23, (ref) v_u_3\n            local v6 = v_u_23.getLocalPlayer()\n            assert(v6)\n            v_u_23._getOrCreateBoundEvent(v_u_3.LOCAL_PLAYER):Fire(v6)\n        end))\n        return v_u_23._getOrCreateBoundEvent(v_u_3.LOCAL_PLAYER).Event:Connect(p4)\n    end,\n    [\"getCharacter\"] = function()\n        -- upvalues: (copy) v_u_23\n        local v7 = v_u_23.getLocalPlayer()\n        if v7 then\n            return v7.Character\n        else\n            return nil\n        end\n    end,\n    [\"onCharacter\"] = function(p_u_8)\n        -- upvalues: (copy) v_u_23, (copy) v_u_3\n        v_u_23._connectionUtil:trackConnection(v_u_3.ON_LOCAL_PLAYER, v_u_23.onLocalPlayer(function(p9)\n            -- upvalues: (ref) v_u_23, (copy) p_u_8, (ref) v_u_3\n            local v10 = v_u_23.getCharacter()\n            if v10 then\n                p_u_8(v10)\n            end\n            v_u_23._connectionUtil:trackConnection(v_u_3.CHARACTER_ADDED, p9.CharacterAdded:Connect(function(p11)\n                -- upvalues: (ref) v_u_23, (ref) v_u_3\n                assert(p11)\n                v_u_23._getOrCreateBoundEvent(v_u_3.CHARACTER_ADDED):Fire(p11)\n            end))\n        end))\n        return v_u_23._getOrCreateBoundEvent(v_u_3.CHARACTER_ADDED).Event:Connect(p_u_8)\n    end,\n    [\"getChild\"] = function(p12, p13)\n        -- upvalues: (copy) v_u_23\n        local v14 = v_u_23.getCharacter()\n        if v14 then\n            local v15 = v14:FindFirstChild(p12)\n            if v15 and v15:IsA(p13) then\n                return v15\n            else\n                return nil\n            end\n        else\n            return nil\n        end\n    end,\n    [\"onChild\"] = function(p_u_16, p_u_17, p_u_18)\n        -- upvalues: (copy) v_u_23, (copy) v_u_3\n        v_u_23._connectionUtil:trackConnection(v_u_3.ON_CHARACTER, v_u_23.onCharacter(function(p19)\n            -- upvalues: (ref) v_u_23, (copy) p_u_16, (copy) p_u_17, (copy) p_u_18, (ref) v_u_3\n            local v20 = v_u_23.getChild(p_u_16, p_u_17)\n            if v20 then\n                p_u_18(v20)\n            end\n            v_u_23._connectionUtil:trackConnection(v_u_3.CHARACTER_CHILD_ADDED, p19.ChildAdded:Connect(function(p21)\n                -- upvalues: (ref) p_u_16, (ref) p_u_17, (ref) v_u_23, (ref) v_u_3\n                if p21.Name == p_u_16 and p21:IsA(p_u_17) then\n                    v_u_23._getOrCreateBoundEvent(v_u_3.CHARACTER_CHILD_ADDED .. p_u_16 .. p_u_17):Fire(p21)\n                end\n            end))\n        end))\n        return v_u_23._getOrCreateBoundEvent(v_u_3.CHARACTER_CHILD_ADDED .. p_u_16 .. p_u_17).Event:Connect(p_u_18)\n    end,\n    [\"_getOrCreateBoundEvent\"] = function(p22)\n        -- upvalues: (copy) v_u_23\n        if not v_u_23._boundEvents[p22] then\n            v_u_23._boundEvents[p22] = Instance.new(\"BindableEvent\")\n        end\n        return v_u_23._boundEvents[p22]\n    end\n}\nreturn v_u_23"},{"Path":"StarterPlayer.StarterPlayerScripts.PlayerModule.CommonUtils.ConnectionUtil.spec","Name":"ConnectionUtil.spec","ClassName":"ModuleScript","Category":"StarterPlayerScripts","FileName":"ConnectionUtil.spec39.lua","Source":"-- Decompiled with Velocity Script Decompiler\nlocal v1 = game:GetService(\"CorePackages\")\nlocal v2 = require(v1.Packages.Dev.JestGlobals)\nlocal v3 = v2.describe\nlocal v_u_4 = v2.expect\nlocal v_u_5 = v2.it\nlocal v_u_6 = require(v1.Workspace.Packages.AppCommonLib).Signal\nlocal v_u_7 = require(script.Parent.ConnectionUtil)\nv3(\"ConnectionUtil\", function()\n    -- upvalues: (copy) v_u_5, (copy) v_u_7, (copy) v_u_4, (copy) v_u_6\n    v_u_5(\"should instantiate\", function()\n        -- upvalues: (ref) v_u_7, (ref) v_u_4\n        v_u_4((v_u_7.new())).never.toBeNil()\n    end)\n    v_u_5(\"should track a connection\", function()\n        -- upvalues: (ref) v_u_7, (ref) v_u_6, (ref) v_u_4\n        local v8 = v_u_7.new()\n        local v9 = v_u_6.new()\n        local v_u_10 = \"\"\n        v8:trackConnection(\"Signal\", v9:Connect(function(p11)\n            -- upvalues: (ref) v_u_10\n            v_u_10 = p11\n        end))\n        v9:fire(\"Testing\")\n        v_u_4(v_u_10).toBe(\"Testing\")\n    end)\n    v_u_5(\"should disconnect from signal\", function()\n        -- upvalues: (ref) v_u_7, (ref) v_u_6, (ref) v_u_4\n        local v12 = v_u_7.new()\n        local v13 = v_u_6.new()\n        local v_u_14 = \"\"\n        v12:trackConnection(\"Signal\", v13:Connect(function(p15)\n            -- upvalues: (ref) v_u_14\n            v_u_14 = p15\n        end))\n        v12:disconnect(\"Signal\")\n        v13:fire(\"Testing\")\n        v_u_4(v_u_14).toBe(\"\")\n    end)\n    v_u_5(\"should disconnect from all\", function()\n        -- upvalues: (ref) v_u_7, (ref) v_u_6, (ref) v_u_4\n        local v16 = v_u_7.new()\n        local v17 = v_u_6.new()\n        local v18 = v_u_6.new()\n        local v19 = v_u_6.new()\n        local v_u_20 = \"\"\n        local v_u_21 = \"\"\n        local v_u_22 = \"\"\n        v16:trackConnection(\"Signal\", v17:Connect(function(p23)\n            -- upvalues: (ref) v_u_20\n            v_u_20 = p23\n        end))\n        v16:trackConnection(\"Signal1\", v18:Connect(function(p24)\n            -- upvalues: (ref) v_u_21\n            v_u_21 = p24\n        end))\n        v16:trackConnection(\"Signal2\", v19:Connect(function(p25)\n            -- upvalues: (ref) v_u_22\n            v_u_22 = p25\n        end))\n        v16:disconnectAll()\n        v17:fire(\"TestingPrimary\")\n        v17:fire(\"TestingSecondary\")\n        v17:fire(\"TestingTertiary\")\n        v_u_4(v_u_20).toBe(\"\")\n        v_u_4(v_u_21).toBe(\"\")\n        v_u_4(v_u_22).toBe(\"\")\n    end)\n    v_u_5(\"should call manual disconnect\", function()\n        -- upvalues: (ref) v_u_7, (ref) v_u_4\n        local v26 = v_u_7.new()\n        local v_u_27 = \"\"\n        v26:trackBoundFunction(\"Manual\", function()\n            -- upvalues: (ref) v_u_27\n            v_u_27 = \"Disconnected\"\n        end)\n        v26:disconnect(\"Manual\")\n        v_u_4(v_u_27).toBe(\"Disconnected\")\n    end)\nend)"},{"Path":"StarterPlayer.StarterPlayerScripts.PlayerModule.CommonUtils.CameraWrapper.spec","Name":"CameraWrapper.spec","ClassName":"ModuleScript","Category":"StarterPlayerScripts","FileName":"CameraWrapper.spec40.lua","Source":"-- Decompiled with Velocity Script Decompiler\nlocal v1 = game:GetService(\"CorePackages\")\nlocal v2 = require(v1.Packages.Dev.JestGlobals)\nlocal v3 = v2.describe\nlocal v_u_4 = v2.expect\nlocal v_u_5 = v2.it\nlocal v_u_6 = require(v1.Workspace.Packages.TestUtils).DeferredLuaHelpers.waitForEvents\nlocal v_u_7 = require(script.Parent.CameraWrapper)\nv3(\"CameraWrapper\", function()\n    -- upvalues: (copy) v_u_5, (copy) v_u_7, (copy) v_u_4, (copy) v_u_6\n    v_u_5(\"should instantiate\", function()\n        -- upvalues: (ref) v_u_7, (ref) v_u_4\n        v_u_4((v_u_7.new())).never.toBeNil()\n    end)\n    v_u_5(\"should return updated camera\", function()\n        -- upvalues: (ref) v_u_7, (ref) v_u_4, (ref) v_u_6\n        local v8 = v_u_7.new()\n        v8:Enable()\n        local v9 = Instance.new(\"Camera\")\n        v9.Parent = game.Workspace\n        v_u_4(v8:getCamera()).toBe(game.Workspace.CurrentCamera)\n        v_u_4(v8:getCamera()).never.toBe(v9)\n        game.Workspace.CurrentCamera = v9\n        v_u_6()\n        v_u_4(v8:getCamera()).toBe(game.Workspace.CurrentCamera)\n        v_u_4(v8:getCamera()).toBe(v9)\n    end)\nend)"},{"Path":"StarterPlayer.StarterPlayerScripts.PlayerModule.CommonUtils.CameraWrapper","Name":"CameraWrapper","ClassName":"ModuleScript","Category":"StarterPlayerScripts","FileName":"CameraWrapper41.lua","Source":"-- Decompiled with Velocity Script Decompiler\nlocal v_u_1 = require(script.Parent.ConnectionUtil)\nlocal v_u_2 = {}\nv_u_2.__index = v_u_2\nfunction v_u_2.new()\n    -- upvalues: (copy) v_u_1, (copy) v_u_2\n    local v3 = {\n        [\"_camera\"] = game.Workspace.CurrentCamera,\n        [\"_callbacks\"] = {},\n        [\"_connectionUtil\"] = v_u_1.new(),\n        [\"_enabled\"] = false\n    }\n    local v4 = v_u_2\n    return setmetatable(v3, v4)\nend\nfunction v_u_2._connectCallbacks(p5)\n    p5._camera = game.Workspace.CurrentCamera\n    if p5._camera then\n        for v6, v7 in p5._callbacks do\n            p5._connectionUtil:trackConnection(v6, p5._camera:GetPropertyChangedSignal(v6):Connect(v7))\n            v7()\n        end\n    end\nend\nfunction v_u_2.Enable(p_u_8)\n    if not p_u_8._enabled then\n        p_u_8._enabled = true\n        p_u_8._cameraChangedConnection = game.Workspace:GetPropertyChangedSignal(\"CurrentCamera\"):Connect(function()\n            -- upvalues: (copy) p_u_8\n            p_u_8:_connectCallbacks()\n        end)\n        p_u_8:_connectCallbacks()\n    end\nend\nfunction v_u_2.Disable(p9)\n    if p9._enabled then\n        p9._enabled = false\n        if p9._cameraChangedConnection then\n            p9._cameraChangedConnection:Disconnect()\n            p9._cameraChangedConnection = nil\n        end\n        p9._connectionUtil:disconnectAll()\n    end\nend\nfunction v_u_2.Connect(p10, p11, p12)\n    p10._callbacks[p11] = p12\n    if p10._camera then\n        p10._connectionUtil:trackConnection(p11, p10._camera:GetPropertyChangedSignal(p11):Connect(p12))\n    end\nend\nfunction v_u_2.Disconnect(p13, p14)\n    p13._connectionUtil:disconnect(p14)\n    p13._callbacks[p14] = nil\nend\nfunction v_u_2.getCamera(p15)\n    return p15._camera\nend\nreturn v_u_2"},{"Path":"StarterPlayer.StarterPlayerScripts.PlayerModule.CommonUtils.FlagUtil","Name":"FlagUtil","ClassName":"ModuleScript","Category":"StarterPlayerScripts","FileName":"FlagUtil42.lua","Source":"-- Decompiled with Velocity Script Decompiler\nreturn {\n    [\"getUserFlag\"] = function(p_u_1)\n        local v2, v3 = pcall(function()\n            -- upvalues: (copy) p_u_1\n            return UserSettings():IsUserFeatureEnabled(p_u_1)\n        end)\n        return v2 and v3\n    end\n}"},{"Path":"StarterPlayer.StarterPlayerScripts.PlayerModule.CommonUtils.ConnectionUtil","Name":"ConnectionUtil","ClassName":"ModuleScript","Category":"StarterPlayerScripts","FileName":"ConnectionUtil43.lua","Source":"-- Decompiled with Velocity Script Decompiler\nlocal v_u_1 = {}\nv_u_1.__index = v_u_1\nfunction v_u_1.new()\n    -- upvalues: (copy) v_u_1\n    local v2 = v_u_1\n    local v3 = setmetatable({}, v2)\n    v3._connections = {}\n    return v3\nend\nfunction v_u_1.trackConnection(p4, p5, p_u_6)\n    if p4._connections[p5] then\n        p4._connections[p5]()\n    end\n    p4._connections[p5] = function()\n        -- upvalues: (copy) p_u_6\n        p_u_6:Disconnect()\n    end\nend\nfunction v_u_1.trackBoundFunction(p7, p8, p9)\n    if p7._connections[p8] then\n        p7._connections[p8]()\n    end\n    p7._connections[p8] = p9\nend\nfunction v_u_1.disconnect(p10, p11)\n    if p10._connections[p11] then\n        p10._connections[p11]()\n        p10._connections[p11] = nil\n    end\nend\nfunction v_u_1.disconnectAll(p12)\n    for _, v13 in pairs(p12._connections) do\n        v13()\n    end\n    p12._connections = {}\nend\nreturn v_u_1"},{"Path":"StarterPlayer.StarterPlayerScripts.PlayerScriptsLoader","Name":"PlayerScriptsLoader","ClassName":"LocalScript","Category":"StarterPlayerScripts","FileName":"PlayerScriptsLoader44.lua","Source":"-- Decompiled with Velocity Script Decompiler\nrequire(script.Parent:WaitForChild(\"PlayerModule\"))"},{"Path":"StarterPlayer.StarterPlayerScripts.ChatScript","Name":"ChatScript","ClassName":"LocalScript","Category":"StarterPlayerScripts","FileName":"ChatScript45.lua","Source":"-- Decompiled with Velocity Script Decompiler\nlocal v_u_1 = game:GetService(\"StarterGui\")\nlocal v2 = game:GetService(\"GuiService\")\nlocal v3 = game:GetService(\"Chat\")\nlocal v4 = game:GetService(\"ReplicatedStorage\")\nlocal v5 = v3:WaitForChild(\"ClientChatModules\")\nlocal v_u_6 = require(v5:WaitForChild(\"ChatSettings\"))\nlocal function v47()\n    -- upvalues: (copy) v_u_6\n    local v_u_7 = require(script:WaitForChild(\"ChatMain\"))\n    local v8 = {\n        [\"ChatWindow\"] = {},\n        [\"SetCore\"] = {},\n        [\"GetCore\"] = {}\n    }\n    v8.ChatWindow.ChatTypes = {}\n    v8.ChatWindow.ChatTypes.BubbleChatEnabled = v_u_6.BubbleChatEnabled\n    v8.ChatWindow.ChatTypes.ClassicChatEnabled = v_u_6.ClassicChatEnabled\n    local v9 = Instance.new(\"BindableEvent\")\n    v9.Name = \"ToggleVisibility\"\n    v8.ChatWindow.ToggleVisibility = v9\n    local v_u_10 = \"ToggleVisibility\"\n    v9.Event:connect(function(...)\n        -- upvalues: (copy) v_u_7, (copy) v_u_10\n        v_u_7[v_u_10](v_u_7, ...)\n    end)\n    local v11 = Instance.new(\"BindableEvent\")\n    v11.Name = \"SetVisible\"\n    v8.ChatWindow.SetVisible = v11\n    local v_u_12 = \"SetVisible\"\n    v11.Event:connect(function(...)\n        -- upvalues: (copy) v_u_7, (copy) v_u_12\n        v_u_7[v_u_12](v_u_7, ...)\n    end)\n    local v13 = Instance.new(\"BindableEvent\")\n    v13.Name = \"FocusChatBar\"\n    v8.ChatWindow.FocusChatBar = v13\n    local v_u_14 = \"FocusChatBar\"\n    v13.Event:connect(function(...)\n        -- upvalues: (copy) v_u_7, (copy) v_u_14\n        v_u_7[v_u_14](v_u_7, ...)\n    end)\n    local v15 = Instance.new(\"BindableEvent\")\n    v15.Name = \"EnterWhisperState\"\n    v8.ChatWindow.EnterWhisperState = v15\n    local v_u_16 = \"EnterWhisperState\"\n    v15.Event:connect(function(...)\n        -- upvalues: (copy) v_u_7, (copy) v_u_16\n        v_u_7[v_u_16](v_u_7, ...)\n    end)\n    local v17 = Instance.new(\"BindableFunction\")\n    v17.Name = \"GetVisibility\"\n    v8.ChatWindow.GetVisibility = v17\n    local v_u_18 = \"GetVisibility\"\n    function v17.OnInvoke(...)\n        -- upvalues: (copy) v_u_7, (copy) v_u_18\n        return v_u_7[v_u_18](v_u_7, ...)\n    end\n    local v19 = Instance.new(\"BindableFunction\")\n    v19.Name = \"GetMessageCount\"\n    v8.ChatWindow.GetMessageCount = v19\n    local v_u_20 = \"GetMessageCount\"\n    function v19.OnInvoke(...)\n        -- upvalues: (copy) v_u_7, (copy) v_u_20\n        return v_u_7[v_u_20](v_u_7, ...)\n    end\n    local v21 = Instance.new(\"BindableEvent\")\n    v21.Name = \"TopbarEnabledChanged\"\n    v8.ChatWindow.TopbarEnabledChanged = v21\n    local v_u_22 = \"TopbarEnabledChanged\"\n    v21.Event:connect(function(...)\n        -- upvalues: (copy) v_u_7, (copy) v_u_22\n        v_u_7[v_u_22](v_u_7, ...)\n    end)\n    local v23 = Instance.new(\"BindableFunction\")\n    v23.Name = \"IsFocused\"\n    v8.ChatWindow.IsFocused = v23\n    local v_u_24 = \"IsFocused\"\n    function v23.OnInvoke(...)\n        -- upvalues: (copy) v_u_7, (copy) v_u_24\n        return v_u_7[v_u_24](v_u_7, ...)\n    end\n    local v_u_25 = Instance.new(\"BindableEvent\")\n    v_u_25.Name = \"ChatBarFocusChanged\"\n    v8.ChatWindow.ChatBarFocusChanged = v_u_25\n    v_u_7.ChatBarFocusChanged:connect(function(...)\n        -- upvalues: (copy) v_u_25\n        v_u_25:Fire(...)\n    end)\n    local v_u_26 = Instance.new(\"BindableEvent\")\n    v_u_26.Name = \"VisibilityStateChanged\"\n    v8.ChatWindow.VisibilityStateChanged = v_u_26\n    v_u_7.VisibilityStateChanged:connect(function(...)\n        -- upvalues: (copy) v_u_26\n        v_u_26:Fire(...)\n    end)\n    local v_u_27 = Instance.new(\"BindableEvent\")\n    v_u_27.Name = \"MessagesChanged\"\n    v8.ChatWindow.MessagesChanged = v_u_27\n    v_u_7.MessagesChanged:connect(function(...)\n        -- upvalues: (copy) v_u_27\n        v_u_27:Fire(...)\n    end)\n    local v_u_28 = Instance.new(\"BindableEvent\")\n    v_u_28.Name = \"MessagePosted\"\n    v8.ChatWindow.MessagePosted = v_u_28\n    v_u_7.MessagePosted:connect(function(...)\n        -- upvalues: (copy) v_u_28\n        v_u_28:Fire(...)\n    end)\n    local v29 = Instance.new(\"BindableEvent\")\n    v29.Name = \"CoreGuiEnabled\"\n    v8.ChatWindow.CoreGuiEnabled = v29\n    local v_u_30 = \"CoreGuiEnabled\"\n    v29.Event:connect(function(...)\n        -- upvalues: (copy) v_u_7, (copy) v_u_30\n        v_u_7[v_u_30]:fire(...)\n    end)\n    local v31 = Instance.new(\"BindableEvent\")\n    v31.Name = \"ChatMakeSystemMessage\"\n    v8.SetCore.ChatMakeSystemMessage = v31\n    local v_u_32 = \"ChatMakeSystemMessage\"\n    v31.Event:connect(function(...)\n        -- upvalues: (copy) v_u_7, (copy) v_u_32\n        v_u_7[v_u_32 .. \"Event\"]:fire(...)\n    end)\n    local v33 = Instance.new(\"BindableEvent\")\n    v33.Name = \"ChatWindowPosition\"\n    v8.SetCore.ChatWindowPosition = v33\n    local v_u_34 = \"ChatWindowPosition\"\n    v33.Event:connect(function(...)\n        -- upvalues: (copy) v_u_7, (copy) v_u_34\n        v_u_7[v_u_34 .. \"Event\"]:fire(...)\n    end)\n    local v35 = Instance.new(\"BindableEvent\")\n    v35.Name = \"ChatWindowSize\"\n    v8.SetCore.ChatWindowSize = v35\n    local v_u_36 = \"ChatWindowSize\"\n    v35.Event:connect(function(...)\n        -- upvalues: (copy) v_u_7, (copy) v_u_36\n        v_u_7[v_u_36 .. \"Event\"]:fire(...)\n    end)\n    local v37 = Instance.new(\"BindableFunction\")\n    v37.Name = \"ChatWindowPosition\"\n    v8.GetCore.ChatWindowPosition = v37\n    local v_u_38 = \"ChatWindowPosition\"\n    function v37.OnInvoke(...)\n        -- upvalues: (copy) v_u_7, (copy) v_u_38\n        return v_u_7[\"f\" .. v_u_38](...)\n    end\n    local v39 = Instance.new(\"BindableFunction\")\n    v39.Name = \"ChatWindowSize\"\n    v8.GetCore.ChatWindowSize = v39\n    local v_u_40 = \"ChatWindowSize\"\n    function v39.OnInvoke(...)\n        -- upvalues: (copy) v_u_7, (copy) v_u_40\n        return v_u_7[\"f\" .. v_u_40](...)\n    end\n    local v41 = Instance.new(\"BindableEvent\")\n    v41.Name = \"ChatBarDisabled\"\n    v8.SetCore.ChatBarDisabled = v41\n    local v_u_42 = \"ChatBarDisabled\"\n    v41.Event:connect(function(...)\n        -- upvalues: (copy) v_u_7, (copy) v_u_42\n        v_u_7[v_u_42 .. \"Event\"]:fire(...)\n    end)\n    local v43 = Instance.new(\"BindableFunction\")\n    v43.Name = \"ChatBarDisabled\"\n    v8.GetCore.ChatBarDisabled = v43\n    local v_u_44 = \"ChatBarDisabled\"\n    function v43.OnInvoke(...)\n        -- upvalues: (copy) v_u_7, (copy) v_u_44\n        return v_u_7[\"f\" .. v_u_44](...)\n    end\n    local v45 = Instance.new(\"BindableEvent\")\n    v45.Name = \"SpecialKeyPressed\"\n    v8.ChatWindow.SpecialKeyPressed = v45\n    local v_u_46 = \"SpecialKeyPressed\"\n    v45.Event:connect(function(...)\n        -- upvalues: (copy) v_u_7, (copy) v_u_46\n        v_u_7[v_u_46](v_u_7, ...)\n    end)\n    SetCoreGuiChatConnections(v8)\nend\nfunction SetCoreGuiChatConnections(p_u_48)\n    -- upvalues: (copy) v_u_1\n    local v49 = 0\n    while v49 < 10 do\n        v49 = v49 + 1\n        local v50, v51 = pcall(function()\n            -- upvalues: (ref) v_u_1, (copy) p_u_48\n            v_u_1:SetCore(\"CoreGuiChatConnections\", p_u_48)\n        end)\n        if v50 then\n            break\n        end\n        if not v50 and v49 == 10 then\n            error(\"Error calling SetCore CoreGuiChatConnections: \" .. v51)\n        end\n        wait()\n    end\nend\nfunction checkBothChatTypesDisabled()\n    -- upvalues: (copy) v_u_6\n    if v_u_6.BubbleChatEnabled == nil or v_u_6.ClassicChatEnabled == nil then\n        return false\n    else\n        return not (v_u_6.BubbleChatEnabled or v_u_6.ClassicChatEnabled)\n    end\nend\nif v2:IsTenFootInterface() then\n    v4:WaitForChild(\"DefaultChatSystemChatEvents\").GetInitDataRequest:InvokeServer()\n    return\nelseif checkBothChatTypesDisabled() then\n    local v52 = {\n        [\"ChatWindow\"] = {}\n    }\n    v52.ChatWindow.ChatTypes = {}\n    v52.ChatWindow.ChatTypes.BubbleChatEnabled = false\n    v52.ChatWindow.ChatTypes.ClassicChatEnabled = false\n    SetCoreGuiChatConnections(v52)\nelse\n    v47()\nend"},{"Path":"StarterPlayer.StarterPlayerScripts.ChatScript.ChatMain","Name":"ChatMain","ClassName":"ModuleScript","Category":"StarterPlayerScripts","FileName":"ChatMain46.lua","Source":"-- Decompiled with Velocity Script Decompiler\nlocal v_u_1 = {\n    [\"Visible\"] = nil,\n    [\"IsCoreGuiEnabled\"] = nil,\n    [\"TopbarEnabled\"] = nil,\n    [\"VisibilityStateChanged\"] = nil\n}\nlocal v2, v3 = pcall(function()\n    return UserSettings():IsUserFeatureEnabled(\"UserHandleFriendJoinNotifierOnClient\")\nend)\nif not v2 then\n    v3 = false\nend\nlocal v4, v5 = pcall(function()\n    return UserSettings():IsUserFeatureEnabled(\"UserIsChatTranslationEnabled2\")\nend)\nlocal v_u_6 = v4 and v5\nlocal v7, v8 = pcall(function()\n    return UserSettings():IsUserFeatureEnabled(\"UserAddBetterConsoleCheckForLegacyChat\")\nend)\nlocal v9 = v7 and v8\ngame:GetService(\"RunService\")\nlocal v10 = game:GetService(\"ReplicatedStorage\")\nlocal v_u_11 = game:GetService(\"Chat\")\nlocal v_u_12 = game:GetService(\"StarterGui\")\ngame:GetService(\"ContextActionService\")\nlocal v_u_13 = v10:WaitForChild(\"DefaultChatSystemChatEvents\")\nlocal v14 = v10:WaitForChild(\"DefaultChatSystemChatEvents\")\nlocal v15 = v_u_11:WaitForChild(\"ClientChatModules\")\nlocal v_u_16 = require(v15:WaitForChild(\"ChatConstants\"))\nlocal v_u_17 = require(v15:WaitForChild(\"ChatSettings\"))\nlocal v18 = v15:WaitForChild(\"MessageCreatorModules\")\nlocal v19 = require(v18:WaitForChild(\"Util\"))\nlocal v_u_20 = nil\npcall(function()\n    -- upvalues: (ref) v_u_20\n    v_u_20 = require(game:GetService(\"Chat\").ClientChatModules.ChatLocalization)\nend)\nlocal v_u_22 = v_u_20 == nil and {\n    [\"Get\"] = function(_, _, p21)\n        return p21\n    end\n} or v_u_20\nlocal v_u_23\nif v_u_6 then\n    v_u_23 = script:FindFirstChild(\"ChatTranslationEnabled\")\n    if v_u_23 == nil then\n        local v_u_24 = nil\n        v_u_24 = script.ChildAdded:Connect(function(p25)\n            -- upvalues: (ref) v_u_23, (ref) v_u_24\n            if p25.Name == \"ChatTranslationEnabled\" then\n                v_u_23 = p25\n                v_u_24:Disconnect()\n            end\n        end)\n    end\nelse\n    v_u_23 = nil\nend\nlocal v_u_26 = 10\nlocal v_u_27 = {\n    [\"OnNewMessage\"] = \"RemoteEvent\",\n    [\"OnMessageDoneFiltering\"] = \"RemoteEvent\",\n    [\"OnNewSystemMessage\"] = \"RemoteEvent\",\n    [\"OnChannelJoined\"] = \"RemoteEvent\",\n    [\"OnChannelLeft\"] = \"RemoteEvent\",\n    [\"OnMuted\"] = \"RemoteEvent\",\n    [\"OnUnmuted\"] = \"RemoteEvent\",\n    [\"OnMainChannelSet\"] = \"RemoteEvent\",\n    [\"SayMessageRequest\"] = \"RemoteEvent\",\n    [\"GetInitDataRequest\"] = \"RemoteFunction\"\n}\nlocal v_u_28 = {}\nlocal v_u_29 = Instance.new(\"BindableEvent\")\nfunction TryRemoveChildWithVerifyingIsCorrectType(p30)\n    -- upvalues: (copy) v_u_27, (copy) v_u_28, (ref) v_u_26\n    if v_u_27[p30.Name] and p30:IsA(v_u_27[p30.Name]) then\n        v_u_27[p30.Name] = nil\n        v_u_28[p30.Name] = p30\n        v_u_26 = v_u_26 - 1\n    end\nend\nlocal v_u_31 = v_u_26\nfor _, v32 in pairs(v14:GetChildren()) do\n    TryRemoveChildWithVerifyingIsCorrectType(v32)\nend\nif v_u_31 > 0 then\n    local v34 = v14.ChildAdded:connect(function(p33)\n        -- upvalues: (ref) v_u_31, (copy) v_u_29\n        TryRemoveChildWithVerifyingIsCorrectType(p33)\n        if v_u_31 < 1 then\n            v_u_29:Fire()\n        end\n    end)\n    v_u_29.Event:wait()\n    v34:disconnect()\n    v_u_29:Destroy()\nend\nlocal v_u_35 = game:GetService(\"UserInputService\")\nlocal v_u_36 = game:GetService(\"RunService\")\nlocal v_u_37 = game:GetService(\"Players\")\nlocal v_u_38 = v_u_37.LocalPlayer\nwhile not v_u_38 do\n    v_u_37.ChildAdded:wait()\n    v_u_38 = v_u_37.LocalPlayer\nend\nlocal v_u_39 = true\nlocal v40 = v_u_17.ScreenGuiDisplayOrder == nil and 6 or v_u_17.ScreenGuiDisplayOrder\nlocal v41 = v_u_38:WaitForChild(\"PlayerGui\")\nlocal v_u_42 = Instance.new(\"ScreenGui\")\nv_u_42.Name = \"Chat\"\nv_u_42.ResetOnSpawn = false\nv_u_42.DisplayOrder = v40\nv_u_42.Parent = v41\nif v9 and game:GetService(\"GuiService\"):IsTenFootInterface() then\n    v_u_42.Enabled = false\nend\nlocal v_u_43 = false\nlocal v_u_44 = script\nlocal v45 = require(v_u_44:WaitForChild(\"ChatWindow\"))\nlocal v46 = require(v_u_44:WaitForChild(\"ChatBar\"))\nlocal v47 = require(v_u_44:WaitForChild(\"ChannelsBar\"))\nrequire(v_u_44:WaitForChild(\"MessageLabelCreator\"))\nlocal v_u_48 = require(v_u_44:WaitForChild(\"MessageLogDisplay\"))\nrequire(v_u_44:WaitForChild(\"ChatChannel\"))\nlocal v49 = require(v_u_44:WaitForChild(\"CommandProcessor\"))\nlocal v_u_50 = v45.new()\nlocal v_u_51 = v47.new()\nlocal v_u_52 = v_u_48.new()\nlocal v_u_53 = v49.new()\nlocal v_u_54 = v46.new(v_u_53, v_u_50)\nv_u_50:CreateGuiObjects(v_u_42)\nv_u_50:RegisterChatBar(v_u_54)\nv_u_50:RegisterChannelsBar(v_u_51)\nv_u_50:RegisterMessageLogDisplay(v_u_52)\nv19:RegisterChatWindow(v_u_50)\nlocal v_u_55 = require(v_u_44:WaitForChild(\"MessageSender\"))\nv_u_55:RegisterSayMessageFunction(v_u_28.SayMessageRequest)\nif v_u_35.TouchEnabled then\n    v_u_54:SetTextLabelText(v_u_22:Get(\"GameChat_ChatMain_ChatBarTextTouch\", \"Tap here to chat\"))\nelse\n    v_u_54:SetTextLabelText(v_u_22:Get(\"GameChat_ChatMain_ChatBarText\", \"To chat click here or press \\\"/\\\" key\"))\nend\nspawn(function()\n    -- upvalues: (copy) v_u_44, (copy) v_u_17, (copy) v_u_50\n    local v56 = require(v_u_44:WaitForChild(\"CurveUtil\"))\n    local v57 = 1 / (v_u_17.ChatAnimationFPS or 20)\n    local v58 = tick()\n    while true do\n        local v59 = tick()\n        local v60 = v56:DeltaTimeToTimescale(v59 - v58)\n        if v60 ~= 0 then\n            v_u_50:Update(v60)\n        end\n        wait(v57)\n        v58 = v59\n    end\nend)\nfunction CheckIfPointIsInSquare(p61, p62, p63)\n    local v64\n    if p62.X <= p61.X and (p61.X <= p63.X and p62.Y <= p61.Y) then\n        v64 = p61.Y <= p63.Y\n    else\n        v64 = false\n    end\n    return v64\nend\nlocal v_u_65 = false\nlocal v_u_66 = false\nlocal v_u_67 = 0\nlocal v_u_68 = 0\nlocal v_u_69 = Instance.new(\"BindableEvent\")\nlocal v_u_70 = Instance.new(\"BindableEvent\")\nlocal v_u_71 = Instance.new(\"BindableEvent\")\nfunction DoBackgroundFadeIn(p72)\n    -- upvalues: (ref) v_u_68, (ref) v_u_65, (copy) v_u_69, (copy) v_u_50, (copy) v_u_17, (copy) v_u_52, (copy) v_u_48\n    v_u_68 = tick()\n    v_u_65 = false\n    v_u_69:Fire()\n    v_u_50:FadeInBackground(p72 or v_u_17.ChatDefaultFadeDuration)\n    if v_u_50:GetCurrentChannel() then\n        local v73 = v_u_52.Scroller\n        v73.ScrollingEnabled = true\n        v73.ScrollBarThickness = v_u_48.ScrollBarThickness\n    end\nend\nfunction DoBackgroundFadeOut(p74)\n    -- upvalues: (ref) v_u_68, (ref) v_u_65, (copy) v_u_69, (copy) v_u_50, (copy) v_u_17, (copy) v_u_52\n    v_u_68 = tick()\n    v_u_65 = true\n    v_u_69:Fire()\n    v_u_50:FadeOutBackground(p74 or v_u_17.ChatDefaultFadeDuration)\n    if v_u_50:GetCurrentChannel() then\n        local v75 = v_u_52.Scroller\n        v75.ScrollingEnabled = false\n        v75.ScrollBarThickness = 0\n    end\nend\nfunction DoTextFadeIn(p76)\n    -- upvalues: (ref) v_u_67, (ref) v_u_66, (copy) v_u_69, (copy) v_u_50, (copy) v_u_17\n    v_u_67 = tick()\n    v_u_66 = false\n    v_u_69:Fire()\n    v_u_50:FadeInText((p76 or v_u_17.ChatDefaultFadeDuration) * 0)\nend\nfunction DoTextFadeOut(p77)\n    -- upvalues: (ref) v_u_67, (ref) v_u_66, (copy) v_u_69, (copy) v_u_50, (copy) v_u_17\n    v_u_67 = tick()\n    v_u_66 = true\n    v_u_69:Fire()\n    v_u_50:FadeOutText(p77 or v_u_17.ChatDefaultFadeDuration)\nend\nfunction DoFadeInFromNewInformation()\n    -- upvalues: (copy) v_u_17\n    DoTextFadeIn()\n    if v_u_17.ChatShouldFadeInFromNewInformation then\n        DoBackgroundFadeIn()\n    end\nend\nfunction InstantFadeIn()\n    DoBackgroundFadeIn(0)\n    DoTextFadeIn(0)\nend\nfunction InstantFadeOut()\n    DoBackgroundFadeOut(0)\n    DoTextFadeOut(0)\nend\nlocal v_u_78 = nil\nfunction UpdateFadingForMouseState(p79)\n    -- upvalues: (ref) v_u_78, (copy) v_u_70, (copy) v_u_54\n    v_u_78 = p79\n    v_u_70:Fire()\n    if v_u_54:IsFocused() then\n        return\n    elseif p79 then\n        DoBackgroundFadeIn()\n        DoTextFadeIn()\n    else\n        DoBackgroundFadeIn()\n    end\nend\nspawn(function()\n    -- upvalues: (copy) v_u_36, (ref) v_u_78, (copy) v_u_54, (copy) v_u_70, (copy) v_u_71, (ref) v_u_65, (ref) v_u_68, (copy) v_u_17, (ref) v_u_66, (ref) v_u_67, (copy) v_u_69\n    while true do\n        v_u_36.RenderStepped:wait()\n        while v_u_78 or v_u_54:IsFocused() do\n            if v_u_78 then\n                v_u_70.Event:wait()\n            end\n            if v_u_54:IsFocused() then\n                v_u_71.Event:wait()\n            end\n        end\n        if v_u_65 then\n            if v_u_66 then\n                v_u_69.Event:wait()\n            elseif tick() - v_u_67 > v_u_17.ChatWindowTextFadeOutTime then\n                DoTextFadeOut()\n            end\n        elseif tick() - v_u_68 > v_u_17.ChatWindowBackgroundFadeOutTime then\n            DoBackgroundFadeOut()\n        end\n    end\nend)\nfunction getClassicChatEnabled()\n    -- upvalues: (copy) v_u_17, (copy) v_u_37\n    if v_u_17.ClassicChatEnabled == nil then\n        return v_u_37.ClassicChat\n    else\n        return v_u_17.ClassicChatEnabled\n    end\nend\nfunction getBubbleChatEnabled()\n    -- upvalues: (copy) v_u_17, (copy) v_u_37\n    if v_u_17.BubbleChatEnabled == nil then\n        return v_u_37.BubbleChat\n    else\n        return v_u_17.BubbleChatEnabled\n    end\nend\nfunction bubbleChatOnly()\n    local v80 = not getClassicChatEnabled()\n    if v80 then\n        v80 = getBubbleChatEnabled()\n    end\n    return v80\nend\nfunction UpdateMousePosition(p81)\n    -- upvalues: (copy) v_u_1, (copy) v_u_17, (copy) v_u_50, (ref) v_u_78\n    if v_u_1.Visible and (v_u_1.IsCoreGuiEnabled and (v_u_1.TopbarEnabled or v_u_17.ChatOnWithTopBarOff)) then\n        if not bubbleChatOnly() then\n            local v82 = v_u_50.GuiObject.AbsolutePosition\n            local v83 = v_u_50.GuiObject.AbsoluteSize\n            local v84 = CheckIfPointIsInSquare(p81, v82, v82 + v83)\n            if v84 ~= v_u_78 then\n                UpdateFadingForMouseState(v84)\n            end\n        end\n    else\n        return\n    end\nend\nv_u_35.InputChanged:connect(function(p85, _)\n    if p85.UserInputType == Enum.UserInputType.MouseMovement then\n        local v86 = Vector2.new(p85.Position.X, p85.Position.Y)\n        UpdateMousePosition(v86)\n    end\nend)\nv_u_35.TouchTap:connect(function(p87, _)\n    UpdateMousePosition(p87[1])\nend)\nv_u_35.TouchMoved:connect(function(p88, _)\n    local v89 = Vector2.new(p88.Position.X, p88.Position.Y)\n    UpdateMousePosition(v89)\nend)\nv_u_35.Changed:connect(function(p90)\n    -- upvalues: (copy) v_u_35, (copy) v_u_50, (copy) v_u_42\n    if p90 == \"MouseBehavior\" and v_u_35.MouseBehavior == Enum.MouseBehavior.LockCenter then\n        local v91 = v_u_50.GuiObject.AbsolutePosition\n        local v92 = v_u_50.GuiObject.AbsoluteSize\n        local v93 = v_u_42.AbsoluteSize\n        if CheckIfPointIsInSquare(v93 / 2, v91, v91 + v92) then\n            v_u_35.MouseBehavior = Enum.MouseBehavior.Default\n        end\n    end\nend)\nUpdateFadingForMouseState(true)\nUpdateFadingForMouseState(false)\nlocal v104 = {\n    [\"Signal\"] = function()\n        local v94 = {}\n        local v_u_95 = Instance.new(\"BindableEvent\")\n        local v_u_96 = nil\n        local v_u_97 = nil\n        function v94.fire(_, ...)\n            -- upvalues: (ref) v_u_96, (ref) v_u_97, (copy) v_u_95\n            v_u_96 = { ... }\n            v_u_97 = select(\"#\", ...)\n            v_u_95:Fire()\n        end\n        function v94.connect(_, p_u_98)\n            -- upvalues: (copy) v_u_95, (ref) v_u_96, (ref) v_u_97\n            if not p_u_98 then\n                error(\"connect(nil)\", 2)\n            end\n            return v_u_95.Event:connect(function()\n                -- upvalues: (copy) p_u_98, (ref) v_u_96, (ref) v_u_97\n                local v99 = v_u_96\n                local v100 = v_u_97\n                p_u_98(unpack(v99, 1, v100))\n            end)\n        end\n        function v94.wait(_)\n            -- upvalues: (copy) v_u_95, (ref) v_u_96, (ref) v_u_97\n            v_u_95.Event:wait()\n            local v101 = v_u_96\n            assert(v101, \"Missing arg data, likely due to :TweenSize/Position corrupting threadrefs.\")\n            local v102 = v_u_96\n            local v103 = v_u_97\n            return unpack(v102, 1, v103)\n        end\n        return v94\n    end\n}\nfunction SetVisibility(p105)\n    -- upvalues: (copy) v_u_50, (copy) v_u_1\n    v_u_50:SetVisible(p105)\n    v_u_1.VisibilityStateChanged:fire(p105)\n    v_u_1.Visible = p105\n    if v_u_1.IsCoreGuiEnabled then\n        if p105 then\n            InstantFadeIn()\n            return\n        end\n        InstantFadeOut()\n    end\nend\nlocal v_u_106 = nil\nv_u_1.TopbarEnabled = true\nv_u_1.MessageCount = 0\nv_u_1.Visible = true\nv_u_1.IsCoreGuiEnabled = true\nfunction v_u_1.ToggleVisibility(_)\n    -- upvalues: (copy) v_u_50\n    SetVisibility(not v_u_50:GetVisible())\nend\nfunction v_u_1.SetVisible(_, p107)\n    -- upvalues: (copy) v_u_50\n    if v_u_50:GetVisible() ~= p107 then\n        SetVisibility(p107)\n    end\nend\nfunction v_u_1.FocusChatBar(_)\n    -- upvalues: (copy) v_u_54\n    v_u_54:CaptureFocus()\nend\nfunction v_u_1.EnterWhisperState(_, p108)\n    -- upvalues: (copy) v_u_54\n    v_u_54:EnterWhisperState(p108)\nend\nfunction v_u_1.GetVisibility(_)\n    -- upvalues: (copy) v_u_50\n    return v_u_50:GetVisible()\nend\nfunction v_u_1.GetMessageCount(p109)\n    return p109.MessageCount\nend\nfunction v_u_1.TopbarEnabledChanged(p110, p111)\n    p110.TopbarEnabled = p111\n    p110.CoreGuiEnabled:fire(game:GetService(\"StarterGui\"):GetCoreGuiEnabled(Enum.CoreGuiType.Chat))\nend\nfunction v_u_1.IsFocused(_, _)\n    -- upvalues: (copy) v_u_54\n    return v_u_54:IsFocused()\nend\nv_u_1.ChatBarFocusChanged = v104.Signal()\nv_u_1.VisibilityStateChanged = v104.Signal()\nv_u_1.MessagesChanged = v104.Signal()\nv_u_1.MessagePosted = v104.Signal()\nv_u_1.CoreGuiEnabled = v104.Signal()\nv_u_1.ChatMakeSystemMessageEvent = v104.Signal()\nv_u_1.ChatWindowPositionEvent = v104.Signal()\nv_u_1.ChatWindowSizeEvent = v104.Signal()\nv_u_1.ChatBarDisabledEvent = v104.Signal()\nfunction v_u_1.fChatWindowPosition(_)\n    -- upvalues: (copy) v_u_50\n    return v_u_50.GuiObject.Position\nend\nfunction v_u_1.fChatWindowSize(_)\n    -- upvalues: (copy) v_u_50\n    return v_u_50.GuiObject.Size\nend\nfunction v_u_1.fChatBarDisabled(_)\n    -- upvalues: (copy) v_u_54\n    return not v_u_54:GetEnabled()\nend\nfunction v_u_1.SpecialKeyPressed(_, p112, _)\n    -- upvalues: (ref) v_u_39, (ref) v_u_106\n    if p112 == Enum.SpecialKey.ChatHotkey and v_u_39 then\n        v_u_106()\n    end\nend\nv_u_1.CoreGuiEnabled:connect(function(p113)\n    -- upvalues: (copy) v_u_1, (copy) v_u_17, (copy) v_u_50, (copy) v_u_54\n    v_u_1.IsCoreGuiEnabled = p113\n    if p113 then\n        p113 = v_u_1.TopbarEnabled or v_u_17.ChatOnWithTopBarOff\n    end\n    v_u_50:SetCoreGuiEnabled(p113)\n    if p113 then\n        InstantFadeIn()\n    else\n        v_u_54:ReleaseFocus()\n        InstantFadeOut()\n    end\nend)\nfunction trimTrailingSpaces(p114)\n    local v115 = #p114\n    while v115 > 0 and p114:find(\"^%s\", v115) do\n        v115 = v115 - 1\n    end\n    return p114:sub(1, v115)\nend\nv_u_1.ChatMakeSystemMessageEvent:connect(function(p116)\n    -- upvalues: (ref) v_u_43, (copy) v_u_17, (copy) v_u_50, (copy) v_u_16, (copy) v_u_51, (copy) v_u_1\n    if p116.Text then\n        local v117 = p116.Text\n        if type(v117) == \"string\" then\n            while not v_u_43 do\n                wait()\n            end\n            local v118 = v_u_17.GeneralChannelName\n            local v119 = v_u_50:GetChannel(v118)\n            if v119 then\n                local v120 = {\n                    [\"ID\"] = -1,\n                    [\"FromSpeaker\"] = nil,\n                    [\"SpeakerUserId\"] = 0,\n                    [\"OriginalChannel\"] = v118,\n                    [\"IsFiltered\"] = true\n                }\n                local v121 = p116.Text\n                v120.MessageLength = string.len(v121)\n                v120.MessageLengthUtf8 = utf8.len(utf8.nfcnormalize(p116.Text))\n                v120.Message = trimTrailingSpaces(p116.Text)\n                v120.MessageType = v_u_16.MessageTypeSetCore\n                v120.Time = os.time()\n                v120.ExtraData = p116\n                v119:AddMessageToChannel(v120)\n                v_u_51:UpdateMessagePostedInChannel(v118)\n                v_u_1.MessageCount = v_u_1.MessageCount + 1\n                v_u_1.MessagesChanged:fire(v_u_1.MessageCount)\n            end\n        end\n    end\nend)\nv_u_1.ChatBarDisabledEvent:connect(function(p122)\n    -- upvalues: (ref) v_u_39, (copy) v_u_54\n    if v_u_39 then\n        v_u_54:SetEnabled(not p122)\n        if p122 then\n            v_u_54:ReleaseFocus()\n        end\n    end\nend)\nv_u_1.ChatWindowSizeEvent:connect(function(p123)\n    -- upvalues: (copy) v_u_50\n    v_u_50.GuiObject.Size = p123\nend)\nv_u_1.ChatWindowPositionEvent:connect(function(p124)\n    -- upvalues: (copy) v_u_50\n    v_u_50.GuiObject.Position = p124\nend)\nv_u_106 = function()\n    -- upvalues: (copy) v_u_50, (copy) v_u_54, (copy) v_u_1\n    if v_u_50:GetCoreGuiEnabled() then\n        if v_u_54:GetEnabled() then\n            if not v_u_54:IsFocused() and v_u_54:GetVisible() then\n                v_u_1:SetVisible(true)\n                InstantFadeIn()\n                v_u_54:CaptureFocus()\n                v_u_1.ChatBarFocusChanged:fire(true)\n            end\n        end\n    else\n        return\n    end\nend\nv_u_71.Event:connect(function(p125)\n    -- upvalues: (copy) v_u_1\n    v_u_1.ChatBarFocusChanged:fire(p125)\nend)\nfunction DoSwitchCurrentChannel(p126)\n    -- upvalues: (copy) v_u_50\n    if v_u_50:GetChannel(p126) then\n        v_u_50:SwitchCurrentChannel(p126)\n    end\nend\nfunction SendMessageToSelfInTargetChannel(p127, p128, p129)\n    -- upvalues: (copy) v_u_50, (copy) v_u_16\n    local v130 = v_u_50:GetChannel(p128)\n    if v130 then\n        v130:AddMessageToChannel({\n            [\"ID\"] = -1,\n            [\"FromSpeaker\"] = nil,\n            [\"SpeakerUserId\"] = 0,\n            [\"OriginalChannel\"] = p128,\n            [\"IsFiltered\"] = true,\n            [\"MessageLength\"] = string.len(p127),\n            [\"MessageLengthUtf8\"] = utf8.len(utf8.nfcnormalize(p127)),\n            [\"Message\"] = trimTrailingSpaces(p127),\n            [\"MessageType\"] = v_u_16.MessageTypeSystem,\n            [\"Time\"] = os.time(),\n            [\"ExtraData\"] = p129\n        })\n    end\nend\nfunction chatBarFocused()\n    -- upvalues: (ref) v_u_78, (ref) v_u_66, (copy) v_u_71\n    if not v_u_78 then\n        DoBackgroundFadeIn()\n        if v_u_66 then\n            DoTextFadeIn()\n        end\n    end\n    v_u_71:Fire(true)\nend\nfunction chatBarFocusLost(p131, _)\n    -- upvalues: (copy) v_u_71, (copy) v_u_54, (copy) v_u_1, (copy) v_u_53, (copy) v_u_50, (copy) v_u_17, (copy) v_u_55\n    DoBackgroundFadeIn()\n    v_u_71:Fire(false)\n    if p131 then\n        local v132 = v_u_54:GetTextBox().Text\n        if v_u_54:IsInCustomState() then\n            v132 = v_u_54:GetCustomMessage() or v132\n            local v133 = v_u_54:CustomStateProcessCompletedMessage(v132)\n            v_u_54:ResetCustomState()\n            if v133 then\n                return\n            end\n        end\n        v_u_54:GetTextBox().Text = \"\"\n        if v132 ~= \"\" then\n            v_u_1.MessagePosted:fire(v132)\n            if not v_u_53:ProcessCompletedChatMessage(v132, v_u_50) then\n                if v_u_17.DisallowedWhiteSpace then\n                    for v134 = 1, #v_u_17.DisallowedWhiteSpace do\n                        if v_u_17.DisallowedWhiteSpace[v134] == \"\\t\" then\n                            v132 = string.gsub(v132, v_u_17.DisallowedWhiteSpace[v134], \" \")\n                        else\n                            v132 = string.gsub(v132, v_u_17.DisallowedWhiteSpace[v134], \"\")\n                        end\n                    end\n                end\n                local v135 = string.gsub(v132, \"\\n\", \"\")\n                local v136 = string.gsub(v135, \"[ ]+\", \" \")\n                local v137 = v_u_50:GetTargetMessageChannel()\n                if v137 then\n                    v_u_55:SendMessage(v136, v137)\n                    return\n                end\n                v_u_55:SendMessage(v136, nil)\n            end\n        end\n    end\nend\nlocal v_u_138 = {}\nfunction setupChatBarConnections()\n    -- upvalues: (ref) v_u_138, (copy) v_u_54\n    for v139 = 1, #v_u_138 do\n        v_u_138[v139]:Disconnect()\n    end\n    v_u_138 = {}\n    local v140 = v_u_54:GetTextBox().FocusLost:connect(chatBarFocusLost)\n    local v141 = v_u_138\n    table.insert(v141, v140)\n    local v142 = v_u_54:GetTextBox().Focused:connect(chatBarFocused)\n    local v143 = v_u_138\n    table.insert(v143, v142)\nend\nsetupChatBarConnections()\nv_u_54.GuiObjectsChanged:connect(setupChatBarConnections)\nfunction getEchoMessagesInGeneral()\n    -- upvalues: (copy) v_u_17\n    return v_u_17.EchoMessagesInGeneralChannel == nil and true or v_u_17.EchoMessagesInGeneralChannel\nend\nv_u_28.OnMessageDoneFiltering.OnClientEvent:connect(function(p144)\n    -- upvalues: (copy) v_u_17, (ref) v_u_38, (copy) v_u_50\n    if v_u_17.ShowUserOwnFilteredMessage or p144.FromSpeaker ~= v_u_38.Name then\n        local v145 = p144.OriginalChannel\n        local v146 = v_u_50:GetChannel(v145)\n        if v146 then\n            v146:UpdateMessageFiltered(p144)\n        end\n        local v147 = getEchoMessagesInGeneral() and v_u_17.GeneralChannelName and (v145 ~= v_u_17.GeneralChannelName and v_u_50:GetChannel(v_u_17.GeneralChannelName))\n        if v147 then\n            v147:UpdateMessageFiltered(p144)\n        end\n    end\nend)\nv_u_28.OnNewMessage.OnClientEvent:connect(function(p148, p149)\n    -- upvalues: (copy) v_u_50, (ref) v_u_38, (copy) v_u_51, (copy) v_u_17, (copy) v_u_1\n    local v150 = v_u_50:GetChannel(p149)\n    if v150 then\n        v150:AddMessageToChannel(p148)\n        if p148.FromSpeaker ~= v_u_38.Name then\n            v_u_51:UpdateMessagePostedInChannel(p149)\n        end\n        local v151 = getEchoMessagesInGeneral() and v_u_17.GeneralChannelName and (p149 ~= v_u_17.GeneralChannelName and v_u_50:GetChannel(v_u_17.GeneralChannelName))\n        if v151 then\n            v151:AddMessageToChannel(p148)\n        end\n        v_u_1.MessageCount = v_u_1.MessageCount + 1\n        v_u_1.MessagesChanged:fire(v_u_1.MessageCount)\n        DoFadeInFromNewInformation()\n    end\nend)\nv_u_28.OnNewSystemMessage.OnClientEvent:connect(function(p152, p153)\n    -- upvalues: (copy) v_u_50, (copy) v_u_51, (copy) v_u_1, (copy) v_u_17\n    local v154 = p153 or \"System\"\n    local v155 = v_u_50:GetChannel(v154)\n    if v155 then\n        v155:AddMessageToChannel(p152)\n        v_u_51:UpdateMessagePostedInChannel(v154)\n        v_u_1.MessageCount = v_u_1.MessageCount + 1\n        v_u_1.MessagesChanged:fire(v_u_1.MessageCount)\n        DoFadeInFromNewInformation()\n        local v156 = getEchoMessagesInGeneral() and v_u_17.GeneralChannelName and (v154 ~= v_u_17.GeneralChannelName and v_u_50:GetChannel(v_u_17.GeneralChannelName))\n        if v156 then\n            v156:AddMessageToChannel(p152)\n            return\n        end\n    else\n        warn(string.format(\"Just received system message for channel I\\'m not in [%s]\", v154))\n    end\nend)\nfunction HandleChannelJoined(p157, p158, p159, p160, p161, p162)\n    -- upvalues: (copy) v_u_50, (copy) v_u_17, (ref) v_u_43, (copy) v_u_54, (copy) v_u_16, (ref) v_u_22, (ref) v_u_6, (ref) v_u_23\n    if v_u_50:GetChannel(p157) then\n        v_u_50:RemoveChannel(p157)\n    end\n    if p157 == v_u_17.GeneralChannelName then\n        v_u_43 = true\n    end\n    if p160 then\n        v_u_54:SetChannelNameColor(p157, p160)\n    end\n    local v163 = v_u_50:AddChannel(p157)\n    if v163 then\n        if p157 == v_u_17.GeneralChannelName then\n            DoSwitchCurrentChannel(p157)\n        end\n        if p159 then\n            local v164 = #p159 <= v_u_17.MessageHistoryLengthPerChannel and 1 or #p159 - v_u_17.MessageHistoryLengthPerChannel\n            for v165 = v164, #p159 do\n                v163:AddMessageToChannel(p159[v165])\n            end\n            if getEchoMessagesInGeneral() and (p161 and (v_u_17.GeneralChannelName and p157 ~= v_u_17.GeneralChannelName)) then\n                local v166 = v_u_50:GetChannel(v_u_17.GeneralChannelName)\n                if v166 then\n                    v166:AddMessagesToChannelByTimeStamp(p159, v164)\n                end\n            end\n        end\n        if p158 ~= \"\" then\n            local v167 = {\n                [\"ID\"] = -1,\n                [\"FromSpeaker\"] = nil,\n                [\"SpeakerUserId\"] = 0,\n                [\"OriginalChannel\"] = p157,\n                [\"IsFiltered\"] = true,\n                [\"MessageLength\"] = string.len(p158),\n                [\"MessageLengthUtf8\"] = utf8.len(utf8.nfcnormalize(p158)),\n                [\"Message\"] = trimTrailingSpaces(p158),\n                [\"MessageType\"] = v_u_16.MessageTypeWelcome,\n                [\"Time\"] = os.time(),\n                [\"ExtraData\"] = nil\n            }\n            v163:AddMessageToChannel(v167)\n            local v168 = getEchoMessagesInGeneral() and (p162 and (not v_u_17.ShowChannelsBar and p157 ~= v_u_17.GeneralChannelName)) and v_u_50:GetChannel(v_u_17.GeneralChannelName)\n            if v168 then\n                v168:AddMessageToChannel(v167)\n            end\n        end\n        local v169 = v_u_22:Get(\"GameChat_ChatMain_ChatTranslationOnboarding\", \"Text chat will be translated into your language. Tap the symbol in front of the message to see the original. You can turn off translations in the Settings menu.\")\n        if v_u_6 and (v169 ~= \"\" and (p157 == v_u_17.GeneralChannelName and (v_u_23 ~= nil and v_u_23.Value))) then\n            v163:AddMessageToChannel({\n                [\"ID\"] = -2,\n                [\"FromSpeaker\"] = nil,\n                [\"SpeakerUserId\"] = 0,\n                [\"OriginalChannel\"] = p157,\n                [\"IsFiltered\"] = true,\n                [\"MessageLength\"] = string.len(v169),\n                [\"MessageLengthUtf8\"] = utf8.len(utf8.nfcnormalize(v169)),\n                [\"Message\"] = trimTrailingSpaces(v169),\n                [\"MessageType\"] = v_u_16.MessageTypeWelcome,\n                [\"Time\"] = os.time(),\n                [\"ExtraData\"] = nil\n            })\n        end\n        DoFadeInFromNewInformation()\n    end\nend\nv_u_28.OnChannelJoined.OnClientEvent:connect(function(p170, p171, p172, p173)\n    HandleChannelJoined(p170, p171, p172, p173, false, true)\nend)\nv_u_28.OnChannelLeft.OnClientEvent:connect(function(p174)\n    -- upvalues: (copy) v_u_50\n    v_u_50:RemoveChannel(p174)\n    DoFadeInFromNewInformation()\nend)\nv_u_28.OnMuted.OnClientEvent:connect(function(_) end)\nv_u_28.OnUnmuted.OnClientEvent:connect(function(_) end)\nv_u_28.OnMainChannelSet.OnClientEvent:connect(function(p175)\n    DoSwitchCurrentChannel(p175)\nend)\ncoroutine.wrap(function()\n    -- upvalues: (copy) v_u_13, (copy) v_u_54\n    local v176 = v_u_13:WaitForChild(\"ChannelNameColorUpdated\", 5)\n    if v176 then\n        v176.OnClientEvent:connect(function(p177, p178)\n            -- upvalues: (ref) v_u_54\n            v_u_54:SetChannelNameColor(p177, p178)\n        end)\n    end\nend)()\nlocal v_u_179 = nil\nlocal v_u_180 = nil\nlocal v_u_181 = nil\nlocal v_u_182 = nil\npcall(function()\n    -- upvalues: (ref) v_u_179, (copy) v_u_12, (ref) v_u_180, (ref) v_u_181, (ref) v_u_182\n    v_u_179 = v_u_12:GetCore(\"PlayerBlockedEvent\")\n    v_u_180 = v_u_12:GetCore(\"PlayerMutedEvent\")\n    v_u_181 = v_u_12:GetCore(\"PlayerUnblockedEvent\")\n    v_u_182 = v_u_12:GetCore(\"PlayerUnmutedEvent\")\nend)\nfunction SendSystemMessageToSelf(p183)\n    -- upvalues: (copy) v_u_50, (copy) v_u_16\n    local v184 = v_u_50:GetCurrentChannel()\n    if v184 then\n        v184:AddMessageToChannel({\n            [\"ID\"] = -1,\n            [\"FromSpeaker\"] = nil,\n            [\"SpeakerUserId\"] = 0,\n            [\"OriginalChannel\"] = v184.Name,\n            [\"IsFiltered\"] = true,\n            [\"MessageLength\"] = string.len(p183),\n            [\"MessageLengthUtf8\"] = utf8.len(utf8.nfcnormalize(p183)),\n            [\"Message\"] = trimTrailingSpaces(p183),\n            [\"MessageType\"] = v_u_16.MessageTypeSystem,\n            [\"Time\"] = os.time(),\n            [\"ExtraData\"] = nil\n        })\n    end\nend\nfunction MutePlayer(p185)\n    -- upvalues: (copy) v_u_13\n    local v186 = v_u_13:FindFirstChild(\"MutePlayerRequest\")\n    if v186 then\n        return v186:InvokeServer(p185.Name)\n    else\n        return false\n    end\nend\nif v_u_179 then\n    v_u_179.Event:connect(function(p187)\n        -- upvalues: (copy) v_u_17, (ref) v_u_22\n        if MutePlayer(p187) then\n            local v188\n            if v_u_17.PlayerDisplayNamesEnabled then\n                v188 = p187.DisplayName\n            else\n                v188 = p187.Name\n            end\n            SendSystemMessageToSelf(v_u_22:Get(\"GameChat_ChatMain_SpeakerHasBeenBlocked\", string.format(\"Speaker \\'%s\\' has been blocked.\", v188), {\n                [\"RBX_NAME\"] = v188\n            }))\n        end\n    end)\nend\nif v3 then\n    local v189\n    if v_u_17.ShowFriendJoinNotification == nil then\n        v189 = false\n    else\n        v189 = v_u_17.ShowFriendJoinNotification\n    end\n    if v189 then\n        v_u_37.PlayerAdded:Connect(function(p_u_190)\n            -- upvalues: (ref) v_u_38, (copy) v_u_17, (ref) v_u_22\n            local v191, v192 = pcall(function()\n                -- upvalues: (copy) p_u_190, (ref) v_u_38\n                return p_u_190:IsFriendsWith(v_u_38.UserId)\n            end)\n            if v191 and v192 then\n                local v193 = p_u_190.Name\n                if v_u_17.PlayerDisplayNamesEnabled then\n                    v193 = p_u_190.DisplayName\n                end\n                local v194 = v_u_22:FormatMessageToSend(\"GameChat_FriendChatNotifier_JoinMessage\", string.format(\"Your friend %s has joined the game.\", v193), \"RBX_NAME\", v193)\n                SendSystemMessageToSelf(v194)\n            end\n        end)\n    end\nend\nif v_u_180 then\n    v_u_180.Event:connect(function(p195)\n        -- upvalues: (copy) v_u_17, (ref) v_u_22\n        if MutePlayer(p195) then\n            local v196\n            if v_u_17.PlayerDisplayNamesEnabled then\n                v196 = p195.DisplayName\n            else\n                v196 = p195.Name\n            end\n            SendSystemMessageToSelf(v_u_22:Get(\"GameChat_ChatMain_SpeakerHasBeenMuted\", string.format(\"Speaker \\'%s\\' has been muted.\", v196), {\n                [\"RBX_NAME\"] = v196\n            }))\n        end\n    end)\nend\nfunction UnmutePlayer(p197)\n    -- upvalues: (copy) v_u_13\n    local v198 = v_u_13:FindFirstChild(\"UnMutePlayerRequest\")\n    if v198 then\n        return v198:InvokeServer(p197.Name)\n    else\n        return false\n    end\nend\nif v_u_181 then\n    v_u_181.Event:connect(function(p199)\n        -- upvalues: (copy) v_u_17, (ref) v_u_22\n        if UnmutePlayer(p199) then\n            local v200\n            if v_u_17.PlayerDisplayNamesEnabled then\n                v200 = p199.DisplayName\n            else\n                v200 = p199.Name\n            end\n            SendSystemMessageToSelf(v_u_22:Get(\"GameChat_ChatMain_SpeakerHasBeenUnBlocked\", string.format(\"Speaker \\'%s\\' has been unblocked.\", v200), {\n                [\"RBX_NAME\"] = v200\n            }))\n        end\n    end)\nend\nif v_u_182 then\n    v_u_182.Event:connect(function(p201)\n        -- upvalues: (copy) v_u_17, (ref) v_u_22\n        if UnmutePlayer(p201) then\n            local v202\n            if v_u_17.PlayerDisplayNamesEnabled then\n                v202 = p201.DisplayName\n            else\n                v202 = p201.Name\n            end\n            SendSystemMessageToSelf(v_u_22:Get(\"GameChat_ChatMain_SpeakerHasBeenUnMuted\", string.format(\"Speaker \\'%s\\' has been unmuted.\", v202), {\n                [\"RBX_NAME\"] = v202\n            }))\n        end\n    end)\nend\nspawn(function()\n    -- upvalues: (ref) v_u_38, (copy) v_u_12, (copy) v_u_13\n    if v_u_38.UserId > 0 then\n        pcall(function()\n            -- upvalues: (ref) v_u_12, (ref) v_u_13\n            local v203 = v_u_12:GetCore(\"GetBlockedUserIds\")\n            local v204 = #v203 > 0 and v_u_13:FindFirstChild(\"SetBlockedUserIdsRequest\")\n            if v204 then\n                v204:FireServer(v203)\n            end\n        end)\n    end\nend)\nspawn(function()\n    -- upvalues: (copy) v_u_11, (ref) v_u_38, (ref) v_u_39, (copy) v_u_36\n    local v205, v206 = pcall(function()\n        -- upvalues: (ref) v_u_11, (ref) v_u_38\n        return v_u_11:CanUserChatAsync(v_u_38.UserId)\n    end)\n    if v205 then\n        v_u_39 = v_u_36:IsStudio() or v206\n    end\nend)\nlocal v207 = v_u_28.GetInitDataRequest:InvokeServer()\nfor _, v208 in pairs(v207.Channels) do\n    if v208[1] == v_u_17.GeneralChannelName then\n        HandleChannelJoined(v208[1], v208[2], v208[3], v208[4], true, false)\n    end\nend\nfor _, v209 in pairs(v207.Channels) do\n    if v209[1] ~= v_u_17.GeneralChannelName then\n        HandleChannelJoined(v209[1], v209[2], v209[3], v209[4], true, false)\n    end\nend\nreturn v_u_1"},{"Path":"StarterPlayer.StarterPlayerScripts.ChatScript.ChatMain.ChannelsBar","Name":"ChannelsBar","ClassName":"ModuleScript","Category":"StarterPlayerScripts","FileName":"ChannelsBar47.lua","Source":"-- Decompiled with Velocity Script Decompiler\nlocal v1 = {}\nlocal v2 = game:GetService(\"Chat\"):WaitForChild(\"ClientChatModules\")\nlocal v3 = script.Parent\nlocal v_u_4 = require(v3:WaitForChild(\"ChannelsTab\"))\nlocal v_u_5 = require(v3:WaitForChild(\"MessageSender\"))\nlocal v_u_6 = require(v2:WaitForChild(\"ChatSettings\"))\nlocal v_u_7 = require(v3:WaitForChild(\"CurveUtil\"))\nlocal v_u_8 = {}\nv_u_8.__index = v_u_8\nfunction v_u_8.CreateGuiObjects(p_u_9, p10)\n    -- upvalues: (copy) v_u_6, (copy) v_u_5\n    local v11 = Instance.new(\"Frame\")\n    v11.Selectable = false\n    v11.Size = UDim2.new(1, 0, 1, 0)\n    v11.BackgroundTransparency = 1\n    v11.Parent = p10\n    local v12 = Instance.new(\"Frame\")\n    v12.Selectable = false\n    v12.Name = \"ScrollingBase\"\n    v12.BackgroundTransparency = 1\n    v12.ClipsDescendants = true\n    v12.Size = UDim2.new(1, 0, 1, 0)\n    v12.Position = UDim2.new(0, 0, 0, 0)\n    v12.Parent = v11\n    local v13 = Instance.new(\"Frame\")\n    v13.Selectable = false\n    v13.Name = \"ScrollerSizer\"\n    v13.BackgroundTransparency = 1\n    v13.Size = UDim2.new(1, 0, 1, 0)\n    v13.Position = UDim2.new(0, 0, 0, 0)\n    v13.Parent = v12\n    local v14 = Instance.new(\"Frame\")\n    v14.Selectable = false\n    v14.Name = \"ScrollerFrame\"\n    v14.BackgroundTransparency = 1\n    v14.Size = UDim2.new(1, 0, 1, 0)\n    v14.Position = UDim2.new(0, 0, 0, 0)\n    v14.Parent = v13\n    local v15 = Instance.new(\"Frame\")\n    v15.Selectable = false\n    v15.Size = UDim2.new(1, 0, 1, 0)\n    v15.Position = UDim2.new(0, 0, 0, 0)\n    v15.ClipsDescendants = true\n    v15.BackgroundTransparency = 1\n    v15.Parent = v11\n    local v_u_16 = Instance.new(\"Frame\")\n    v_u_16.Selectable = false\n    v_u_16.Name = \"LeaveConfirmationFrame\"\n    v_u_16.Size = UDim2.new(1, 0, 1, 0)\n    v_u_16.Position = UDim2.new(0, 0, 1, 0)\n    v_u_16.BackgroundTransparency = 0.6\n    v_u_16.BorderSizePixel = 0\n    v_u_16.BackgroundColor3 = Color3.new(0, 0, 0)\n    v_u_16.Parent = v15\n    local v17 = Instance.new(\"TextButton\")\n    v17.Selectable = false\n    v17.Size = UDim2.new(1, 0, 1, 0)\n    v17.BackgroundTransparency = 1\n    v17.Text = \"\"\n    v17.Parent = v_u_16\n    local v18 = Instance.new(\"TextButton\")\n    v18.Selectable = false\n    v18.Size = UDim2.new(0.25, 0, 1, 0)\n    v18.BackgroundTransparency = 1\n    v18.Font = v_u_6.DefaultFont\n    v18.TextSize = 18\n    v18.TextStrokeTransparency = 0.75\n    v18.Position = UDim2.new(0, 0, 0, 0)\n    v18.TextColor3 = Color3.new(0, 1, 0)\n    v18.Text = \"Confirm\"\n    v18.Parent = v_u_16\n    local v19 = v18:Clone()\n    v19.Parent = v_u_16\n    v19.Position = UDim2.new(0.75, 0, 0, 0)\n    v19.TextColor3 = Color3.new(1, 0, 0)\n    v19.Text = \"Cancel\"\n    local v20 = Instance.new(\"TextLabel\")\n    v20.Selectable = false\n    v20.Size = UDim2.new(0.5, 0, 1, 0)\n    v20.Position = UDim2.new(0.25, 0, 0, 0)\n    v20.BackgroundTransparency = 1\n    v20.TextColor3 = Color3.new(1, 1, 1)\n    v20.TextStrokeTransparency = 0.75\n    v20.Text = \"Leave channel <XX>?\"\n    v20.Font = v_u_6.DefaultFont\n    v20.TextSize = 18\n    v20.Parent = v_u_16\n    local v_u_21 = Instance.new(\"StringValue\")\n    v_u_21.Name = \"LeaveTarget\"\n    v_u_21.Parent = v_u_16\n    local v_u_22 = v_u_16.Position\n    v18.MouseButton1Click:connect(function()\n        -- upvalues: (ref) v_u_5, (copy) v_u_21, (copy) v_u_16, (copy) v_u_22\n        v_u_5:SendMessage(string.format(\"/leave %s\", v_u_21.Value), nil)\n        v_u_16:TweenPosition(v_u_22, Enum.EasingDirection.Out, Enum.EasingStyle.Quad, 0.2, true)\n    end)\n    v19.MouseButton1Click:connect(function()\n        -- upvalues: (copy) v_u_16, (copy) v_u_22\n        v_u_16:TweenPosition(v_u_22, Enum.EasingDirection.Out, Enum.EasingStyle.Quad, 0.2, true)\n    end)\n    local v23 = Instance.new(\"ImageButton\", v11)\n    v23.Selectable = v_u_6.GamepadNavigationEnabled\n    v23.Name = \"PageLeftButton\"\n    v23.SizeConstraint = Enum.SizeConstraint.RelativeYY\n    v23.Size = UDim2.new(0.7, 0, 0.7, 0)\n    v23.BackgroundTransparency = 1\n    v23.Position = UDim2.new(0, 4, 0.15000000000000002, 0)\n    v23.Visible = false\n    v23.Image = \"rbxassetid://471630199\"\n    local v24 = Instance.new(\"ImageLabel\", v23)\n    v24.Name = \"ArrowLabel\"\n    v24.BackgroundTransparency = 1\n    v24.Size = UDim2.new(0.4, 0, 0.4, 0)\n    v24.Image = \"rbxassetid://471630112\"\n    local v25 = Instance.new(\"Frame\", v11)\n    v25.Selectable = false\n    v25.BackgroundTransparency = 1\n    v25.Name = \"PositionalHelper\"\n    v25.Size = v23.Size\n    v25.SizeConstraint = v23.SizeConstraint\n    v25.Position = UDim2.new(1, 0, 0.15000000000000002, 0)\n    local v26 = v23:Clone()\n    v26.Parent = v25\n    v26.Name = \"PageRightButton\"\n    v26.Size = UDim2.new(1, 0, 1, 0)\n    v26.SizeConstraint = Enum.SizeConstraint.RelativeXY\n    v26.Position = UDim2.new(-1, -4, 0, 0)\n    local v27 = UDim2.new(0.05, 0, 0, 0)\n    v26.ArrowLabel.Position = UDim2.new(0.3, 0, 0.3, 0) + v27\n    v23.ArrowLabel.Position = UDim2.new(0.3, 0, 0.3, 0) - v27\n    v23.ArrowLabel.Rotation = 180\n    p_u_9.GuiObject = v11\n    p_u_9.GuiObjects.BaseFrame = v11\n    p_u_9.GuiObjects.ScrollerSizer = v13\n    p_u_9.GuiObjects.ScrollerFrame = v14\n    p_u_9.GuiObjects.PageLeftButton = v23\n    p_u_9.GuiObjects.PageRightButton = v26\n    p_u_9.GuiObjects.LeaveConfirmationFrame = v_u_16\n    p_u_9.GuiObjects.LeaveConfirmationNotice = v20\n    p_u_9.GuiObjects.PageLeftButtonArrow = v23.ArrowLabel\n    p_u_9.GuiObjects.PageRightButtonArrow = v26.ArrowLabel\n    p_u_9:AnimGuiObjects()\n    v23.MouseButton1Click:connect(function()\n        -- upvalues: (copy) p_u_9\n        p_u_9:ScrollChannelsFrame(-1)\n    end)\n    v26.MouseButton1Click:connect(function()\n        -- upvalues: (copy) p_u_9\n        p_u_9:ScrollChannelsFrame(1)\n    end)\n    p_u_9:ScrollChannelsFrame(0)\nend\nfunction v_u_8.UpdateMessagePostedInChannel(p28, p29)\n    local v30 = p28:GetChannelTab(p29)\n    if v30 then\n        v30:UpdateMessagePostedInChannel()\n    else\n        warn(\"ChannelsTab \\'\" .. p29 .. \"\\' does not exist!\")\n    end\nend\nfunction v_u_8.AddChannelTab(p_u_31, p32)\n    -- upvalues: (copy) v_u_4, (copy) v_u_6\n    if p_u_31:GetChannelTab(p32) then\n        error(\"Channel tab \\'\" .. p32 .. \"\\'already exists!\")\n    end\n    local v_u_33 = v_u_4.new(p32)\n    v_u_33.GuiObject.Parent = p_u_31.GuiObjects.ScrollerFrame\n    p_u_31.ChannelTabs[p32:lower()] = v_u_33\n    p_u_31.NumTabs = p_u_31.NumTabs + 1\n    p_u_31:OrganizeChannelTabs()\n    if v_u_6.RightClickToLeaveChannelEnabled then\n        v_u_33.NameTag.MouseButton2Click:connect(function()\n            -- upvalues: (copy) p_u_31, (copy) v_u_33\n            p_u_31.LeaveConfirmationNotice.Text = string.format(\"Leave channel %s?\", v_u_33.ChannelName)\n            p_u_31.LeaveConfirmationFrame.LeaveTarget.Value = v_u_33.ChannelName\n            p_u_31.LeaveConfirmationFrame:TweenPosition(UDim2.new(0, 0, 0, 0), Enum.EasingDirection.In, Enum.EasingStyle.Quad, 0.2, true)\n        end)\n    end\n    return v_u_33\nend\nfunction v_u_8.RemoveChannelTab(p34, p35)\n    if not p34:GetChannelTab(p35) then\n        error(\"Channel tab \\'\" .. p35 .. \"\\'does not exist!\")\n    end\n    local v36 = p35:lower()\n    p34.ChannelTabs[v36]:Destroy()\n    p34.ChannelTabs[v36] = nil\n    p34.NumTabs = p34.NumTabs - 1\n    p34:OrganizeChannelTabs()\nend\nfunction v_u_8.GetChannelTab(p37, p38)\n    return p37.ChannelTabs[p38:lower()]\nend\nfunction v_u_8.OrganizeChannelTabs(p39)\n    -- upvalues: (copy) v_u_6\n    local v40 = {}\n    local v41 = v_u_6.GeneralChannelName\n    table.insert(v40, p39:GetChannelTab(v41))\n    table.insert(v40, p39:GetChannelTab(\"System\"))\n    for _, v42 in pairs(p39.ChannelTabs) do\n        if v42.ChannelName ~= v_u_6.GeneralChannelName and v42.ChannelName ~= \"System\" then\n            table.insert(v40, v42)\n        end\n    end\n    for v43, v44 in pairs(v40) do\n        v44.GuiObject.Position = UDim2.new(v43 - 1, 0, 0, 0)\n    end\n    local v45 = p39.GuiObjects.ScrollerSizer\n    local v46 = UDim2.new\n    local v47 = v_u_6.ChannelsBarFullTabSize\n    local v48 = p39.NumTabs\n    local v49 = math.min(v47, v48)\n    v45.Size = v46(1 / math.max(1, v49), 0, 1, 0)\n    p39:ScrollChannelsFrame(0)\nend\nfunction v_u_8.ResizeChannelTabText(p50, p51)\n    for _, v52 in pairs(p50.ChannelTabs) do\n        v52:SetTextSize(p51)\n    end\nend\nfunction v_u_8.ScrollChannelsFrame(p_u_53, p54)\n    -- upvalues: (copy) v_u_6\n    if p_u_53.ScrollChannelsFrameLock then\n        return\n    else\n        p_u_53.ScrollChannelsFrameLock = true\n        local v55 = v_u_6.ChannelsBarFullTabSize\n        local v56 = p_u_53.CurPageNum + p54\n        if v56 < 0 then\n            v56 = 0\n        elseif v56 > 0 and v56 + v55 > p_u_53.NumTabs then\n            v56 = p_u_53.NumTabs - v55\n        end\n        p_u_53.CurPageNum = v56\n        local v57 = UDim2.new(-p_u_53.CurPageNum, 0, 0, 0)\n        p_u_53.GuiObjects.PageLeftButton.Visible = p_u_53.CurPageNum > 0\n        p_u_53.GuiObjects.PageRightButton.Visible = p_u_53.CurPageNum + v55 < p_u_53.NumTabs\n        if p54 == 0 then\n            p_u_53.ScrollChannelsFrameLock = false\n        else\n            p_u_53:WaitUntilParentedCorrectly()\n            p_u_53.GuiObjects.ScrollerFrame:TweenPosition(v57, Enum.EasingDirection.InOut, Enum.EasingStyle.Quad, 0.15, true, function()\n                -- upvalues: (copy) p_u_53\n                p_u_53.ScrollChannelsFrameLock = false\n            end)\n        end\n    end\nend\nfunction v_u_8.FadeOutBackground(p58, p59)\n    -- upvalues: (copy) v_u_7\n    for _, v60 in pairs(p58.ChannelTabs) do\n        v60:FadeOutBackground(p59)\n    end\n    p58.AnimParams.Background_TargetTransparency = 1\n    p58.AnimParams.Background_NormalizedExptValue = v_u_7:NormalizedDefaultExptValueInSeconds(p59)\nend\nfunction v_u_8.FadeInBackground(p61, p62)\n    -- upvalues: (copy) v_u_7\n    for _, v63 in pairs(p61.ChannelTabs) do\n        v63:FadeInBackground(p62)\n    end\n    p61.AnimParams.Background_TargetTransparency = 0.6\n    p61.AnimParams.Background_NormalizedExptValue = v_u_7:NormalizedDefaultExptValueInSeconds(p62)\nend\nfunction v_u_8.FadeOutText(p64, p65)\n    for _, v66 in pairs(p64.ChannelTabs) do\n        v66:FadeOutText(p65)\n    end\nend\nfunction v_u_8.FadeInText(p67, p68)\n    for _, v69 in pairs(p67.ChannelTabs) do\n        v69:FadeInText(p68)\n    end\nend\nfunction v_u_8.AnimGuiObjects(p70)\n    p70.GuiObjects.PageLeftButton.ImageTransparency = p70.AnimParams.Background_CurrentTransparency\n    p70.GuiObjects.PageRightButton.ImageTransparency = p70.AnimParams.Background_CurrentTransparency\n    p70.GuiObjects.PageLeftButtonArrow.ImageTransparency = p70.AnimParams.Background_CurrentTransparency\n    p70.GuiObjects.PageRightButtonArrow.ImageTransparency = p70.AnimParams.Background_CurrentTransparency\nend\nfunction v_u_8.InitializeAnimParams(p71)\n    -- upvalues: (copy) v_u_7\n    p71.AnimParams.Background_TargetTransparency = 0.6\n    p71.AnimParams.Background_CurrentTransparency = 0.6\n    p71.AnimParams.Background_NormalizedExptValue = v_u_7:NormalizedDefaultExptValueInSeconds(0)\nend\nfunction v_u_8.Update(p72, p73)\n    -- upvalues: (copy) v_u_7\n    for _, v74 in pairs(p72.ChannelTabs) do\n        v74:Update(p73)\n    end\n    p72.AnimParams.Background_CurrentTransparency = v_u_7:Expt(p72.AnimParams.Background_CurrentTransparency, p72.AnimParams.Background_TargetTransparency, p72.AnimParams.Background_NormalizedExptValue, p73)\n    p72:AnimGuiObjects()\nend\nfunction v_u_8.WaitUntilParentedCorrectly(p75)\n    while not p75.GuiObject:IsDescendantOf(game:GetService(\"Players\").LocalPlayer) do\n        p75.GuiObject.AncestryChanged:wait()\n    end\nend\nfunction v1.new()\n    -- upvalues: (copy) v_u_8, (copy) v_u_6\n    local v76 = v_u_8\n    local v_u_77 = setmetatable({}, v76)\n    v_u_77.GuiObject = nil\n    v_u_77.GuiObjects = {}\n    v_u_77.ChannelTabs = {}\n    v_u_77.NumTabs = 0\n    v_u_77.CurPageNum = 0\n    v_u_77.ScrollChannelsFrameLock = false\n    v_u_77.AnimParams = {}\n    v_u_77:InitializeAnimParams()\n    v_u_6.SettingsChanged:connect(function(p78, p79)\n        -- upvalues: (copy) v_u_77\n        if p78 == \"ChatChannelsTabTextSize\" then\n            v_u_77:ResizeChannelTabText(p79)\n        end\n    end)\n    return v_u_77\nend\nreturn v1"},{"Path":"StarterPlayer.StarterPlayerScripts.ChatScript.ChatMain.ChatBar","Name":"ChatBar","ClassName":"ModuleScript","Category":"StarterPlayerScripts","FileName":"ChatBar48.lua","Source":"-- Decompiled with Velocity Script Decompiler\nlocal v_u_1 = game:GetService(\"UserInputService\")\nlocal v_u_2 = game:GetService(\"RunService\")\nlocal v3 = game:GetService(\"Players\")\nlocal v_u_4 = game:GetService(\"TextService\")\nlocal v_u_5 = v3.LocalPlayer\nlocal v6 = {}\nwhile not v_u_5 do\n    v3.PlayerAdded:wait()\n    v_u_5 = v3.LocalPlayer\nend\nlocal v_u_7 = game:GetService(\"Chat\")\nlocal v8 = v_u_7:WaitForChild(\"ClientChatModules\")\nlocal v9 = script.Parent\nlocal v_u_10 = require(v8:WaitForChild(\"ChatSettings\"))\nlocal v_u_11 = require(v9:WaitForChild(\"CurveUtil\"))\nlocal v12 = v8:WaitForChild(\"CommandModules\")\nlocal v_u_13 = require(v12:WaitForChild(\"Whisper\"))\nrequire(v9:WaitForChild(\"MessageSender\"))\nlocal v_u_14 = nil\npcall(function()\n    -- upvalues: (ref) v_u_14\n    v_u_14 = require(game:GetService(\"Chat\").ClientChatModules.ChatLocalization)\nend)\nv_u_14 = v_u_14 == nil and {\n    [\"Get\"] = function(_, _, p15)\n        return p15\n    end\n} or v_u_14\nlocal v_u_16 = {}\nv_u_16.__index = v_u_16\nfunction v_u_16.CreateGuiObjects(p17, p18)\n    -- upvalues: (copy) v_u_10\n    p17.ChatBarParentFrame = p18\n    local v19 = Instance.new(\"Frame\")\n    v19.Selectable = false\n    v19.Size = UDim2.new(1, 0, 1, 0)\n    v19.BackgroundTransparency = 0.6\n    v19.BorderSizePixel = 0\n    v19.BackgroundColor3 = v_u_10.ChatBarBackGroundColor\n    v19.Parent = p18\n    local v20 = Instance.new(\"Frame\")\n    v20.Selectable = false\n    v20.Name = \"BoxFrame\"\n    v20.BackgroundTransparency = 0.6\n    v20.BorderSizePixel = 0\n    v20.BackgroundColor3 = v_u_10.ChatBarBoxColor\n    v20.Size = UDim2.new(1, -14, 1, -14)\n    v20.Position = UDim2.new(0, 7, 0, 7)\n    v20.Parent = v19\n    local v21 = Instance.new(\"Frame\")\n    v21.BackgroundTransparency = 1\n    v21.Size = UDim2.new(1, -10, 1, -10)\n    v21.Position = UDim2.new(0, 5, 0, 5)\n    v21.Parent = v20\n    local v22 = Instance.new(\"TextBox\")\n    v22.Selectable = v_u_10.GamepadNavigationEnabled\n    v22.Name = \"ChatBar\"\n    v22.BackgroundTransparency = 1\n    v22.Size = UDim2.new(1, 0, 1, 0)\n    v22.Position = UDim2.new(0, 0, 0, 0)\n    v22.TextSize = v_u_10.ChatBarTextSize\n    v22.Font = v_u_10.ChatBarFont\n    v22.TextColor3 = v_u_10.ChatBarTextColor\n    v22.TextTransparency = 0.4\n    v22.TextStrokeTransparency = 1\n    v22.ClearTextOnFocus = false\n    v22.TextXAlignment = Enum.TextXAlignment.Left\n    v22.TextYAlignment = Enum.TextYAlignment.Top\n    v22.TextWrapped = true\n    v22.Text = \"\"\n    v22.Parent = v21\n    local v23 = Instance.new(\"TextButton\")\n    v23.Selectable = false\n    v23.Name = \"MessageMode\"\n    v23.BackgroundTransparency = 1\n    v23.Position = UDim2.new(0, 0, 0, 0)\n    v23.TextSize = v_u_10.ChatBarTextSize\n    v23.Font = v_u_10.ChatBarFont\n    v23.TextXAlignment = Enum.TextXAlignment.Left\n    v23.TextWrapped = true\n    v23.Text = \"\"\n    v23.Size = UDim2.new(0, 0, 0, 0)\n    v23.TextYAlignment = Enum.TextYAlignment.Center\n    v23.TextColor3 = p17:GetDefaultChannelNameColor()\n    v23.Visible = true\n    v23.Parent = v21\n    local v24 = Instance.new(\"TextLabel\")\n    v24.Selectable = false\n    v24.TextWrapped = true\n    v24.BackgroundTransparency = 1\n    v24.Size = v22.Size\n    v24.Position = v22.Position\n    v24.TextSize = v22.TextSize\n    v24.Font = v22.Font\n    v24.TextColor3 = v22.TextColor3\n    v24.TextTransparency = v22.TextTransparency\n    v24.TextStrokeTransparency = v22.TextStrokeTransparency\n    v24.TextXAlignment = v22.TextXAlignment\n    v24.TextYAlignment = v22.TextYAlignment\n    v24.Text = \"...\"\n    v24.Parent = v21\n    p17.GuiObject = v19\n    p17.TextBox = v22\n    p17.TextLabel = v24\n    p17.GuiObjects.BaseFrame = v19\n    p17.GuiObjects.TextBoxFrame = v20\n    p17.GuiObjects.TextBox = v22\n    p17.GuiObjects.TextLabel = v24\n    p17.GuiObjects.MessageModeTextButton = v23\n    p17:AnimGuiObjects()\n    p17:SetUpTextBoxEvents(v22, v24, v23)\n    if p17.UserHasChatOff then\n        p17:DoLockChatBar()\n    end\n    p17.eGuiObjectsChanged:Fire()\nend\nfunction v_u_16.DoLockChatBar(p_u_25)\n    -- upvalues: (ref) v_u_5, (ref) v_u_14\n    if p_u_25.TextLabel then\n        if v_u_5.UserId > 0 then\n            p_u_25.TextLabel.Text = v_u_14:Get(\"GameChat_ChatMessageValidator_SettingsError\", \"To chat in game, turn on chat in your Privacy Settings.\")\n        else\n            p_u_25.TextLabel.Text = v_u_14:Get(\"GameChat_SwallowGuestChat_Message\", \"Sign up to chat in game.\")\n        end\n        p_u_25:CalculateSize()\n    end\n    if p_u_25.TextBox then\n        p_u_25.TextBox.Active = false\n        p_u_25.TextBox.Focused:connect(function()\n            -- upvalues: (copy) p_u_25\n            p_u_25.TextBox:ReleaseFocus()\n        end)\n    end\nend\nfunction v_u_16.SetUpTextBoxEvents(p_u_26, p_u_27, p_u_28, p_u_29)\n    -- upvalues: (copy) v_u_1, (copy) v_u_10\n    for v30, v31 in pairs(p_u_26.TextBoxConnections) do\n        v31:disconnect()\n        p_u_26.TextBoxConnections[v30] = nil\n    end\n    p_u_26.TextBoxConnections.UserInputBegan = v_u_1.InputBegan:connect(function(p32, _)\n        -- upvalues: (copy) p_u_26, (copy) p_u_27, (ref) v_u_10\n        if p32.KeyCode == Enum.KeyCode.Backspace and (p_u_26:IsFocused() and p_u_27.Text == \"\") then\n            p_u_26:SetChannelTarget(v_u_10.GeneralChannelName)\n        end\n    end)\n    p_u_26.TextBoxConnections.TextBoxChanged = p_u_27.Changed:connect(function(p33)\n        -- upvalues: (copy) p_u_26, (copy) p_u_27, (ref) v_u_10\n        if p33 == \"AbsoluteSize\" then\n            p_u_26:CalculateSize()\n            return\n        elseif p33 == \"Text\" then\n            p_u_26:CalculateSize()\n            if utf8.len(utf8.nfcnormalize(p_u_27.Text)) > v_u_10.MaximumMessageLength then\n                p_u_27.Text = p_u_26.PreviousText\n            else\n                p_u_26.PreviousText = p_u_27.Text\n            end\n            if p_u_26.InCustomState then\n                p_u_26.CustomState:TextUpdated()\n            else\n                local v34 = p_u_26.CommandProcessor:ProcessInProgressChatMessage(p_u_27.Text, p_u_26.ChatWindow, p_u_26)\n                if v34 then\n                    p_u_26.InCustomState = true\n                    p_u_26.CustomState = v34\n                    return\n                end\n            end\n        end\n    end)\n    p_u_26.TextBoxConnections.MessageModeClick = p_u_29.MouseButton1Click:connect(function()\n        -- upvalues: (copy) p_u_29, (copy) p_u_26, (ref) v_u_10\n        if p_u_29.Text ~= \"\" then\n            p_u_26:SetChannelTarget(v_u_10.GeneralChannelName)\n        end\n    end)\n    p_u_26.TextBoxConnections.TextBoxFocused = p_u_27.Focused:connect(function()\n        -- upvalues: (copy) p_u_26, (copy) p_u_28\n        if not p_u_26.UserHasChatOff then\n            p_u_26:CalculateSize()\n            p_u_28.Visible = false\n        end\n    end)\n    p_u_26.TextBoxConnections.TextBoxFocusLost = p_u_27.FocusLost:connect(function(_, p35)\n        -- upvalues: (copy) p_u_26, (copy) p_u_27, (copy) p_u_28\n        p_u_26:CalculateSize()\n        if p35 and p35.KeyCode == Enum.KeyCode.Escape then\n            p_u_27.Text = \"\"\n        end\n        if p_u_27.Text == \"\" then\n            p_u_28.Visible = true\n        else\n            p_u_28.Visible = false\n        end\n    end)\nend\nfunction v_u_16.GetTextBox(p36)\n    return p36.TextBox\nend\nfunction v_u_16.GetMessageModeTextButton(p37)\n    return p37.GuiObjects.MessageModeTextButton\nend\nfunction v_u_16.GetMessageModeTextLabel(p38)\n    return p38:GetMessageModeTextButton()\nend\nfunction v_u_16.IsFocused(p39)\n    if p39.UserHasChatOff then\n        return false\n    else\n        return p39:GetTextBox():IsFocused()\n    end\nend\nfunction v_u_16.GetVisible(p40)\n    return p40.GuiObject.Visible\nend\nfunction v_u_16.CaptureFocus(p41)\n    if not p41.UserHasChatOff then\n        p41:GetTextBox():CaptureFocus()\n    end\nend\nfunction v_u_16.ReleaseFocus(p42, p43)\n    p42:GetTextBox():ReleaseFocus(p43)\nend\nfunction v_u_16.ResetText(p44)\n    p44:GetTextBox().Text = \"\"\nend\nfunction v_u_16.SetText(p45, p46)\n    p45:GetTextBox().Text = p46\nend\nfunction v_u_16.GetEnabled(p47)\n    return p47.GuiObject.Visible\nend\nfunction v_u_16.SetEnabled(p48, p49)\n    if p48.UserHasChatOff then\n        p48.GuiObject.Visible = true\n    else\n        p48.GuiObject.Visible = p49\n    end\nend\nfunction v_u_16.SetTextLabelText(p50, p51)\n    if not p50.UserHasChatOff then\n        p50.TextLabel.Text = p51\n    end\nend\nfunction v_u_16.SetTextBoxText(p52, p53)\n    p52.TextBox.Text = p53\nend\nfunction v_u_16.GetTextBoxText(p54)\n    return p54.TextBox.Text\nend\nfunction v_u_16.ResetSize(p55)\n    p55.TargetYSize = 0\n    p55:TweenToTargetYSize()\nend\nfunction v_u_16.CalculateSize(p56)\n    -- upvalues: (copy) v_u_4\n    if not p56.CalculatingSizeLock then\n        p56.CalculatingSizeLock = true\n        local v57, v58\n        if p56:IsFocused() or p56.TextBox.Text ~= \"\" then\n            v57 = p56.TextBox.TextSize\n            local v59 = p56.TextBox\n            v58 = v_u_4:GetTextSize(v59.Text, v59.TextSize, v59.Font, Vector2.new(v59.AbsoluteSize.X, 10000)).Y\n        else\n            v57 = p56.TextLabel.TextSize\n            local v60 = p56.TextLabel\n            v58 = v_u_4:GetTextSize(v60.Text, v60.TextSize, v60.Font, Vector2.new(v60.AbsoluteSize.X, 10000)).Y\n        end\n        local v61 = v58 - v57\n        if p56.TargetYSize ~= v61 then\n            p56.TargetYSize = v61\n            p56:TweenToTargetYSize()\n        end\n        p56.CalculatingSizeLock = false\n    end\nend\nfunction v_u_16.TweenToTargetYSize(p_u_62)\n    local v_u_63 = UDim2.new(1, 0, 1, p_u_62.TargetYSize)\n    local v64 = p_u_62.GuiObject.Size\n    local v65 = p_u_62.GuiObject.AbsoluteSize.Y\n    p_u_62.GuiObject.Size = v_u_63\n    local v66 = p_u_62.GuiObject.AbsoluteSize.Y\n    p_u_62.GuiObject.Size = v64\n    local v67 = v66 - v65\n    local v68 = math.abs(v67) * (1 / p_u_62.TweenPixelsPerSecond)\n    local v_u_69 = math.min(1, v68)\n    if not pcall(function()\n        -- upvalues: (copy) p_u_62, (copy) v_u_63, (copy) v_u_69\n        p_u_62.GuiObject:TweenSize(v_u_63, Enum.EasingDirection.Out, Enum.EasingStyle.Quad, v_u_69, true)\n    end) then\n        p_u_62.GuiObject.Size = v_u_63\n    end\nend\nfunction v_u_16.SetTextSize(p70, p71)\n    if not p70:IsInCustomState() then\n        if p70.TextBox then\n            p70.TextBox.TextSize = p71\n        end\n        if p70.TextLabel then\n            p70.TextLabel.TextSize = p71\n        end\n    end\nend\nfunction v_u_16.GetDefaultChannelNameColor(_)\n    -- upvalues: (copy) v_u_10\n    if v_u_10.DefaultChannelNameColor then\n        return v_u_10.DefaultChannelNameColor\n    else\n        return Color3.fromRGB(35, 76, 142)\n    end\nend\nfunction v_u_16.SetChannelTarget(p72, p73)\n    -- upvalues: (copy) v_u_10, (ref) v_u_14\n    local v74 = p72.GuiObjects.MessageModeTextButton\n    local v75 = p72.TextBox\n    local v76 = p72.TextLabel\n    p72.TargetChannel = p73\n    if not p72:IsInCustomState() then\n        if p73 ~= v_u_10.GeneralChannelName then\n            v74.Size = UDim2.new(0, 1000, 1, 0)\n            local v77\n            if v_u_14.tryLocalize then\n                v77 = v_u_14:tryLocalize(p73)\n            else\n                v77 = p73\n            end\n            v74.Text = string.format(\"[%s] \", v77)\n            local v78 = p72:GetChannelNameColor(p73)\n            if v78 then\n                v74.TextColor3 = v78\n            else\n                v74.TextColor3 = p72:GetDefaultChannelNameColor()\n            end\n            local v79 = v74.TextBounds.X\n            v74.Size = UDim2.new(0, v79, 1, 0)\n            v75.Size = UDim2.new(1, -v79, 1, 0)\n            v75.Position = UDim2.new(0, v79, 0, 0)\n            v76.Size = UDim2.new(1, -v79, 1, 0)\n            v76.Position = UDim2.new(0, v79, 0, 0)\n            return\n        end\n        v74.Text = \"\"\n        v74.Size = UDim2.new(0, 0, 0, 0)\n        v75.Size = UDim2.new(1, 0, 1, 0)\n        v75.Position = UDim2.new(0, 0, 0, 0)\n        v76.Size = UDim2.new(1, 0, 1, 0)\n        v76.Position = UDim2.new(0, 0, 0, 0)\n    end\nend\nfunction v_u_16.IsInCustomState(p80)\n    return p80.InCustomState\nend\nfunction v_u_16.ResetCustomState(p81)\n    -- upvalues: (ref) v_u_14\n    if p81.InCustomState then\n        p81.CustomState:Destroy()\n        p81.CustomState = nil\n        p81.InCustomState = false\n        p81.ChatBarParentFrame:ClearAllChildren()\n        p81:CreateGuiObjects(p81.ChatBarParentFrame)\n        p81:SetTextLabelText(v_u_14:Get(\"GameChat_ChatMain_ChatBarText\", \"To chat click here or press \\\"/\\\" key\"))\n    end\nend\nfunction v_u_16.EnterWhisperState(p82, p83)\n    -- upvalues: (copy) v_u_13, (copy) v_u_10\n    p82:ResetCustomState()\n    if v_u_13.CustomStateCreator then\n        p82.CustomState = v_u_13.CustomStateCreator(p83, p82.ChatWindow, p82, v_u_10)\n        p82.InCustomState = true\n    else\n        local v84\n        if v_u_10.PlayerDisplayNamesEnabled then\n            v84 = p83.DisplayName\n        else\n            v84 = p83.Name\n        end\n        p82:SetText(\"/w \" .. v84)\n    end\n    p82:CaptureFocus()\nend\nfunction v_u_16.GetCustomMessage(p85)\n    if p85.InCustomState then\n        return p85.CustomState:GetMessage()\n    else\n        return nil\n    end\nend\nfunction v_u_16.CustomStateProcessCompletedMessage(p86, _)\n    if p86.InCustomState then\n        return p86.CustomState:ProcessCompletedMessage()\n    else\n        return false\n    end\nend\nfunction v_u_16.FadeOutBackground(p87, p88)\n    -- upvalues: (copy) v_u_11\n    p87.AnimParams.Background_TargetTransparency = 1\n    p87.AnimParams.Background_NormalizedExptValue = v_u_11:NormalizedDefaultExptValueInSeconds(p88)\n    p87:FadeOutText(p88)\nend\nfunction v_u_16.FadeInBackground(p89, p90)\n    -- upvalues: (copy) v_u_11\n    p89.AnimParams.Background_TargetTransparency = 0.6\n    p89.AnimParams.Background_NormalizedExptValue = v_u_11:NormalizedDefaultExptValueInSeconds(p90)\n    p89:FadeInText(p90)\nend\nfunction v_u_16.FadeOutText(p91, p92)\n    -- upvalues: (copy) v_u_11\n    p91.AnimParams.Text_TargetTransparency = 1\n    p91.AnimParams.Text_NormalizedExptValue = v_u_11:NormalizedDefaultExptValueInSeconds(p92)\nend\nfunction v_u_16.FadeInText(p93, p94)\n    -- upvalues: (copy) v_u_11\n    p93.AnimParams.Text_TargetTransparency = 0.4\n    p93.AnimParams.Text_NormalizedExptValue = v_u_11:NormalizedDefaultExptValueInSeconds(p94)\nend\nfunction v_u_16.AnimGuiObjects(p95)\n    p95.GuiObject.BackgroundTransparency = p95.AnimParams.Background_CurrentTransparency\n    p95.GuiObjects.TextBoxFrame.BackgroundTransparency = p95.AnimParams.Background_CurrentTransparency\n    p95.GuiObjects.TextLabel.TextTransparency = p95.AnimParams.Text_CurrentTransparency\n    p95.GuiObjects.TextBox.TextTransparency = p95.AnimParams.Text_CurrentTransparency\n    p95.GuiObjects.MessageModeTextButton.TextTransparency = p95.AnimParams.Text_CurrentTransparency\nend\nfunction v_u_16.InitializeAnimParams(p96)\n    p96.AnimParams.Text_TargetTransparency = 0.4\n    p96.AnimParams.Text_CurrentTransparency = 0.4\n    p96.AnimParams.Text_NormalizedExptValue = 1\n    p96.AnimParams.Background_TargetTransparency = 0.6\n    p96.AnimParams.Background_CurrentTransparency = 0.6\n    p96.AnimParams.Background_NormalizedExptValue = 1\nend\nfunction v_u_16.Update(p97, p98)\n    -- upvalues: (copy) v_u_11\n    p97.AnimParams.Text_CurrentTransparency = v_u_11:Expt(p97.AnimParams.Text_CurrentTransparency, p97.AnimParams.Text_TargetTransparency, p97.AnimParams.Text_NormalizedExptValue, p98)\n    p97.AnimParams.Background_CurrentTransparency = v_u_11:Expt(p97.AnimParams.Background_CurrentTransparency, p97.AnimParams.Background_TargetTransparency, p97.AnimParams.Background_NormalizedExptValue, p98)\n    p97:AnimGuiObjects()\nend\nfunction v_u_16.SetChannelNameColor(p99, p100, p101)\n    p99.ChannelNameColors[p100] = p101\n    if p99.GuiObjects.MessageModeTextButton.Text == p100 then\n        p99.GuiObjects.MessageModeTextButton.TextColor3 = p101\n    end\nend\nfunction v_u_16.GetChannelNameColor(p102, p103)\n    return p102.ChannelNameColors[p103]\nend\nfunction v6.new(p104, p105)\n    -- upvalues: (copy) v_u_16, (copy) v_u_10, (copy) v_u_7, (ref) v_u_5, (copy) v_u_2\n    local v106 = v_u_16\n    local v_u_107 = setmetatable({}, v106)\n    v_u_107.GuiObject = nil\n    v_u_107.ChatBarParentFrame = nil\n    v_u_107.TextBox = nil\n    v_u_107.TextLabel = nil\n    v_u_107.GuiObjects = {}\n    v_u_107.eGuiObjectsChanged = Instance.new(\"BindableEvent\")\n    v_u_107.GuiObjectsChanged = v_u_107.eGuiObjectsChanged.Event\n    v_u_107.TextBoxConnections = {}\n    v_u_107.PreviousText = \"\"\n    v_u_107.InCustomState = false\n    v_u_107.CustomState = nil\n    v_u_107.TargetChannel = nil\n    v_u_107.CommandProcessor = p104\n    v_u_107.ChatWindow = p105\n    v_u_107.TweenPixelsPerSecond = 500\n    v_u_107.TargetYSize = 0\n    v_u_107.AnimParams = {}\n    v_u_107.CalculatingSizeLock = false\n    v_u_107.ChannelNameColors = {}\n    v_u_107.UserHasChatOff = false\n    v_u_107:InitializeAnimParams()\n    v_u_10.SettingsChanged:connect(function(p108, p109)\n        -- upvalues: (copy) v_u_107\n        if p108 == \"ChatBarTextSize\" then\n            v_u_107:SetTextSize(p109)\n        end\n    end)\n    coroutine.wrap(function()\n        -- upvalues: (ref) v_u_7, (ref) v_u_5, (ref) v_u_2, (copy) v_u_107\n        local v110, v111 = pcall(function()\n            -- upvalues: (ref) v_u_7, (ref) v_u_5\n            return v_u_7:CanUserChatAsync(v_u_5.UserId)\n        end)\n        if v110 then\n            v110 = v_u_2:IsStudio() or v111\n        end\n        if v110 == false then\n            v_u_107.UserHasChatOff = true\n            v_u_107:DoLockChatBar()\n        end\n    end)()\n    return v_u_107\nend\nreturn v6"},{"Path":"StarterPlayer.StarterPlayerScripts.ChatScript.ChatMain.ChatChannel","Name":"ChatChannel","ClassName":"ModuleScript","Category":"StarterPlayerScripts","FileName":"ChatChannel49.lua","Source":"-- Decompiled with Velocity Script Decompiler\nlocal v1, v2 = pcall(function()\n    return UserSettings():IsUserFeatureEnabled(\"UserFlagRemoveMessageFromMessageLog\")\nend)\nlocal v_u_3 = v1 and v2\nlocal v4, v5 = pcall(function()\n    return UserSettings():IsUserFeatureEnabled(\"UserIsChatTranslationEnabled2\")\nend)\nlocal v_u_6 = v4 and v5\nlocal v7 = {}\nlocal v8 = game:GetService(\"Chat\"):WaitForChild(\"ClientChatModules\")\nlocal v9 = script.Parent\nlocal v_u_10 = require(v8:WaitForChild(\"ChatSettings\"))\nlocal v_u_11\nif v_u_6 then\n    v_u_11 = v9:FindFirstChild(\"ChatTranslationEnabled\")\n    if v_u_11 == nil then\n        local v_u_12 = nil\n        v_u_12 = v9.ChildAdded:Connect(function(p13)\n            -- upvalues: (ref) v_u_11, (ref) v_u_12\n            if p13.Name == \"ChatTranslationEnabled\" then\n                v_u_11 = p13\n                v_u_12:Disconnect()\n            end\n        end)\n    end\nelse\n    v_u_11 = nil\nend\nlocal v_u_14 = {}\nv_u_14.__index = v_u_14\nfunction v_u_14.Destroy(p15)\n    p15.Destroyed = true\nend\nfunction v_u_14.SetActive(p16, p17)\n    if p17 ~= p16.Active then\n        if p17 == false then\n            p16.MessageLogDisplay:Clear()\n        else\n            p16.MessageLogDisplay:SetCurrentChannelName(p16.Name)\n            for v18 = 1, #p16.MessageLog do\n                p16.MessageLogDisplay:AddMessage(p16.MessageLog[v18])\n            end\n        end\n        p16.Active = p17\n    end\nend\nfunction v_u_14.UpdateMessageFiltered(p19, p20)\n    -- upvalues: (ref) v_u_6, (ref) v_u_11, (ref) v_u_3\n    local v21 = p19.MessageLog\n    local v22 = 1\n    local v23 = nil\n    while true do\n        if v22 > #v21 then\n            v24 = v23\n            break\n        end\n        local v24 = v21[v22]\n        if v24.ID == p20.ID then\n            break\n        end\n        v22 = v22 + 1\n    end\n    if v24 then\n        v24.Message = p20.Message\n        v24.IsFiltered = true\n        if v_u_6 and (v_u_11 ~= nil and v_u_11.Value) then\n            v24.TranslatedMessage = p20.TranslatedMessage\n            v24.ShowTranslated = true\n        end\n        if p19.Active then\n            if v_u_3 and v24.Message == \"\" then\n                table.remove(p19.MessageLog, v22)\n            end\n            p19.MessageLogDisplay:UpdateMessageFiltered(v24)\n            return\n        end\n    else\n        p19:AddMessageToChannelByTimeStamp(p20)\n    end\nend\nfunction v_u_14.AddMessageToChannel(p25, p26)\n    -- upvalues: (copy) v_u_10\n    local v27 = p25.MessageLog\n    table.insert(v27, p26)\n    if p25.Active then\n        p25.MessageLogDisplay:AddMessage(p26)\n    end\n    if #p25.MessageLog > v_u_10.MessageHistoryLengthPerChannel then\n        p25:RemoveLastMessageFromChannel()\n    end\nend\nfunction v_u_14.InternalAddMessageAtTimeStamp(p28, p29)\n    for v30 = 1, #p28.MessageLog do\n        if p29.Time < p28.MessageLog[v30].Time then\n            local v31 = p28.MessageLog\n            table.insert(v31, v30, p29)\n            return\n        end\n    end\n    local v32 = p28.MessageLog\n    table.insert(v32, p29)\nend\nfunction v_u_14.AddMessagesToChannelByTimeStamp(p33, p34, p35)\n    -- upvalues: (copy) v_u_10\n    for v36 = p35, #p34 do\n        p33:InternalAddMessageAtTimeStamp(p34[v36])\n    end\n    while #p33.MessageLog > v_u_10.MessageHistoryLengthPerChannel do\n        table.remove(p33.MessageLog, 1)\n    end\n    if p33.Active then\n        p33.MessageLogDisplay:Clear()\n        for v37 = 1, #p33.MessageLog do\n            p33.MessageLogDisplay:AddMessage(p33.MessageLog[v37])\n        end\n    end\nend\nfunction v_u_14.AddMessageToChannelByTimeStamp(p38, p39)\n    -- upvalues: (copy) v_u_10\n    if #p38.MessageLog >= 1 then\n        if p38.MessageLog[1].Time > p39.Time then\n            return\n        elseif p39.Time >= p38.MessageLog[#p38.MessageLog].Time then\n            p38:AddMessageToChannel(p39)\n        else\n            for v40 = 1, #p38.MessageLog do\n                if p39.Time < p38.MessageLog[v40].Time then\n                    local v41 = p38.MessageLog\n                    table.insert(v41, v40, p39)\n                    if #p38.MessageLog > v_u_10.MessageHistoryLengthPerChannel then\n                        p38:RemoveLastMessageFromChannel()\n                    end\n                    if p38.Active then\n                        p38.MessageLogDisplay:AddMessageAtIndex(p39, v40)\n                    end\n                    return\n                end\n            end\n        end\n    else\n        p38:AddMessageToChannel(p39)\n        return\n    end\nend\nfunction v_u_14.RemoveLastMessageFromChannel(p42)\n    table.remove(p42.MessageLog, 1)\n    if p42.Active then\n        p42.MessageLogDisplay:RemoveLastMessage()\n    end\nend\nfunction v_u_14.ClearMessageLog(p43)\n    p43.MessageLog = {}\n    if p43.Active then\n        p43.MessageLogDisplay:Clear()\n    end\nend\nfunction v_u_14.RegisterChannelTab(p44, p45)\n    p44.ChannelTab = p45\nend\nfunction v7.new(p46, p47)\n    -- upvalues: (copy) v_u_14\n    local v48 = v_u_14\n    local v49 = setmetatable({}, v48)\n    v49.Destroyed = false\n    v49.Active = false\n    v49.MessageLog = {}\n    v49.MessageLogDisplay = p47\n    v49.ChannelTab = nil\n    v49.Name = p46\n    return v49\nend\nreturn v7"},{"Path":"StarterPlayer.StarterPlayerScripts.ChatScript.ChatMain.MessageLogDisplay","Name":"MessageLogDisplay","ClassName":"ModuleScript","Category":"StarterPlayerScripts","FileName":"MessageLogDisplay50.lua","Source":"-- Decompiled with Velocity Script Decompiler\nlocal v1, v2 = pcall(function()\n    return UserSettings():IsUserFeatureEnabled(\"UserRemoveMessageOnTextFilterFailures\")\nend)\nlocal v_u_3 = v1 and v2\nlocal v4, v5 = pcall(function()\n    return UserSettings():IsUserFeatureEnabled(\"UserIsChatTranslationEnabled2\")\nend)\nlocal v_u_6 = v4 and v5\nlocal v_u_7 = {\n    [\"ScrollBarThickness\"] = 4\n}\nlocal v8 = game:GetService(\"Chat\"):WaitForChild(\"ClientChatModules\")\nlocal v9 = script.Parent\nlocal v10 = require(v9:WaitForChild(\"MessageLabelCreator\"))\nlocal v_u_11 = require(v9:WaitForChild(\"CurveUtil\"))\nlocal v_u_12 = require(v8:WaitForChild(\"ChatSettings\"))\nlocal v_u_13 = v10.new()\nlocal v_u_14 = {}\nv_u_14.__index = v_u_14\nlocal function v_u_18()\n    -- upvalues: (copy) v_u_12, (copy) v_u_7\n    local v15 = Instance.new(\"Frame\")\n    v15.Selectable = false\n    v15.Size = UDim2.new(1, 0, 1, 0)\n    v15.BackgroundTransparency = 1\n    local v16 = Instance.new(\"ScrollingFrame\")\n    v16.Selectable = v_u_12.GamepadNavigationEnabled\n    v16.Name = \"Scroller\"\n    v16.BackgroundTransparency = 1\n    v16.BorderSizePixel = 0\n    v16.Position = UDim2.new(0, 0, 0, 3)\n    v16.Size = UDim2.new(1, -4, 1, -6)\n    v16.CanvasSize = UDim2.new(0, 0, 0, 0)\n    v16.ScrollBarThickness = v_u_7.ScrollBarThickness\n    v16.Active = true\n    v16.Parent = v15\n    local v17 = Instance.new(\"UIListLayout\")\n    v17.SortOrder = Enum.SortOrder.LayoutOrder\n    v17.Parent = v16\n    return v15, v16, v17\nend\nfunction v_u_14.Destroy(p19)\n    p19.GuiObject:Destroy()\n    p19.Destroyed = true\nend\nfunction v_u_14.SetActive(p20, p21)\n    p20.GuiObject.Visible = p21\nend\nfunction v_u_14.UpdateMessageFiltered(p22, p23)\n    -- upvalues: (ref) v_u_3\n    local v24 = p22.MessageObjectLog\n    local v25 = 1\n    local v26 = nil\n    while true do\n        if v25 > #v24 then\n            v27 = v26\n            break\n        end\n        local v27 = v24[v25]\n        if v27.ID == p23.ID then\n            break\n        end\n        v25 = v25 + 1\n    end\n    if v27 then\n        if v_u_3 then\n            if p23.Message == \"\" then\n                p22:RemoveMessageAtIndex(v25)\n            else\n                v27.UpdateTextFunction(p23)\n                p22:PositionMessageLabelInWindow(v27, v25)\n            end\n        end\n        v27.UpdateTextFunction(p23)\n        p22:PositionMessageLabelInWindow(v27, v25)\n    end\nend\nfunction v_u_14.RefreshMessagePlacement(p28, p29)\n    local v30 = p28.MessageObjectLog\n    local v31 = 1\n    local v32 = nil\n    while true do\n        if v31 > #v30 then\n            v33 = v32\n            break\n        end\n        local v33 = v30[v31]\n        if v33.ID == p29.ID then\n            break\n        end\n        v31 = v31 + 1\n    end\n    if v33 then\n        p28:PositionMessageLabelInWindow(v33, v31)\n    end\nend\nfunction v_u_14.AddMessage(p_u_34, p_u_35)\n    -- upvalues: (ref) v_u_6, (copy) v_u_13\n    p_u_34:WaitUntilParentedCorrectly()\n    local v36\n    if v_u_6 then\n        v36 = v_u_13:CreateMessageLabel_Chat(p_u_35, p_u_34.CurrentChannelName, function()\n            -- upvalues: (copy) p_u_34, (copy) p_u_35\n            p_u_34:RefreshMessagePlacement(p_u_35)\n        end)\n    else\n        v36 = v_u_13:CreateMessageLabel(p_u_35, p_u_34.CurrentChannelName)\n    end\n    if v36 ~= nil then\n        local v37 = p_u_34.MessageObjectLog\n        table.insert(v37, v36)\n        p_u_34:PositionMessageLabelInWindow(v36, #p_u_34.MessageObjectLog)\n    end\nend\nfunction v_u_14.RemoveMessageAtIndex(p38, p39)\n    p38:WaitUntilParentedCorrectly()\n    local v40 = p38.MessageObjectLog[p39]\n    if v40 then\n        v40:Destroy()\n        table.remove(p38.MessageObjectLog, p39)\n    end\nend\nfunction v_u_14.AddMessageAtIndex(p_u_41, p_u_42, p43)\n    -- upvalues: (ref) v_u_6, (copy) v_u_13\n    local v44\n    if v_u_6 then\n        v44 = v_u_13:CreateMessageLabel_Chat(p_u_42, p_u_41.CurrentChannelName, function()\n            -- upvalues: (copy) p_u_41, (copy) p_u_42\n            p_u_41:RefreshMessagePlacement(p_u_42)\n        end)\n    else\n        v44 = v_u_13:CreateMessageLabel(p_u_42, p_u_41.CurrentChannelName)\n    end\n    if v44 ~= nil then\n        local v45 = p_u_41.MessageObjectLog\n        table.insert(v45, p43, v44)\n        p_u_41:PositionMessageLabelInWindow(v44, p43)\n    end\nend\nfunction v_u_14.RemoveLastMessage(p46)\n    p46:WaitUntilParentedCorrectly()\n    p46.MessageObjectLog[1]:Destroy()\n    table.remove(p46.MessageObjectLog, 1)\nend\nfunction v_u_14.IsScrolledDown(p47)\n    local v48 = p47.Scroller.CanvasSize.Y.Offset\n    local v49 = p47.Scroller.AbsoluteWindowSize.Y\n    local v50 = p47.Scroller.CanvasPosition.Y\n    return v48 < v49 and true or v48 - v50 <= v49 + 5\nend\nfunction v_u_14.UpdateMessageTextHeight(p51, p52)\n    local v53 = p52.BaseFrame\n    for v54 = 1, 10 do\n        if p52.BaseMessage.TextFits then\n            break\n        end\n        local v55 = p51.Scroller.AbsoluteSize.X - v54\n        v53.Size = UDim2.new(1, 0, 0, p52.GetHeightFunction(v55))\n    end\nend\nfunction v_u_14.PositionMessageLabelInWindow(p56, p57, p58)\n    p56:WaitUntilParentedCorrectly()\n    local v59 = p56:IsScrolledDown()\n    local v60 = p57.BaseFrame\n    local v61\n    if p56.MessageObjectLog[p58 - 1] then\n        if p58 == #p56.MessageObjectLog then\n            v61 = p56.MessageObjectLog[p58 - 1].BaseFrame.LayoutOrder + 1\n        else\n            v61 = p56.MessageObjectLog[p58 - 1].BaseFrame.LayoutOrder\n        end\n    else\n        v61 = 1\n    end\n    v60.LayoutOrder = v61\n    v60.Size = UDim2.new(1, 0, 0, p57.GetHeightFunction(p56.Scroller.AbsoluteSize.X))\n    v60.Parent = p56.Scroller\n    if p57.BaseMessage then\n        p56:UpdateMessageTextHeight(p57)\n    end\n    if v59 then\n        local v62 = p56.Scroller\n        local v63 = Vector2.new\n        local v64 = p56.Scroller.CanvasSize.Y.Offset - p56.Scroller.AbsoluteSize.Y\n        v62.CanvasPosition = v63(0, (math.max(0, v64)))\n    end\nend\nfunction v_u_14.ReorderAllMessages(p65)\n    p65:WaitUntilParentedCorrectly()\n    if p65.GuiObject.AbsoluteSize.Y < 1 then\n        return\n    else\n        local v66 = p65.Scroller.CanvasPosition\n        local v67 = p65:IsScrolledDown()\n        for _, v68 in pairs(p65.MessageObjectLog) do\n            p65:UpdateMessageTextHeight(v68)\n        end\n        if v67 then\n            local v69 = p65.Scroller\n            local v70 = Vector2.new\n            local v71 = p65.Scroller.CanvasSize.Y.Offset - p65.Scroller.AbsoluteSize.Y\n            v69.CanvasPosition = v70(0, (math.max(0, v71)))\n        else\n            p65.Scroller.CanvasPosition = v66\n        end\n    end\nend\nfunction v_u_14.Clear(p72)\n    for _, v73 in pairs(p72.MessageObjectLog) do\n        v73:Destroy()\n    end\n    p72.MessageObjectLog = {}\nend\nfunction v_u_14.SetCurrentChannelName(p74, p75)\n    p74.CurrentChannelName = p75\nend\nfunction v_u_14.FadeOutBackground(_, _) end\nfunction v_u_14.FadeInBackground(_, _) end\nfunction v_u_14.FadeOutText(p76, p77)\n    -- upvalues: (copy) v_u_11\n    for v78 = 1, #p76.MessageObjectLog do\n        if p76.MessageObjectLog[v78].FadeOutFunction then\n            p76.MessageObjectLog[v78].FadeOutFunction(p77, v_u_11)\n        end\n    end\nend\nfunction v_u_14.FadeInText(p79, p80)\n    -- upvalues: (copy) v_u_11\n    for v81 = 1, #p79.MessageObjectLog do\n        if p79.MessageObjectLog[v81].FadeInFunction then\n            p79.MessageObjectLog[v81].FadeInFunction(p80, v_u_11)\n        end\n    end\nend\nfunction v_u_14.Update(p82, p83)\n    -- upvalues: (copy) v_u_11\n    for v84 = 1, #p82.MessageObjectLog do\n        if p82.MessageObjectLog[v84].UpdateAnimFunction then\n            p82.MessageObjectLog[v84].UpdateAnimFunction(p83, v_u_11)\n        end\n    end\nend\nfunction v_u_14.WaitUntilParentedCorrectly(p85)\n    while not p85.GuiObject:IsDescendantOf(game:GetService(\"Players\").LocalPlayer) do\n        p85.GuiObject.AncestryChanged:wait()\n    end\nend\nfunction v_u_7.new()\n    -- upvalues: (copy) v_u_14, (copy) v_u_18\n    local v86 = v_u_14\n    local v_u_87 = setmetatable({}, v86)\n    v_u_87.Destroyed = false\n    local v88, v89, v90 = v_u_18()\n    v_u_87.GuiObject = v88\n    v_u_87.Scroller = v89\n    v_u_87.Layout = v90\n    v_u_87.MessageObjectLog = {}\n    v_u_87.Name = \"MessageLogDisplay\"\n    v_u_87.GuiObject.Name = \"Frame_\" .. v_u_87.Name\n    v_u_87.CurrentChannelName = \"\"\n    v_u_87.GuiObject:GetPropertyChangedSignal(\"AbsoluteSize\"):Connect(function()\n        -- upvalues: (copy) v_u_87\n        spawn(function()\n            -- upvalues: (ref) v_u_87\n            v_u_87:ReorderAllMessages()\n        end)\n    end)\n    local v_u_91 = true\n    v_u_87.Layout:GetPropertyChangedSignal(\"AbsoluteContentSize\"):Connect(function()\n        -- upvalues: (copy) v_u_87, (ref) v_u_91\n        local v92 = v_u_87.Layout.AbsoluteContentSize\n        v_u_87.Scroller.CanvasSize = UDim2.new(0, 0, 0, v92.Y)\n        if v_u_91 then\n            local v93 = v_u_87.Scroller.AbsoluteWindowSize\n            v_u_87.Scroller.CanvasPosition = Vector2.new(0, v92.Y - v93.Y)\n        end\n    end)\n    v_u_87.Scroller:GetPropertyChangedSignal(\"CanvasPosition\"):Connect(function()\n        -- upvalues: (ref) v_u_91, (copy) v_u_87\n        v_u_91 = v_u_87:IsScrolledDown()\n    end)\n    return v_u_87\nend\nreturn v_u_7"},{"Path":"StarterPlayer.StarterPlayerScripts.ChatScript.ChatMain.ChatWindow","Name":"ChatWindow","ClassName":"ModuleScript","Category":"StarterPlayerScripts","FileName":"ChatWindow51.lua","Source":"-- Decompiled with Velocity Script Decompiler\nlocal v1 = {}\nlocal v_u_2 = game:GetService(\"Players\")\ngame:GetService(\"Chat\")\nlocal v_u_3 = v_u_2.LocalPlayer:WaitForChild(\"PlayerGui\")\nlocal v_u_4 = game:GetService(\"Chat\")\nlocal v5 = v_u_4:WaitForChild(\"ClientChatModules\")\nlocal v6 = script.Parent\nlocal v_u_7 = require(v6:WaitForChild(\"ChatChannel\"))\nlocal v_u_8 = require(v5:WaitForChild(\"ChatSettings\"))\nlocal v_u_9 = require(v6:WaitForChild(\"CurveUtil\"))\nlocal v_u_10 = {}\nv_u_10.__index = v_u_10\nfunction getClassicChatEnabled()\n    -- upvalues: (copy) v_u_8, (copy) v_u_2\n    if v_u_8.ClassicChatEnabled == nil then\n        return v_u_2.ClassicChat\n    else\n        return v_u_8.ClassicChatEnabled\n    end\nend\nfunction getBubbleChatEnabled()\n    -- upvalues: (copy) v_u_8, (copy) v_u_2\n    if v_u_8.BubbleChatEnabled == nil then\n        return v_u_2.BubbleChat\n    else\n        return v_u_8.BubbleChatEnabled\n    end\nend\nfunction bubbleChatOnly()\n    local v11 = not getClassicChatEnabled()\n    if v11 then\n        v11 = getBubbleChatEnabled()\n    end\n    return v11\nend\nfunction mergeProps(p12, p13)\n    if p12 and p13 then\n        for v14, v15 in pairs(p12) do\n            if p13[v14] ~= nil then\n                p13[v14] = v15\n            end\n        end\n    end\nend\nfunction v_u_10.CreateGuiObjects(p16, p17)\n    -- upvalues: (copy) v_u_4, (copy) v_u_8, (copy) v_u_3\n    local v_u_18 = nil\n    pcall(function()\n        -- upvalues: (ref) v_u_18, (ref) v_u_4\n        v_u_18 = v_u_4:InvokeChatCallback(Enum.ChatCallbackType.OnCreatingChatWindow, nil)\n    end)\n    mergeProps(v_u_18, v_u_8)\n    local v19 = Instance.new(\"Frame\")\n    v19.BackgroundTransparency = 1\n    v19.Active = v_u_8.WindowDraggable\n    v19.Parent = p17\n    v19.AutoLocalize = false\n    local v_u_20 = Instance.new(\"Frame\")\n    v_u_20.Selectable = false\n    v_u_20.Name = \"ChatBarParentFrame\"\n    v_u_20.BackgroundTransparency = 1\n    v_u_20.Parent = v19\n    local v_u_21 = Instance.new(\"Frame\")\n    v_u_21.Selectable = false\n    v_u_21.Name = \"ChannelsBarParentFrame\"\n    v_u_21.BackgroundTransparency = 1\n    v_u_21.Position = UDim2.new(0, 0, 0, 0)\n    v_u_21.Parent = v19\n    local v_u_22 = Instance.new(\"Frame\")\n    v_u_22.Selectable = false\n    v_u_22.Name = \"ChatChannelParentFrame\"\n    v_u_22.BackgroundTransparency = 1\n    v_u_22.BackgroundColor3 = v_u_8.BackGroundColor\n    v_u_22.BackgroundTransparency = 0.6\n    v_u_22.BorderSizePixel = 0\n    v_u_22.Parent = v19\n    local v_u_23 = Instance.new(\"ImageButton\")\n    v_u_23.Selectable = false\n    v_u_23.Image = \"\"\n    v_u_23.BackgroundTransparency = 0.6\n    v_u_23.BorderSizePixel = 0\n    v_u_23.Visible = false\n    v_u_23.BackgroundColor3 = v_u_8.BackGroundColor\n    v_u_23.Active = true\n    if bubbleChatOnly() then\n        v_u_23.Position = UDim2.new(1, -v_u_23.AbsoluteSize.X, 0, 0)\n    else\n        v_u_23.Position = UDim2.new(1, -v_u_23.AbsoluteSize.X, 1, -v_u_23.AbsoluteSize.Y)\n    end\n    v_u_23.Parent = v19\n    local v24 = Instance.new(\"ImageLabel\")\n    v24.Selectable = false\n    v24.Size = UDim2.new(0.8, 0, 0.8, 0)\n    v24.Position = UDim2.new(0.2, 0, 0.2, 0)\n    v24.BackgroundTransparency = 1\n    v24.Image = \"rbxassetid://261880743\"\n    v24.Parent = v_u_23\n    local v_u_25 = v19\n    local v26 = 3\n    while v19 and not v19:IsA(\"ScreenGui\") do\n        v19 = v19.Parent\n    end\n    local v_u_27 = v19.AbsoluteSize.X <= 640 and 1 or (v19.AbsoluteSize.X <= 1024 and 2 or v26)\n    local v_u_28 = false\n    local function v_u_46()\n        -- upvalues: (ref) v_u_28, (copy) v_u_25, (ref) v_u_3, (ref) v_u_8, (copy) v_u_21, (copy) v_u_20\n        if v_u_28 then\n            return\n        else\n            v_u_28 = true\n            if v_u_25:IsDescendantOf(v_u_3) then\n                local v29 = v_u_25\n                while v29 and not v29:IsA(\"ScreenGui\") do\n                    v29 = v29.Parent\n                end\n                local v30 = v_u_8.MinimumWindowSize\n                local v31 = v_u_8.MaximumWindowSize\n                local v32 = v_u_21.AbsoluteSize.Y + v_u_20.AbsoluteSize.Y\n                local v33 = v30.X.Scale * v29.AbsoluteSize.X + v30.X.Offset\n                local v34 = v30.Y.Scale * v29.AbsoluteSize.Y + v30.Y.Offset\n                local v35 = math.max(v34, v32)\n                local v36 = v31.X.Scale * v29.AbsoluteSize.X + v31.X.Offset\n                local v37 = v31.Y.Scale * v29.AbsoluteSize.Y + v31.Y.Offset\n                local v38 = v_u_25.AbsoluteSize.X\n                local v39 = v_u_25.AbsoluteSize.Y\n                if v38 < v33 then\n                    local v40 = UDim2.new(0, v33 - v38, 0, 0)\n                    v_u_25.Size = v_u_25.Size + v40\n                elseif v36 < v38 then\n                    local v41 = UDim2.new(0, v36 - v38, 0, 0)\n                    v_u_25.Size = v_u_25.Size + v41\n                end\n                if v39 < v35 then\n                    local v42 = UDim2.new(0, 0, 0, v35 - v39)\n                    v_u_25.Size = v_u_25.Size + v42\n                elseif v37 < v39 then\n                    local v43 = UDim2.new(0, 0, 0, v37 - v39)\n                    v_u_25.Size = v_u_25.Size + v43\n                end\n                local v44 = v_u_25.AbsoluteSize.X / v29.AbsoluteSize.X\n                local v45 = v_u_25.AbsoluteSize.Y / v29.AbsoluteSize.Y\n                v_u_25.Size = UDim2.new(v44, 0, v45, 0)\n                v_u_28 = false\n            end\n        end\n    end\n    v_u_25.Changed:connect(function(p47)\n        -- upvalues: (copy) v_u_46\n        if p47 == \"AbsoluteSize\" then\n            v_u_46()\n        end\n    end)\n    v_u_23.DragBegin:connect(function(_)\n        -- upvalues: (copy) v_u_25\n        v_u_25.Draggable = false\n    end)\n    local function v_u_50(p48)\n        -- upvalues: (ref) v_u_8, (copy) v_u_25, (copy) v_u_23\n        if v_u_8.WindowDraggable == false and v_u_8.WindowResizable == false then\n            return\n        else\n            local v49 = p48 - v_u_25.AbsolutePosition + v_u_23.AbsoluteSize\n            v_u_25.Size = UDim2.new(0, v49.X, 0, v49.Y)\n            if bubbleChatOnly() then\n                v_u_23.Position = UDim2.new(1, -v_u_23.AbsoluteSize.X, 0, 0)\n            else\n                v_u_23.Position = UDim2.new(1, -v_u_23.AbsoluteSize.X, 1, -v_u_23.AbsoluteSize.Y)\n            end\n        end\n    end\n    v_u_23.DragStopped:connect(function(_, _)\n        -- upvalues: (copy) v_u_25, (ref) v_u_8\n        v_u_25.Draggable = v_u_8.WindowDraggable\n    end)\n    local v_u_51 = false\n    v_u_23.Changed:connect(function(p52)\n        -- upvalues: (copy) v_u_25, (ref) v_u_51, (copy) v_u_50, (copy) v_u_23\n        if p52 == \"AbsolutePosition\" and not v_u_25.Draggable then\n            if v_u_51 then\n                return\n            end\n            v_u_51 = true\n            v_u_50(v_u_23.AbsolutePosition)\n            v_u_51 = false\n        end\n    end)\n    local v_u_53\n    if bubbleChatOnly() then\n        v_u_20.Position = UDim2.new(0, 0, 0, 0)\n        v_u_21.Visible = false\n        v_u_21.Active = false\n        v_u_22.Visible = false\n        v_u_22.Active = false\n        v_u_53 = v_u_25\n        while v_u_25 and not v_u_25:IsA(\"ScreenGui\") do\n            v_u_25 = v_u_25.Parent\n        end\n        local v54, v55\n        if v_u_27 == 1 then\n            v54 = v_u_8.DefaultWindowSizePhone.X.Scale\n            v55 = v_u_8.DefaultWindowSizePhone.X.Offset\n        elseif v_u_27 == 2 then\n            v54 = v_u_8.DefaultWindowSizeTablet.X.Scale\n            v55 = v_u_8.DefaultWindowSizeTablet.X.Offset\n        else\n            v54 = v_u_8.DefaultWindowSizeDesktop.X.Scale\n            v55 = v_u_8.DefaultWindowSizeDesktop.X.Offset\n        end\n        local v56 = nil\n        local v57\n        if v_u_27 == 1 then\n            v57 = v56 or v_u_8.ChatBarTextSizePhone\n        else\n            v57 = v56 or v_u_8.ChatBarTextSize\n        end\n        local v58 = v57 + 14 + 10\n        v_u_53.Size = UDim2.new(v54, v55, 0, v58)\n        v_u_53.Position = v_u_8.DefaultWindowPosition\n    else\n        v_u_53 = v_u_25\n        while v_u_25 and not v_u_25:IsA(\"ScreenGui\") do\n            v_u_25 = v_u_25.Parent\n        end\n        if v_u_27 == 1 then\n            v_u_53.Size = v_u_8.DefaultWindowSizePhone\n        elseif v_u_27 == 2 then\n            v_u_53.Size = v_u_8.DefaultWindowSizeTablet\n        else\n            v_u_53.Size = v_u_8.DefaultWindowSizeDesktop\n        end\n        v_u_53.Position = v_u_8.DefaultWindowPosition\n    end\n    if v_u_27 == 1 then\n        v_u_8.ChatWindowTextSize = v_u_8.ChatWindowTextSizePhone\n        v_u_8.ChatChannelsTabTextSize = v_u_8.ChatChannelsTabTextSizePhone\n        v_u_8.ChatBarTextSize = v_u_8.ChatBarTextSizePhone\n    end\n    local function v_u_61(p59)\n        -- upvalues: (copy) v_u_23, (copy) v_u_20\n        v_u_23.Visible = p59\n        v_u_23.Draggable = p59\n        local v60 = v_u_20.Size.Y.Offset\n        if p59 then\n            v_u_20.Size = UDim2.new(1, -v60 - 2, 0, v60)\n            if not bubbleChatOnly() then\n                v_u_20.Position = UDim2.new(0, 0, 1, -v60)\n                return\n            end\n        else\n            v_u_20.Size = UDim2.new(1, 0, 0, v60)\n            if not bubbleChatOnly() then\n                v_u_20.Position = UDim2.new(0, 0, 1, -v60)\n            end\n        end\n    end\n    local function v_u_69()\n        -- upvalues: (ref) v_u_27, (ref) v_u_8, (copy) v_u_22\n        local v62 = nil\n        local v63\n        if v_u_27 == 1 then\n            v63 = v62 or v_u_8.ChatChannelsTabTextSizePhone\n        else\n            v63 = v62 or v_u_8.ChatChannelsTabTextSize\n        end\n        local v64 = v63 + 8\n        local v65 = math.max(32, v64) + 2\n        local v66 = nil\n        local v67\n        if v_u_27 == 1 then\n            v67 = v66 or v_u_8.ChatBarTextSizePhone\n        else\n            v67 = v66 or v_u_8.ChatBarTextSize\n        end\n        local v68 = v67 + 14 + 10\n        if v_u_8.ShowChannelsBar then\n            v_u_22.Size = UDim2.new(1, 0, 1, -(v65 + v68 + 2 + 2))\n            v_u_22.Position = UDim2.new(0, 0, 0, v65 + 2)\n        else\n            v_u_22.Size = UDim2.new(1, 0, 1, -(v68 + 2 + 2))\n            v_u_22.Position = UDim2.new(0, 0, 0, 2)\n        end\n    end\n    local function v_u_73(p70)\n        -- upvalues: (ref) v_u_27, (ref) v_u_8, (copy) v_u_20, (copy) v_u_23, (copy) v_u_69, (copy) v_u_61\n        local v71\n        if v_u_27 == 1 then\n            v71 = p70 or v_u_8.ChatBarTextSizePhone\n        else\n            v71 = p70 or v_u_8.ChatBarTextSize\n        end\n        local v72 = v71 + 14 + 10\n        v_u_20.Size = UDim2.new(1, 0, 0, v72)\n        if not bubbleChatOnly() then\n            v_u_20.Position = UDim2.new(0, 0, 1, -v72)\n        end\n        v_u_23.Size = UDim2.new(0, v72, 0, v72)\n        v_u_23.Position = UDim2.new(1, -v72, 1, -v72)\n        v_u_69()\n        v_u_61(v_u_8.WindowResizable)\n    end\n    local v74 = v_u_8.ChatChannelsTabTextSize\n    local v75\n    if v_u_27 == 1 then\n        v75 = v74 or v_u_8.ChatChannelsTabTextSizePhone\n    else\n        v75 = v74 or v_u_8.ChatChannelsTabTextSize\n    end\n    local v76 = v75 + 8\n    local v77 = math.max(32, v76) + 2\n    v_u_21.Size = UDim2.new(1, 0, 0, v77)\n    v_u_69()\n    v_u_73(v_u_8.ChatBarTextSize)\n    local v78 = v_u_8.WindowDraggable\n    v_u_53.Active = v78\n    v_u_53.Draggable = v78\n    v_u_61(v_u_8.WindowResizable)\n    v_u_21.Visible = v_u_8.ShowChannelsBar\n    v_u_69()\n    v_u_8.SettingsChanged:connect(function(p79, p80)\n        -- upvalues: (copy) v_u_53, (copy) v_u_61, (ref) v_u_27, (ref) v_u_8, (copy) v_u_21, (copy) v_u_69, (copy) v_u_73\n        if p79 == \"WindowDraggable\" then\n            v_u_53.Active = p80\n            v_u_53.Draggable = p80\n            return\n        elseif p79 == \"WindowResizable\" then\n            v_u_61(p80)\n            return\n        elseif p79 == \"ChatChannelsTabTextSize\" then\n            local v81\n            if v_u_27 == 1 then\n                v81 = p80 or v_u_8.ChatChannelsTabTextSizePhone\n            else\n                v81 = p80 or v_u_8.ChatChannelsTabTextSize\n            end\n            local v82 = v81 + 8\n            local v83 = math.max(32, v82) + 2\n            v_u_21.Size = UDim2.new(1, 0, 0, v83)\n            v_u_69()\n            return\n        elseif p79 == \"ChatBarTextSize\" then\n            v_u_73(p80)\n        elseif p79 == \"ShowChannelsBar\" then\n            v_u_21.Visible = p80\n            v_u_69()\n        end\n    end)\n    p16.GuiObject = v_u_53\n    p16.GuiObjects.BaseFrame = v_u_53\n    p16.GuiObjects.ChatBarParentFrame = v_u_20\n    p16.GuiObjects.ChannelsBarParentFrame = v_u_21\n    p16.GuiObjects.ChatChannelParentFrame = v_u_22\n    p16.GuiObjects.ChatResizerFrame = v_u_23\n    p16.GuiObjects.ResizeIcon = v24\n    p16:AnimGuiObjects()\nend\nfunction v_u_10.GetChatBar(p84)\n    return p84.ChatBar\nend\nfunction v_u_10.RegisterChatBar(p85, p86)\n    p85.ChatBar = p86\n    p85.ChatBar:CreateGuiObjects(p85.GuiObjects.ChatBarParentFrame)\nend\nfunction v_u_10.RegisterChannelsBar(p87, p88)\n    p87.ChannelsBar = p88\n    p87.ChannelsBar:CreateGuiObjects(p87.GuiObjects.ChannelsBarParentFrame)\nend\nfunction v_u_10.RegisterMessageLogDisplay(p89, p90)\n    p89.MessageLogDisplay = p90\n    p89.MessageLogDisplay.GuiObject.Parent = p89.GuiObjects.ChatChannelParentFrame\nend\nfunction v_u_10.AddChannel(p_u_91, p_u_92)\n    -- upvalues: (copy) v_u_7\n    if not p_u_91:GetChannel(p_u_92) then\n        local v93 = v_u_7.new(p_u_92, p_u_91.MessageLogDisplay)\n        p_u_91.Channels[p_u_92:lower()] = v93\n        v93:SetActive(false)\n        local v94 = p_u_91.ChannelsBar:AddChannelTab(p_u_92)\n        v94.NameTag.MouseButton1Click:connect(function()\n            -- upvalues: (copy) p_u_91, (copy) p_u_92\n            p_u_91:SwitchCurrentChannel(p_u_92)\n        end)\n        v93:RegisterChannelTab(v94)\n        return v93\n    end\n    error(\"Channel \\'\" .. p_u_92 .. \"\\' already exists!\")\nend\nfunction v_u_10.GetFirstChannel()\n    -- failed to decompile\nend\nfunction v_u_10.RemoveChannel(p95, p96)\n    -- upvalues: (copy) v_u_8\n    if not p95:GetChannel(p96) then\n        error(\"Channel \\'\" .. p96 .. \"\\' does not exist!\")\n    end\n    local v97 = p96:lower()\n    local v98\n    if p95.Channels[v97] == p95:GetCurrentChannel() then\n        p95:SwitchCurrentChannel(nil)\n        v98 = true\n    else\n        v98 = false\n    end\n    p95.Channels[v97]:Destroy()\n    p95.Channels[v97] = nil\n    p95.ChannelsBar:RemoveChannelTab(p96)\n    if v98 then\n        local v99\n        if p95:GetChannel(v_u_8.GeneralChannelName) ~= nil and v97 ~= v_u_8.GeneralChannelName:lower() then\n            v99 = v_u_8.GeneralChannelName\n        else\n            local v100 = p95:GetFirstChannel()\n            v99 = v100 and v100.Name or nil\n        end\n        p95:SwitchCurrentChannel(v99)\n    end\n    if not v_u_8.ShowChannelsBar and p95.ChatBar.TargetChannel == p96 then\n        p95.ChatBar:SetChannelTarget(v_u_8.GeneralChannelName)\n    end\nend\nfunction v_u_10.GetChannel(p101, p102)\n    return p102 and p101.Channels[p102:lower()] or nil\nend\nfunction v_u_10.GetTargetMessageChannel(p103)\n    -- upvalues: (copy) v_u_8\n    if not v_u_8.ShowChannelsBar then\n        return p103.ChatBar.TargetChannel\n    end\n    local v104 = p103:GetCurrentChannel()\n    if v104 then\n        v104 = v104.Name\n    end\n    return v104\nend\nfunction v_u_10.GetCurrentChannel(p105)\n    return p105.CurrentChannel\nend\nfunction v_u_10.SwitchCurrentChannel(p106, p107)\n    -- upvalues: (copy) v_u_8\n    if not v_u_8.ShowChannelsBar then\n        local v108 = p106:GetChannel(p107)\n        if v108 then\n            p106.ChatBar:SetChannelTarget(v108.Name)\n        end\n        p107 = v_u_8.GeneralChannelName\n    end\n    local v109 = p106:GetCurrentChannel()\n    local v110 = p106:GetChannel(p107)\n    if v110 == nil then\n        error(string.format(\"Channel \\'%s\\' does not exist.\", p107))\n    end\n    if v110 ~= v109 then\n        if v109 then\n            v109:SetActive(false)\n            p106.ChannelsBar:GetChannelTab(v109.Name):SetActive(false)\n        end\n        if v110 then\n            v110:SetActive(true)\n            p106.ChannelsBar:GetChannelTab(v110.Name):SetActive(true)\n        end\n        p106.CurrentChannel = v110\n    end\nend\nfunction v_u_10.UpdateFrameVisibility(p111)\n    local v112 = p111.GuiObject\n    local v113 = p111.Visible\n    if v113 then\n        v113 = p111.CoreGuiEnabled\n    end\n    v112.Visible = v113\nend\nfunction v_u_10.GetVisible(p114)\n    return p114.Visible\nend\nfunction v_u_10.SetVisible(p115, p116)\n    p115.Visible = p116\n    p115:UpdateFrameVisibility()\nend\nfunction v_u_10.GetCoreGuiEnabled(p117)\n    return p117.CoreGuiEnabled\nend\nfunction v_u_10.SetCoreGuiEnabled(p118, p119)\n    p118.CoreGuiEnabled = p119\n    p118:UpdateFrameVisibility()\nend\nfunction v_u_10.EnableResizable(p120)\n    p120.GuiObjects.ChatResizerFrame.Active = true\nend\nfunction v_u_10.DisableResizable(p121)\n    p121.GuiObjects.ChatResizerFrame.Active = false\nend\nfunction v_u_10.FadeOutBackground(p122, p123)\n    -- upvalues: (copy) v_u_9\n    p122.ChannelsBar:FadeOutBackground(p123)\n    p122.MessageLogDisplay:FadeOutBackground(p123)\n    p122.ChatBar:FadeOutBackground(p123)\n    p122.AnimParams.Background_TargetTransparency = 1\n    p122.AnimParams.Background_NormalizedExptValue = v_u_9:NormalizedDefaultExptValueInSeconds(p123)\nend\nfunction v_u_10.FadeInBackground(p124, p125)\n    -- upvalues: (copy) v_u_9\n    p124.ChannelsBar:FadeInBackground(p125)\n    p124.MessageLogDisplay:FadeInBackground(p125)\n    p124.ChatBar:FadeInBackground(p125)\n    p124.AnimParams.Background_TargetTransparency = 0.6\n    p124.AnimParams.Background_NormalizedExptValue = v_u_9:NormalizedDefaultExptValueInSeconds(p125)\nend\nfunction v_u_10.FadeOutText(p126, p127)\n    p126.MessageLogDisplay:FadeOutText(p127)\n    p126.ChannelsBar:FadeOutText(p127)\nend\nfunction v_u_10.FadeInText(p128, p129)\n    p128.MessageLogDisplay:FadeInText(p129)\n    p128.ChannelsBar:FadeInText(p129)\nend\nfunction v_u_10.AnimGuiObjects(p130)\n    p130.GuiObjects.ChatChannelParentFrame.BackgroundTransparency = p130.AnimParams.Background_CurrentTransparency\n    p130.GuiObjects.ChatResizerFrame.BackgroundTransparency = p130.AnimParams.Background_CurrentTransparency\n    p130.GuiObjects.ResizeIcon.ImageTransparency = p130.AnimParams.Background_CurrentTransparency\nend\nfunction v_u_10.InitializeAnimParams(p131)\n    -- upvalues: (copy) v_u_9\n    p131.AnimParams.Background_TargetTransparency = 0.6\n    p131.AnimParams.Background_CurrentTransparency = 0.6\n    p131.AnimParams.Background_NormalizedExptValue = v_u_9:NormalizedDefaultExptValueInSeconds(0)\nend\nfunction v_u_10.Update(p132, p133)\n    -- upvalues: (copy) v_u_9\n    p132.ChatBar:Update(p133)\n    p132.ChannelsBar:Update(p133)\n    p132.MessageLogDisplay:Update(p133)\n    p132.AnimParams.Background_CurrentTransparency = v_u_9:Expt(p132.AnimParams.Background_CurrentTransparency, p132.AnimParams.Background_TargetTransparency, p132.AnimParams.Background_NormalizedExptValue, p133)\n    p132:AnimGuiObjects()\nend\nfunction v1.new()\n    -- upvalues: (copy) v_u_10\n    local v134 = v_u_10\n    local v135 = setmetatable({}, v134)\n    v135.GuiObject = nil\n    v135.GuiObjects = {}\n    v135.ChatBar = nil\n    v135.ChannelsBar = nil\n    v135.MessageLogDisplay = nil\n    v135.Channels = {}\n    v135.CurrentChannel = nil\n    v135.Visible = true\n    v135.CoreGuiEnabled = true\n    v135.AnimParams = {}\n    v135:InitializeAnimParams()\n    return v135\nend\nreturn v1"},{"Path":"StarterPlayer.StarterPlayerScripts.ChatScript.ChatMain.MessageLabelCreator","Name":"MessageLabelCreator","ClassName":"ModuleScript","Category":"StarterPlayerScripts","FileName":"MessageLabelCreator52.lua","Source":"-- Decompiled with Velocity Script Decompiler\nlocal v1 = {}\nlocal v_u_2 = game:GetService(\"Chat\")\nlocal v3 = v_u_2:WaitForChild(\"ClientChatModules\")\nlocal v_u_4 = v3:WaitForChild(\"MessageCreatorModules\")\nlocal v_u_5 = require(v_u_4:WaitForChild(\"Util\"))\nlocal v6 = script.Parent\nrequire(v3:WaitForChild(\"ChatSettings\"))\nlocal v_u_7 = require(v6:WaitForChild(\"ObjectPool\"))\nrequire(v6:WaitForChild(\"MessageSender\"))\nlocal v_u_8 = {}\nv_u_8.__index = v_u_8\nfunction mergeProps(p9, p10)\n    if p9 then\n        for v11, v12 in pairs(p9) do\n            p10[v11] = v12\n        end\n    end\nend\nfunction ReturnToObjectPoolRecursive(p13, p14)\n    local v15 = p13:GetChildren()\n    for v16 = 1, #v15 do\n        ReturnToObjectPoolRecursive(v15[v16], p14)\n    end\n    p13.Parent = nil\n    p14:ReturnInstance(p13)\nend\nfunction GetMessageCreators()\n    -- upvalues: (copy) v_u_4, (copy) v_u_5\n    local v17 = v_u_4:GetChildren()\n    local v18 = {}\n    for v19 = 1, #v17 do\n        if v17[v19]:IsA(\"ModuleScript\") and v17[v19].Name ~= \"Util\" then\n            local v20 = require(v17[v19])\n            v18[v20[v_u_5.KEY_MESSAGE_TYPE]] = v20[v_u_5.KEY_CREATOR_FUNCTION]\n        end\n    end\n    return v18\nend\nfunction v_u_8.WrapIntoMessageObject(p21, p22, p23)\n    -- upvalues: (copy) v_u_5\n    local v24 = p23[v_u_5.KEY_BASE_FRAME]\n    local v25\n    if v_u_5.KEY_BASE_MESSAGE then\n        v25 = p23[v_u_5.KEY_BASE_MESSAGE]\n    else\n        v25 = nil\n    end\n    local v26 = p23[v_u_5.KEY_UPDATE_TEXT_FUNC]\n    local v27 = p23[v_u_5.KEY_GET_HEIGHT]\n    local v28 = p23[v_u_5.KEY_FADE_IN]\n    local v29 = p23[v_u_5.KEY_FADE_OUT]\n    local v30 = p23[v_u_5.KEY_UPDATE_ANIMATION]\n    return {\n        [\"ID\"] = p22.ID,\n        [\"BaseFrame\"] = v24,\n        [\"BaseMessage\"] = v25,\n        [\"UpdateTextFunction\"] = v26 or function()\n            warn(\"NO MESSAGE RESIZE FUNCTION\")\n        end,\n        [\"GetHeightFunction\"] = v27,\n        [\"FadeInFunction\"] = v28,\n        [\"FadeOutFunction\"] = v29,\n        [\"UpdateAnimFunction\"] = v30,\n        [\"ObjectPool\"] = p21.ObjectPool,\n        [\"Destroyed\"] = false,\n        [\"Destroy\"] = function(p31)\n            ReturnToObjectPoolRecursive(p31.BaseFrame, p31.ObjectPool)\n            p31.Destroyed = true\n        end\n    }\nend\nfunction v_u_8.CreateMessageLabel_Chat(p32, p_u_33, p34, p35)\n    -- upvalues: (copy) v_u_2\n    p_u_33.Channel = p34\n    local v_u_36 = nil\n    pcall(function()\n        -- upvalues: (ref) v_u_36, (ref) v_u_2, (copy) p_u_33\n        v_u_36 = v_u_2:InvokeChatCallback(Enum.ChatCallbackType.OnClientFormattingMessage, p_u_33)\n    end)\n    p_u_33.ExtraData = p_u_33.ExtraData or {}\n    mergeProps(v_u_36, p_u_33.ExtraData)\n    local v37 = p_u_33.MessageType\n    if p32.MessageCreators[v37] then\n        local v38 = p32.MessageCreators[v37](p_u_33, p34, p35)\n        if v38 then\n            return p32:WrapIntoMessageObject(p_u_33, v38)\n        end\n    elseif p32.DefaultCreatorType then\n        local v39 = p32.MessageCreators[p32.DefaultCreatorType](p_u_33, p34, p35)\n        if v39 then\n            return p32:WrapIntoMessageObject(p_u_33, v39)\n        end\n    else\n        error(\"No message creator available for message type: \" .. v37)\n    end\nend\nfunction v_u_8.CreateMessageLabel(p40, p_u_41, p42)\n    -- upvalues: (copy) v_u_2\n    p_u_41.Channel = p42\n    local v_u_43 = nil\n    pcall(function()\n        -- upvalues: (ref) v_u_43, (ref) v_u_2, (copy) p_u_41\n        v_u_43 = v_u_2:InvokeChatCallback(Enum.ChatCallbackType.OnClientFormattingMessage, p_u_41)\n    end)\n    p_u_41.ExtraData = p_u_41.ExtraData or {}\n    mergeProps(v_u_43, p_u_41.ExtraData)\n    local v44 = p_u_41.MessageType\n    if p40.MessageCreators[v44] then\n        local v45 = p40.MessageCreators[v44](p_u_41, p42)\n        if v45 then\n            return p40:WrapIntoMessageObject(p_u_41, v45)\n        end\n    elseif p40.DefaultCreatorType then\n        local v46 = p40.MessageCreators[p40.DefaultCreatorType](p_u_41, p42)\n        if v46 then\n            return p40:WrapIntoMessageObject(p_u_41, v46)\n        end\n    else\n        error(\"No message creator available for message type: \" .. v44)\n    end\nend\nfunction v1.new()\n    -- upvalues: (copy) v_u_8, (copy) v_u_7, (copy) v_u_5\n    local v47 = v_u_8\n    local v48 = setmetatable({}, v47)\n    v48.ObjectPool = v_u_7.new(50)\n    v48.MessageCreators = GetMessageCreators()\n    v48.DefaultCreatorType = v_u_5.DEFAULT_MESSAGE_CREATOR\n    v_u_5:RegisterObjectPool(v48.ObjectPool)\n    return v48\nend\nfunction v1.GetStringTextBounds(_, p49, p50, p51, p52)\n    -- upvalues: (copy) v_u_5\n    return v_u_5:GetStringTextBounds(p49, p50, p51, p52)\nend\nreturn v1"},{"Path":"StarterPlayer.StarterPlayerScripts.ChatScript.ChatMain.CommandProcessor","Name":"CommandProcessor","ClassName":"ModuleScript","Category":"StarterPlayerScripts","FileName":"CommandProcessor53.lua","Source":"-- Decompiled with Velocity Script Decompiler\nlocal v1 = {}\nlocal v_u_2 = {}\nv_u_2.__index = v_u_2\nlocal v3 = game:GetService(\"Chat\"):WaitForChild(\"ClientChatModules\")\nlocal v_u_4 = v3:WaitForChild(\"CommandModules\")\nlocal v_u_5 = require(v_u_4:WaitForChild(\"Util\"))\nlocal _ = script.Parent\nlocal v_u_6 = require(v3:WaitForChild(\"ChatSettings\"))\nfunction v_u_2.SetupCommandProcessors(p7)\n    -- upvalues: (copy) v_u_4, (copy) v_u_5\n    local v8 = v_u_4:GetChildren()\n    for v9 = 1, #v8 do\n        if v8[v9]:IsA(\"ModuleScript\") and v8[v9].Name ~= \"Util\" then\n            local v10 = require(v8[v9])\n            local v11 = v10[v_u_5.KEY_COMMAND_PROCESSOR_TYPE]\n            local v12 = v10[v_u_5.KEY_PROCESSOR_FUNCTION]\n            if v11 == v_u_5.IN_PROGRESS_MESSAGE_PROCESSOR then\n                local v13 = p7.InProgressMessageProcessors\n                table.insert(v13, v12)\n            elseif v11 == v_u_5.COMPLETED_MESSAGE_PROCESSOR then\n                local v14 = p7.CompletedMessageProcessors\n                table.insert(v14, v12)\n            end\n        end\n    end\nend\nfunction v_u_2.ProcessCompletedChatMessage(p15, p16, p17)\n    -- upvalues: (copy) v_u_6\n    for v18 = 1, #p15.CompletedMessageProcessors do\n        if p15.CompletedMessageProcessors[v18](p16, p17, v_u_6) then\n            return true\n        end\n    end\n    return false\nend\nfunction v_u_2.ProcessInProgressChatMessage(p19, p20, p21, p22)\n    -- upvalues: (copy) v_u_6\n    for v23 = 1, #p19.InProgressMessageProcessors do\n        local v24 = p19.InProgressMessageProcessors[v23](p20, p21, p22, v_u_6)\n        if v24 then\n            return v24\n        end\n    end\n    return nil\nend\nfunction v1.new()\n    -- upvalues: (copy) v_u_2\n    local v25 = v_u_2\n    local v26 = setmetatable({}, v25)\n    v26.CompletedMessageProcessors = {}\n    v26.InProgressMessageProcessors = {}\n    v26:SetupCommandProcessors()\n    return v26\nend\nreturn v1"},{"Path":"StarterPlayer.StarterPlayerScripts.ChatScript.ChatMain.ChannelsTab","Name":"ChannelsTab","ClassName":"ModuleScript","Category":"StarterPlayerScripts","FileName":"ChannelsTab54.lua","Source":"-- Decompiled with Velocity Script Decompiler\nlocal v1 = {}\nlocal v2 = game:GetService(\"Chat\"):WaitForChild(\"ClientChatModules\")\nlocal v3 = script.Parent\nlocal v_u_4 = require(v2:WaitForChild(\"ChatSettings\"))\nlocal v_u_5 = require(v3:WaitForChild(\"CurveUtil\"))\nlocal v_u_6 = {}\nv_u_6.__index = v_u_6\nlocal function v_u_20()\n    -- upvalues: (copy) v_u_4\n    local v7 = Instance.new(\"Frame\")\n    v7.Selectable = false\n    v7.Size = UDim2.new(1, 0, 1, 0)\n    v7.BackgroundTransparency = 1\n    local v8 = Instance.new(\"Frame\")\n    v8.Selectable = false\n    v8.Name = \"BackgroundFrame\"\n    v8.Size = UDim2.new(1, -2, 1, -2)\n    v8.Position = UDim2.new(0, 1, 0, 1)\n    v8.BackgroundTransparency = 1\n    v8.Parent = v7\n    local v9 = Instance.new(\"Frame\")\n    v9.Selectable = false\n    v9.Name = \"UnselectedFrame\"\n    v9.Size = UDim2.new(1, 0, 1, 0)\n    v9.Position = UDim2.new(0, 0, 0, 0)\n    v9.BorderSizePixel = 0\n    v9.BackgroundColor3 = v_u_4.ChannelsTabUnselectedColor\n    v9.BackgroundTransparency = 0.6\n    v9.Parent = v8\n    local v10 = Instance.new(\"Frame\")\n    v10.Selectable = false\n    v10.Name = \"SelectedFrame\"\n    v10.Size = UDim2.new(1, 0, 1, 0)\n    v10.Position = UDim2.new(0, 0, 0, 0)\n    v10.BorderSizePixel = 0\n    v10.BackgroundColor3 = v_u_4.ChannelsTabSelectedColor\n    v10.BackgroundTransparency = 1\n    v10.Parent = v8\n    local v11 = Instance.new(\"ImageLabel\")\n    v11.Selectable = false\n    v11.Name = \"BackgroundImage\"\n    v11.BackgroundTransparency = 1\n    v11.BorderSizePixel = 0\n    v11.Size = UDim2.new(1, 0, 1, 0)\n    v11.Position = UDim2.new(0, 0, 0, 0)\n    v11.ScaleType = Enum.ScaleType.Slice\n    v11.Parent = v10\n    v11.BackgroundTransparency = -0.4\n    v11.BackgroundColor3 = Color3.fromRGB(93.6, 100.8, 115.19999999999999)\n    local v12 = Instance.new(\"ImageLabel\")\n    v12.Selectable = false\n    v12.Size = UDim2.new(0.5, -2, 0, 4)\n    v12.BackgroundTransparency = 1\n    v12.ScaleType = Enum.ScaleType.Slice\n    v12.SliceCenter = Rect.new(3, 3, 32, 21)\n    v12.Parent = v10\n    local v13 = v12:Clone()\n    v13.Parent = v10\n    v12.Position = UDim2.new(0, 2, 1, -4)\n    v13.Position = UDim2.new(0.5, 0, 1, -4)\n    v12.Image = \"rbxasset://textures/ui/Settings/Slider/SelectedBarLeft.png\"\n    v13.Image = \"rbxasset://textures/ui/Settings/Slider/SelectedBarRight.png\"\n    v12.Name = \"BlueBarLeft\"\n    v13.Name = \"BlueBarRight\"\n    local v14 = Instance.new(\"TextButton\")\n    v14.Selectable = v_u_4.GamepadNavigationEnabled\n    v14.Size = UDim2.new(1, 0, 1, 0)\n    v14.Position = UDim2.new(0, 0, 0, 0)\n    v14.BackgroundTransparency = 1\n    v14.Font = v_u_4.DefaultFont\n    v14.TextSize = v_u_4.ChatChannelsTabTextSize\n    v14.TextColor3 = Color3.new(1, 1, 1)\n    v14.TextStrokeTransparency = 0.75\n    v14.Parent = v8\n    local v15 = v14:Clone()\n    local v16 = v14:Clone()\n    v15.Parent = v9\n    v16.Parent = v10\n    v15.Font = Enum.Font.SourceSans\n    v15.Active = false\n    v16.Active = false\n    local v17 = Instance.new(\"Frame\")\n    v17.Selectable = false\n    v17.Size = UDim2.new(0, 18, 0, 18)\n    v17.Position = UDim2.new(0.8, -9, 0.5, -9)\n    v17.BackgroundTransparency = 1\n    v17.Parent = v8\n    local v18 = Instance.new(\"ImageLabel\")\n    v18.Selectable = false\n    v18.Size = UDim2.new(1, 0, 1, 0)\n    v18.BackgroundTransparency = 1\n    v18.Image = \"rbxasset://textures/ui/Chat/MessageCounter.png\"\n    v18.Visible = false\n    v18.Parent = v17\n    local v19 = Instance.new(\"TextLabel\")\n    v19.Selectable = false\n    v19.BackgroundTransparency = 1\n    v19.Size = UDim2.new(0, 13, 0, 9)\n    v19.Position = UDim2.new(0.5, -7, 0.5, -7)\n    v19.Font = v_u_4.DefaultFont\n    v19.TextSize = 14\n    v19.TextColor3 = Color3.new(1, 1, 1)\n    v19.Text = \"\"\n    v19.Parent = v18\n    return v7, v14, v15, v16, v18, v9, v10\nend\nfunction v_u_6.Destroy(p21)\n    p21.GuiObject:Destroy()\nend\nfunction v_u_6.UpdateMessagePostedInChannel(p22, p23)\n    if not p22.Active or p23 == true then\n        local v24 = p22.UnreadMessageCount + 1\n        p22.UnreadMessageCount = v24\n        local v25 = p22.NewMessageIcon\n        v25.Visible = true\n        v25.TextLabel.Text = v24 < 100 and tostring(v24) or \"!\"\n        local v26 = UDim2.new(0, 0, -0.1, 0)\n        local _ = v25.Position + v26\n        local v27 = Enum.EasingDirection.Out\n        local v28 = Enum.EasingStyle.Quad\n        v25.Position = UDim2.new(0, 0, -0.15, 0)\n        v25:TweenPosition(UDim2.new(0, 0, 0, 0), v27, v28, 0.15, true)\n    end\nend\nfunction v_u_6.SetActive(p29, p30)\n    p29.Active = p30\n    p29.UnselectedFrame.Visible = not p30\n    p29.SelectedFrame.Visible = p30\n    if p30 then\n        p29.UnreadMessageCount = 0\n        p29.NewMessageIcon.Visible = false\n        p29.NameTag.Font = Enum.Font.SourceSansBold\n    else\n        p29.NameTag.Font = Enum.Font.SourceSans\n    end\nend\nfunction v_u_6.SetTextSize(p31, p32)\n    p31.NameTag.TextSize = p32\nend\nfunction v_u_6.FadeOutBackground(p33, p34)\n    -- upvalues: (copy) v_u_5\n    p33.AnimParams.Background_TargetTransparency = 1\n    p33.AnimParams.Background_NormalizedExptValue = v_u_5:NormalizedDefaultExptValueInSeconds(p34)\nend\nfunction v_u_6.FadeInBackground(p35, p36)\n    -- upvalues: (copy) v_u_5\n    p35.AnimParams.Background_TargetTransparency = 0.6\n    p35.AnimParams.Background_NormalizedExptValue = v_u_5:NormalizedDefaultExptValueInSeconds(p36)\nend\nfunction v_u_6.FadeOutText(p37, p38)\n    -- upvalues: (copy) v_u_5\n    p37.AnimParams.Text_TargetTransparency = 1\n    p37.AnimParams.Text_NormalizedExptValue = v_u_5:NormalizedDefaultExptValueInSeconds(p38)\n    p37.AnimParams.TextStroke_TargetTransparency = 1\n    p37.AnimParams.TextStroke_NormalizedExptValue = v_u_5:NormalizedDefaultExptValueInSeconds(p38)\nend\nfunction v_u_6.FadeInText(p39, p40)\n    -- upvalues: (copy) v_u_5\n    p39.AnimParams.Text_TargetTransparency = 0\n    p39.AnimParams.Text_NormalizedExptValue = v_u_5:NormalizedDefaultExptValueInSeconds(p40)\n    p39.AnimParams.TextStroke_TargetTransparency = 0.75\n    p39.AnimParams.TextStroke_NormalizedExptValue = v_u_5:NormalizedDefaultExptValueInSeconds(p40)\nend\nfunction v_u_6.AnimGuiObjects(p41)\n    p41.UnselectedFrame.BackgroundTransparency = p41.AnimParams.Background_CurrentTransparency\n    p41.SelectedFrame.BackgroundImage.BackgroundTransparency = p41.AnimParams.Background_CurrentTransparency\n    p41.SelectedFrame.BlueBarLeft.ImageTransparency = p41.AnimParams.Background_CurrentTransparency\n    p41.SelectedFrame.BlueBarRight.ImageTransparency = p41.AnimParams.Background_CurrentTransparency\n    p41.NameTagNonSelect.TextTransparency = p41.AnimParams.Background_CurrentTransparency\n    p41.NameTagNonSelect.TextStrokeTransparency = p41.AnimParams.Background_CurrentTransparency\n    p41.NameTag.TextTransparency = p41.AnimParams.Text_CurrentTransparency\n    p41.NewMessageIcon.ImageTransparency = p41.AnimParams.Text_CurrentTransparency\n    p41.WhiteTextNewMessageNotification.TextTransparency = p41.AnimParams.Text_CurrentTransparency\n    p41.NameTagSelect.TextTransparency = p41.AnimParams.Text_CurrentTransparency\n    p41.NameTag.TextStrokeTransparency = p41.AnimParams.TextStroke_CurrentTransparency\n    p41.WhiteTextNewMessageNotification.TextStrokeTransparency = p41.AnimParams.TextStroke_CurrentTransparency\n    p41.NameTagSelect.TextStrokeTransparency = p41.AnimParams.TextStroke_CurrentTransparency\nend\nfunction v_u_6.InitializeAnimParams(p42)\n    -- upvalues: (copy) v_u_5\n    p42.AnimParams.Text_TargetTransparency = 0\n    p42.AnimParams.Text_CurrentTransparency = 0\n    p42.AnimParams.Text_NormalizedExptValue = v_u_5:NormalizedDefaultExptValueInSeconds(0)\n    p42.AnimParams.TextStroke_TargetTransparency = 0.75\n    p42.AnimParams.TextStroke_CurrentTransparency = 0.75\n    p42.AnimParams.TextStroke_NormalizedExptValue = v_u_5:NormalizedDefaultExptValueInSeconds(0)\n    p42.AnimParams.Background_TargetTransparency = 0.6\n    p42.AnimParams.Background_CurrentTransparency = 0.6\n    p42.AnimParams.Background_NormalizedExptValue = v_u_5:NormalizedDefaultExptValueInSeconds(0)\nend\nfunction v_u_6.Update(p43, p44)\n    -- upvalues: (copy) v_u_5\n    p43.AnimParams.Background_CurrentTransparency = v_u_5:Expt(p43.AnimParams.Background_CurrentTransparency, p43.AnimParams.Background_TargetTransparency, p43.AnimParams.Background_NormalizedExptValue, p44)\n    p43.AnimParams.Text_CurrentTransparency = v_u_5:Expt(p43.AnimParams.Text_CurrentTransparency, p43.AnimParams.Text_TargetTransparency, p43.AnimParams.Text_NormalizedExptValue, p44)\n    p43.AnimParams.TextStroke_CurrentTransparency = v_u_5:Expt(p43.AnimParams.TextStroke_CurrentTransparency, p43.AnimParams.TextStroke_TargetTransparency, p43.AnimParams.TextStroke_NormalizedExptValue, p44)\n    p43:AnimGuiObjects()\nend\nfunction v1.new(p45)\n    -- upvalues: (copy) v_u_6, (copy) v_u_20, (copy) v_u_4\n    local v46 = v_u_6\n    local v47 = setmetatable({}, v46)\n    local v48, v49, v50, v51, v52, v53, v54 = v_u_20()\n    v47.GuiObject = v48\n    v47.NameTag = v49\n    v47.NameTagNonSelect = v50\n    v47.NameTagSelect = v51\n    v47.NewMessageIcon = v52\n    v47.UnselectedFrame = v53\n    v47.SelectedFrame = v54\n    v47.BlueBarLeft = v54.BlueBarLeft\n    v47.BlueBarRight = v54.BlueBarRight\n    v47.BackgroundImage = v54.BackgroundImage\n    v47.WhiteTextNewMessageNotification = v47.NewMessageIcon.TextLabel\n    v47.ChannelName = p45\n    v47.UnreadMessageCount = 0\n    v47.Active = false\n    v47.GuiObject.Name = \"Frame_\" .. v47.ChannelName\n    if string.len(p45) > v_u_4.MaxChannelNameLength then\n        local v55 = v_u_4.MaxChannelNameLength - 3\n        p45 = string.sub(p45, 1, v55) .. \"...\"\n    end\n    v47.NameTag.Text = \"\"\n    v47.NameTagNonSelect.Text = p45\n    v47.NameTagSelect.Text = p45\n    v47.AnimParams = {}\n    v47:InitializeAnimParams()\n    v47:AnimGuiObjects()\n    v47:SetActive(false)\n    return v47\nend\nreturn v1"},{"Path":"StarterPlayer.StarterPlayerScripts.ChatScript.ChatMain.ObjectPool","Name":"ObjectPool","ClassName":"ModuleScript","Category":"StarterPlayerScripts","FileName":"ObjectPool55.lua","Source":"-- Decompiled with Velocity Script Decompiler\nlocal v1 = {}\nlocal v_u_2 = {}\nv_u_2.__index = v_u_2\nfunction v_u_2.GetInstance(p3, p4)\n    if p3.InstancePoolsByClass[p4] == nil then\n        p3.InstancePoolsByClass[p4] = {}\n    end\n    local v5 = #p3.InstancePoolsByClass[p4]\n    if v5 <= 0 then\n        return Instance.new(p4)\n    end\n    local v6 = p3.InstancePoolsByClass[p4][v5]\n    table.remove(p3.InstancePoolsByClass[p4])\n    return v6\nend\nfunction v_u_2.ReturnInstance(p7, p8)\n    if p7.InstancePoolsByClass[p8.ClassName] == nil then\n        p7.InstancePoolsByClass[p8.ClassName] = {}\n    end\n    if #p7.InstancePoolsByClass[p8.ClassName] < p7.PoolSizePerType then\n        local v9 = p7.InstancePoolsByClass[p8.ClassName]\n        table.insert(v9, p8)\n    else\n        p8:Destroy()\n    end\nend\nfunction v1.new(p10)\n    -- upvalues: (copy) v_u_2\n    local v11 = v_u_2\n    local v12 = setmetatable({}, v11)\n    v12.InstancePoolsByClass = {}\n    v12.Name = \"ObjectPool\"\n    v12.PoolSizePerType = p10\n    return v12\nend\nreturn v1"},{"Path":"StarterPlayer.StarterPlayerScripts.ChatScript.ChatMain.MessageSender","Name":"MessageSender","ClassName":"ModuleScript","Category":"StarterPlayerScripts","FileName":"MessageSender56.lua","Source":"-- Decompiled with Velocity Script Decompiler\nlocal v1 = {}\nlocal _ = script.Parent\nlocal v_u_2 = {}\nv_u_2.__index = v_u_2\nfunction v_u_2.SendMessage(p3, p4, p5)\n    p3.SayMessageRequest:FireServer(p4, p5)\nend\nfunction v_u_2.RegisterSayMessageFunction(p6, p7)\n    p6.SayMessageRequest = p7\nend\nfunction v1.new()\n    -- upvalues: (copy) v_u_2\n    local v8 = v_u_2\n    local v9 = setmetatable({}, v8)\n    v9.SayMessageRequest = nil\n    return v9\nend\nreturn v1.new()"},{"Path":"StarterPlayer.StarterPlayerScripts.ChatScript.ChatMain.CurveUtil","Name":"CurveUtil","ClassName":"ModuleScript","Category":"StarterPlayerScripts","FileName":"CurveUtil57.lua","Source":"-- Decompiled with Velocity Script Decompiler\nlocal v_u_44 = {\n    [\"Expt\"] = function(_, p1, p2, p3, p4)\n        -- upvalues: (copy) v_u_44\n        local v5 = p2 - p1\n        if math.abs(v5) < 0.01 then\n            return p2\n        end\n        local v6 = v_u_44:Expty(p1, p2, p3, p4)\n        return p1 + (p2 - p1) * v6\n    end,\n    [\"Expty\"] = function(_, _, _, p7, p8)\n        local v9 = 1 - p7\n        local v10 = -(-math.log(v9)) * p8\n        return 1 - math.exp(v10)\n    end,\n    [\"Sign\"] = function(_, p11)\n        return p11 > 0 and 1 or (p11 < 0 and -1 or 0)\n    end,\n    [\"BezierValForT\"] = function(_, p12, p13, p14, p15, p16)\n        local v17 = (1 - p16) * (1 - p16) * (1 - p16)\n        local v18 = 3 * p16 * (1 - p16) * (1 - p16)\n        local v19 = 3 * p16 * p16 * (1 - p16)\n        local v20 = p16 * p16 * p16\n        return v17 * p12 + v18 * p13 + v19 * p14 + v20 * p15\n    end,\n    [\"_BezierPt2ForT\"] = {\n        [\"x\"] = 0,\n        [\"y\"] = 0\n    },\n    [\"BezierPt2ForT\"] = function(_, p21, p22, p23, p24, p25, p26, p27, p28, p29)\n        -- upvalues: (copy) v_u_44\n        v_u_44._BezierPt2ForT.x = v_u_44:BezierValForT(p21, p23, p25, p27, p29)\n        v_u_44._BezierPt2ForT.y = v_u_44:BezierValForT(p22, p24, p26, p28, p29)\n        return v_u_44._BezierPt2ForT\n    end,\n    [\"YForPointOf2PtLine\"] = function(_, p30, p31, p32)\n        local v33 = (p30.y - p31.y) / (p30.x - p31.x)\n        local v34 = p30.y - v33 * p30.x\n        return v33 * p32 + v34\n    end,\n    [\"DeltaTimeToTimescale\"] = function(_, p35)\n        return p35 / 0.016666666666666666\n    end,\n    [\"SecondsToTick\"] = function(_, p36)\n        return 0.016666666666666666 / p36\n    end,\n    [\"ExptValueInSeconds\"] = function(_, p37, p38, p39)\n        local v40 = p37 / p38\n        local v41 = 1 / (60 * p39)\n        return 1 - math.pow(v40, v41)\n    end,\n    [\"NormalizedDefaultExptValueInSeconds\"] = function(p42, p43)\n        return p42:ExptValueInSeconds(0.01, 1, p43)\n    end\n}\nreturn v_u_44"},{"Path":"StarterPlayer.StarterPlayerScripts.BubbleChat","Name":"BubbleChat","ClassName":"LocalScript","Category":"StarterPlayerScripts","FileName":"BubbleChat58.lua","Source":"-- Decompiled with Velocity Script Decompiler\nlocal v_u_1 = game:GetService(\"Players\")\nlocal v2 = game:GetService(\"ReplicatedStorage\")\nlocal v_u_3 = game:GetService(\"Chat\")\nlocal v_u_4 = game:GetService(\"TextService\")\nlocal v_u_5 = v_u_1.LocalPlayer\nwhile v_u_5 == nil do\n    v_u_1.ChildAdded:wait()\n    v_u_5 = v_u_1.LocalPlayer\nend\nlocal v6 = v_u_5:WaitForChild(\"PlayerGui\")\nlocal v7, v8 = pcall(function()\n    return UserSettings():IsUserFeatureEnabled(\"UserShouldLocalizeGameChatBubble\")\nend)\nlocal v_u_9 = v7 and v8\nlocal v10, v11 = pcall(function()\n    return UserSettings():IsUserFeatureEnabled(\"UserFixBubbleChatText\")\nend)\nlocal v_u_12 = v10 and v11\nlocal v13, v14 = pcall(function()\n    return UserSettings():IsUserFeatureEnabled(\"UserRoactBubbleChatBeta\")\nend)\nlocal v_u_15 = v13 and v14\nlocal v16, v17 = pcall(function()\n    return UserSettings():IsUserFeatureEnabled(\"UserPreventOldBubbleChatOverlap\")\nend)\nlocal v_u_18 = v16 and v17\nlocal v_u_19 = Enum.Font.SourceSans\nlocal v_u_20 = Enum.FontSize.Size24\nlocal v_u_21 = 128 - utf8.len(utf8.nfcnormalize(\"...\")) - 1\nlocal v_u_22 = {\n    [\"WHITE\"] = \"dub\",\n    [\"BLUE\"] = \"blu\",\n    [\"GREEN\"] = \"gre\",\n    [\"RED\"] = \"red\"\n}\nlocal v_u_23 = Instance.new(\"ScreenGui\")\nv_u_23.Name = \"BubbleChat\"\nv_u_23.ResetOnSpawn = false\nv_u_23.Parent = v6\nlocal function v_u_29()\n    local v_u_24 = {\n        [\"data\"] = {}\n    }\n    local v_u_25 = Instance.new(\"BindableEvent\")\n    v_u_24.Emptied = v_u_25.Event\n    function v_u_24.Size(_)\n        -- upvalues: (copy) v_u_24\n        return #v_u_24.data\n    end\n    function v_u_24.Empty(_)\n        -- upvalues: (copy) v_u_24\n        return v_u_24:Size() <= 0\n    end\n    function v_u_24.PopFront(_)\n        -- upvalues: (copy) v_u_24, (copy) v_u_25\n        table.remove(v_u_24.data, 1)\n        if v_u_24:Empty() then\n            v_u_25:Fire()\n        end\n    end\n    function v_u_24.Front(_)\n        -- upvalues: (copy) v_u_24\n        return v_u_24.data[1]\n    end\n    function v_u_24.Get(_, p26)\n        -- upvalues: (copy) v_u_24\n        return v_u_24.data[p26]\n    end\n    function v_u_24.PushBack(_, p27)\n        -- upvalues: (copy) v_u_24\n        local v28 = v_u_24.data\n        table.insert(v28, p27)\n    end\n    function v_u_24.GetData(_)\n        -- upvalues: (copy) v_u_24\n        return v_u_24.data\n    end\n    return v_u_24\nend\nlocal function v_u_38(p30, p31, p32)\n    local v37 = {\n        [\"ComputeBubbleLifetime\"] = function(_, p33, p34)\n            if p34 then\n                local v35 = utf8.len(utf8.nfcnormalize(p33)) / 75\n                return 8 + 7 * math.min(v35, 1)\n            else\n                local v36 = utf8.len(utf8.nfcnormalize(p33)) / 75\n                return 12 + 8 * math.min(v36, 1)\n            end\n        end,\n        [\"Origin\"] = nil,\n        [\"RenderBubble\"] = nil,\n        [\"Message\"] = p30\n    }\n    v37.BubbleDieDelay = v37:ComputeBubbleLifetime(p30, p32)\n    v37.BubbleColor = p31\n    v37.IsLocalPlayer = p32\n    return v37\nend\nfunction createChatBubbleMain(p39, p40)\n    local v41 = Instance.new(\"ImageLabel\")\n    v41.Name = \"ChatBubble\"\n    v41.ScaleType = Enum.ScaleType.Slice\n    v41.SliceCenter = p40\n    v41.Image = \"rbxasset://textures/\" .. tostring(p39) .. \".png\"\n    v41.BackgroundTransparency = 1\n    v41.BorderSizePixel = 0\n    v41.Size = UDim2.new(1, 0, 1, 0)\n    v41.Position = UDim2.new(0, 0, 0, 0)\n    return v41\nend\nfunction createChatBubbleTail(p42, p43)\n    local v44 = Instance.new(\"ImageLabel\")\n    v44.Name = \"ChatBubbleTail\"\n    v44.Image = \"rbxasset://textures/ui/dialog_tail.png\"\n    v44.BackgroundTransparency = 1\n    v44.BorderSizePixel = 0\n    v44.Position = p42\n    v44.Size = p43\n    return v44\nend\nfunction createChatBubbleWithTail(p45, p46, p47, p48)\n    local v49 = createChatBubbleMain(p45, p48)\n    createChatBubbleTail(p46, p47).Parent = v49\n    return v49\nend\nfunction createScaledChatBubbleWithTail(p50, p51, p52, p53)\n    local v54 = createChatBubbleMain(p50, p53)\n    local v55 = Instance.new(\"Frame\")\n    v55.Name = \"ChatBubbleTailFrame\"\n    v55.BackgroundTransparency = 1\n    v55.SizeConstraint = Enum.SizeConstraint.RelativeXX\n    v55.Position = UDim2.new(0.5, 0, 1, 0)\n    v55.Size = UDim2.new(p51, 0, p51, 0)\n    v55.Parent = v54\n    createChatBubbleTail(p52, UDim2.new(1, 0, 0.5, 0)).Parent = v55\n    return v54\nend\nfunction createChatImposter(p56, p57, p58)\n    local v59 = Instance.new(\"ImageLabel\")\n    v59.Name = \"DialogPlaceholder\"\n    v59.Image = \"rbxasset://textures/\" .. tostring(p56) .. \".png\"\n    v59.BackgroundTransparency = 1\n    v59.BorderSizePixel = 0\n    v59.Position = UDim2.new(0, 0, -1.25, 0)\n    v59.Size = UDim2.new(1, 0, 1, 0)\n    local v60 = Instance.new(\"ImageLabel\")\n    v60.Name = \"DotDotDot\"\n    v60.Image = \"rbxasset://textures/\" .. tostring(p57) .. \".png\"\n    v60.BackgroundTransparency = 1\n    v60.BorderSizePixel = 0\n    v60.Position = UDim2.new(0.001, 0, p58, 0)\n    v60.Size = UDim2.new(1, 0, 0.7, 0)\n    v60.Parent = v59\n    return v59\nend\nlocal v_u_68 = {\n    [\"ChatBubble\"] = {},\n    [\"ChatBubbleWithTail\"] = {},\n    [\"ScalingChatBubbleWithTail\"] = {},\n    [\"CharacterSortedMsg\"] = (function()\n        -- upvalues: (copy) v_u_29\n        local v_u_61 = {\n            [\"data\"] = {}\n        }\n        local v_u_62 = 0\n        function v_u_61.Size(_)\n            -- upvalues: (ref) v_u_62\n            return v_u_62\n        end\n        function v_u_61.Erase(_, p63)\n            -- upvalues: (copy) v_u_61, (ref) v_u_62\n            if v_u_61.data[p63] then\n                v_u_62 = v_u_62 - 1\n            end\n            v_u_61.data[p63] = nil\n        end\n        function v_u_61.Set(_, p64, p65)\n            -- upvalues: (copy) v_u_61, (ref) v_u_62\n            v_u_61.data[p64] = p65\n            if p65 then\n                v_u_62 = v_u_62 + 1\n            end\n        end\n        function v_u_61.Get(_, p_u_66)\n            -- upvalues: (copy) v_u_61, (ref) v_u_29\n            if p_u_66 then\n                if not v_u_61.data[p_u_66] then\n                    v_u_61.data[p_u_66] = {\n                        [\"Fifo\"] = v_u_29(),\n                        [\"BillboardGui\"] = nil\n                    }\n                    local v_u_67 = nil\n                    v_u_67 = v_u_61.data[p_u_66].Fifo.Emptied:connect(function()\n                        -- upvalues: (ref) v_u_67, (ref) v_u_61, (copy) p_u_66\n                        v_u_67:disconnect()\n                        v_u_61:Erase(p_u_66)\n                    end)\n                end\n                return v_u_61.data[p_u_66]\n            end\n        end\n        function v_u_61.GetData(_)\n            -- upvalues: (copy) v_u_61\n            return v_u_61.data\n        end\n        return v_u_61\n    end)()\n}\nlocal function v73(p69, p70, _, p71, p72)\n    -- upvalues: (copy) v_u_68\n    v_u_68.ChatBubble[p69] = createChatBubbleMain(p70, p72)\n    v_u_68.ChatBubbleWithTail[p69] = createChatBubbleWithTail(p70, UDim2.new(0.5, -14, 1, p71 and -1 or 0), UDim2.new(0, 30, 0, 14), p72)\n    v_u_68.ScalingChatBubbleWithTail[p69] = createScaledChatBubbleWithTail(p70, 0.5, UDim2.new(-0.5, 0, 0, p71 and -1 or 0), p72)\nend\nv73(v_u_22.WHITE, \"ui/dialog_white\", \"ui/chatBubble_white_notify_bkg\", false, Rect.new(5, 5, 15, 15))\nv73(v_u_22.BLUE, \"ui/dialog_blue\", \"ui/chatBubble_blue_notify_bkg\", true, Rect.new(7, 7, 33, 33))\nv73(v_u_22.RED, \"ui/dialog_red\", \"ui/chatBubble_red_notify_bkg\", true, Rect.new(7, 7, 33, 33))\nv73(v_u_22.GREEN, \"ui/dialog_green\", \"ui/chatBubble_green_notify_bkg\", true, Rect.new(7, 7, 33, 33))\nfunction v_u_68.SanitizeChatLine(_, p74)\n    -- upvalues: (copy) v_u_21\n    if v_u_21 >= utf8.len(utf8.nfcnormalize(p74)) then\n        return p74\n    end\n    local v75 = utf8.offset(p74, v_u_21 + utf8.len(utf8.nfcnormalize(\"...\")) + 1) - 1\n    return string.sub(p74, 1, v75)\nend\nlocal function v_u_80(p76)\n    -- upvalues: (copy) v_u_23, (copy) v_u_68, (copy) v_u_22\n    local v_u_77 = Instance.new(\"BillboardGui\")\n    v_u_77.Adornee = p76\n    v_u_77.Size = UDim2.new(0, 400, 0, 250)\n    v_u_77.StudsOffset = Vector3.new(0, 1.5, 2)\n    v_u_77.Parent = v_u_23\n    local v_u_78 = Instance.new(\"Frame\")\n    v_u_78.Name = \"BillboardFrame\"\n    v_u_78.Size = UDim2.new(1, 0, 1, 0)\n    v_u_78.Position = UDim2.new(0, 0, -0.5, 0)\n    v_u_78.BackgroundTransparency = 1\n    v_u_78.Parent = v_u_77\n    local v_u_79 = nil\n    v_u_79 = v_u_78.ChildRemoved:connect(function()\n        -- upvalues: (copy) v_u_78, (ref) v_u_79, (copy) v_u_77\n        if #v_u_78:GetChildren() <= 1 then\n            v_u_79:disconnect()\n            v_u_77:Destroy()\n        end\n    end)\n    v_u_68:CreateSmallTalkBubble(v_u_22.WHITE).Parent = v_u_78\n    return v_u_77\nend\nfunction v_u_68.CreateBillboardGuiHelper(_, p81, p82)\n    -- upvalues: (copy) v_u_68, (copy) v_u_80\n    if p81 and not v_u_68.CharacterSortedMsg:Get(p81).BillboardGui then\n        if not p82 and p81:IsA(\"BasePart\") then\n            local v83 = v_u_80(p81)\n            v_u_68.CharacterSortedMsg:Get(p81).BillboardGui = v83\n            return\n        end\n        if p81:IsA(\"Model\") then\n            local v84 = p81:FindFirstChild(\"Head\")\n            if v84 and v84:IsA(\"BasePart\") then\n                local v85 = v_u_80(v84)\n                v_u_68.CharacterSortedMsg:Get(p81).BillboardGui = v85\n            end\n        end\n    end\nend\nfunction v_u_68.SetBillboardLODNear(_, p86)\n    -- upvalues: (copy) v_u_1\n    local v87 = p86.Adornee\n    local v88\n    if v87 and v_u_1.LocalPlayer.Character then\n        v88 = v87:IsDescendantOf(v_u_1.LocalPlayer.Character)\n    else\n        v88 = nil\n    end\n    p86.Size = UDim2.new(0, 400, 0, 250)\n    p86.StudsOffset = Vector3.new(0, v88 and 1.5 or 2.5, v88 and 2 or 0.1)\n    p86.Enabled = true\n    local v89 = p86.BillboardFrame:GetChildren()\n    for v90 = 1, #v89 do\n        v89[v90].Visible = true\n    end\n    p86.BillboardFrame.SmallTalkBubble.Visible = false\nend\nfunction v_u_68.SetBillboardLODDistant(_, p91)\n    -- upvalues: (copy) v_u_1\n    local v92 = p91.Adornee\n    local v93\n    if v92 and v_u_1.LocalPlayer.Character then\n        v93 = v92:IsDescendantOf(v_u_1.LocalPlayer.Character)\n    else\n        v93 = nil\n    end\n    p91.Size = UDim2.new(4, 0, 3, 0)\n    p91.StudsOffset = Vector3.new(0, 3, v93 and 2 or 0.1)\n    p91.Enabled = true\n    local v94 = p91.BillboardFrame:GetChildren()\n    for v95 = 1, #v94 do\n        v94[v95].Visible = false\n    end\n    p91.BillboardFrame.SmallTalkBubble.Visible = true\nend\nfunction v_u_68.SetBillboardLODVeryFar(_, p96)\n    p96.Enabled = false\nend\nfunction v_u_68.SetBillboardGuiLOD(_, p97, p98)\n    -- upvalues: (copy) v_u_68\n    if p98 then\n        if p98:IsA(\"Model\") then\n            p98 = p98:FindFirstChild(\"Head\") or p98.PrimaryPart\n        end\n        local v99 = not p98 and 100000 or (p98.Position - game.Workspace.CurrentCamera.CoordinateFrame.Position).magnitude\n        if v99 < 65 then\n            v_u_68:SetBillboardLODNear(p97)\n            return\n        elseif v99 >= 65 and v99 < 100 then\n            v_u_68:SetBillboardLODDistant(p97)\n        else\n            v_u_68:SetBillboardLODVeryFar(p97)\n        end\n    else\n        return\n    end\nend\nfunction v_u_68.CameraCFrameChanged(_)\n    -- upvalues: (copy) v_u_68\n    for v100, v101 in pairs(v_u_68.CharacterSortedMsg:GetData()) do\n        local v102 = v101.BillboardGui\n        if v102 then\n            v_u_68:SetBillboardGuiLOD(v102, v100)\n        end\n    end\nend\nfunction v_u_68.CreateBubbleText(_, p103, p104)\n    -- upvalues: (ref) v_u_12, (copy) v_u_19, (copy) v_u_20\n    local v105 = Instance.new(\"TextLabel\")\n    v105.Name = \"BubbleText\"\n    v105.BackgroundTransparency = 1\n    if v_u_12 then\n        v105.Size = UDim2.fromScale(1, 1)\n    else\n        v105.Position = UDim2.new(0, 15, 0, 0)\n        v105.Size = UDim2.new(1, -30, 1, 0)\n    end\n    v105.Font = v_u_19\n    v105.ClipsDescendants = true\n    v105.TextWrapped = true\n    v105.FontSize = v_u_20\n    v105.Text = p103\n    v105.Visible = false\n    v105.AutoLocalize = p104\n    if v_u_12 then\n        local v106 = Instance.new(\"UIPadding\")\n        v106.PaddingTop = UDim.new(0, 12)\n        v106.PaddingRight = UDim.new(0, 12)\n        v106.PaddingBottom = UDim.new(0, 12)\n        v106.PaddingLeft = UDim.new(0, 12)\n        v106.Parent = v105\n    end\n    return v105\nend\nfunction v_u_68.CreateSmallTalkBubble(_, p107)\n    -- upvalues: (copy) v_u_68\n    local v108 = v_u_68.ScalingChatBubbleWithTail[p107]:Clone()\n    v108.Name = \"SmallTalkBubble\"\n    v108.AnchorPoint = Vector2.new(0, 0.5)\n    v108.Position = UDim2.new(0, 0, 0.5, 0)\n    v108.Visible = false\n    local v109 = v_u_68:CreateBubbleText(\"...\")\n    v109.TextScaled = true\n    v109.TextWrapped = false\n    v109.Visible = true\n    v109.Parent = v108\n    return v108\nend\nfunction v_u_68.UpdateChatLinesForOrigin(_, p110, p111)\n    -- upvalues: (copy) v_u_68\n    local v112 = v_u_68.CharacterSortedMsg:Get(p110).Fifo\n    local v113 = v112:Size()\n    local v114 = v112:GetData()\n    if #v114 > 1 then\n        for v115 = #v114 - 1, 1, -1 do\n            local v116 = v114[v115].RenderBubble\n            if not v116 then\n                return\n            end\n            if v113 - v115 + 1 > 1 then\n                local v117 = v116:FindFirstChild(\"ChatBubbleTail\")\n                if v117 then\n                    v117:Destroy()\n                end\n                local v118 = v116:FindFirstChild(\"BubbleText\")\n                if v118 then\n                    v118.TextTransparency = 0.5\n                end\n            end\n            v116:TweenPosition(UDim2.new(v116.Position.X.Scale, v116.Position.X.Offset, 1, p111 - v116.Size.Y.Offset - 14), Enum.EasingDirection.Out, Enum.EasingStyle.Bounce, 0.1, true)\n            p111 = p111 - v116.Size.Y.Offset - 14\n        end\n    end\nend\nfunction v_u_68.DestroyBubble(_, p_u_119, p_u_120)\n    if p_u_119 then\n        if p_u_119:Empty() then\n            return\n        else\n            local v_u_121 = p_u_119:Front().RenderBubble\n            if v_u_121 then\n                spawn(function()\n                    -- upvalues: (copy) p_u_119, (copy) p_u_120, (ref) v_u_121\n                    while p_u_119:Front().RenderBubble ~= p_u_120 do\n                        wait()\n                    end\n                    v_u_121 = p_u_119:Front().RenderBubble\n                    local v122 = v_u_121:FindFirstChild(\"BubbleText\")\n                    local v123 = v_u_121:FindFirstChild(\"ChatBubbleTail\")\n                    while v_u_121 and v_u_121.ImageTransparency < 1 do\n                        local v124 = wait()\n                        if v_u_121 then\n                            local v125 = v124 * 1.5\n                            v_u_121.ImageTransparency = v_u_121.ImageTransparency + v125\n                            if v122 then\n                                v122.TextTransparency = v122.TextTransparency + v125\n                            end\n                            if v123 then\n                                v123.ImageTransparency = v123.ImageTransparency + v125\n                            end\n                        end\n                    end\n                    if v_u_121 then\n                        v_u_121:Destroy()\n                        p_u_119:PopFront()\n                    end\n                end)\n            else\n                p_u_119:PopFront()\n            end\n        end\n    else\n        return\n    end\nend\nfunction v_u_68.CreateChatLineRender(_, p126, p127, p128, p_u_129, p130)\n    -- upvalues: (copy) v_u_68, (copy) v_u_4, (copy) v_u_19, (ref) v_u_12\n    if p126 then\n        if not v_u_68.CharacterSortedMsg:Get(p126).BillboardGui then\n            v_u_68:CreateBillboardGuiHelper(p126, p128)\n        end\n        local v131 = v_u_68.CharacterSortedMsg:Get(p126).BillboardGui\n        if v131 then\n            local v_u_132 = v_u_68.ChatBubbleWithTail[p127.BubbleColor]:Clone()\n            v_u_132.Visible = false\n            local v_u_133 = v_u_68:CreateBubbleText(p127.Message, p130)\n            v_u_133.Parent = v_u_132\n            v_u_132.Parent = v131.BillboardFrame\n            p127.RenderBubble = v_u_132\n            local v134 = v_u_4:GetTextSize(v_u_133.Text, 24, v_u_19, Vector2.new(400, 250))\n            local v135 = v134.Y / 24\n            if v_u_12 then\n                local v136 = v134.X + 24\n                local v137 = math.ceil(v136)\n                local v138 = v135 * 34\n                v_u_132.Size = UDim2.fromOffset(0, 0)\n                v_u_132.Position = UDim2.fromScale(0.5, 1)\n                v_u_132:TweenSizeAndPosition(UDim2.fromOffset(v137, v138), UDim2.new(0.5, -v137 / 2, 1, -v138), Enum.EasingDirection.Out, Enum.EasingStyle.Elastic, 0.1, true, function()\n                    -- upvalues: (copy) v_u_133\n                    v_u_133.Visible = true\n                end)\n                v_u_68:SetBillboardGuiLOD(v131, p127.Origin)\n                v_u_68:UpdateChatLinesForOrigin(p127.Origin, -v138)\n            else\n                local v139 = (v134.X + 30) / 400\n                local v140 = math.max(v139, 0.1)\n                v_u_132.Size = UDim2.new(0, 0, 0, 0)\n                v_u_132.Position = UDim2.new(0.5, 0, 1, 0)\n                local v141 = v135 * 34\n                v_u_132:TweenSizeAndPosition(UDim2.new(v140, 0, 0, v141), UDim2.new((1 - v140) / 2, 0, 1, -v141), Enum.EasingDirection.Out, Enum.EasingStyle.Elastic, 0.1, true, function()\n                    -- upvalues: (copy) v_u_133\n                    v_u_133.Visible = true\n                end)\n                v_u_68:SetBillboardGuiLOD(v131, p127.Origin)\n                v_u_68:UpdateChatLinesForOrigin(p127.Origin, -v141)\n            end\n            delay(p127.BubbleDieDelay, function()\n                -- upvalues: (ref) v_u_68, (copy) p_u_129, (copy) v_u_132\n                v_u_68:DestroyBubble(p_u_129, v_u_132)\n            end)\n        end\n    end\nend\nfunction v_u_68.OnPlayerChatMessage(_, p142, p143, _)\n    -- upvalues: (copy) v_u_68, (copy) v_u_1, (copy) v_u_38, (copy) v_u_22\n    if v_u_68:BubbleChatEnabled() then\n        local v144 = v_u_1.LocalPlayer\n        local v145\n        if v144 == nil then\n            v145 = false\n        else\n            v145 = p142 ~= v144\n        end\n        local v146 = v_u_38(v_u_68:SanitizeChatLine(p143), v_u_22.WHITE, not v145)\n        if p142 then\n            v146.User = p142.Name\n            v146.Origin = p142.Character\n        end\n        if p142 and v146.Origin then\n            local v147 = v_u_68.CharacterSortedMsg:Get(v146.Origin).Fifo\n            v147:PushBack(v146)\n            v_u_68:CreateChatLineRender(p142.Character, v146, true, v147, false)\n        end\n    end\nend\nfunction v_u_68.OnGameChatMessage(_, p148, p149, p150)\n    -- upvalues: (ref) v_u_15, (ref) v_u_18, (copy) v_u_3, (copy) v_u_1, (copy) v_u_22, (copy) v_u_68, (copy) v_u_38, (copy) v_u_9\n    if v_u_15 or v_u_18 and v_u_3.BubbleChatEnabled then\n        return\n    else\n        local v151 = v_u_1.LocalPlayer\n        local v152\n        if v151 == nil then\n            v152 = false\n        else\n            v152 = v151.Character ~= p148\n        end\n        local v153 = v_u_22.WHITE\n        if p150 == Enum.ChatColor.Blue then\n            v153 = v_u_22.BLUE\n        elseif p150 == Enum.ChatColor.Green then\n            v153 = v_u_22.GREEN\n        elseif p150 == Enum.ChatColor.Red then\n            v153 = v_u_22.RED\n        end\n        local v154 = v_u_38(v_u_68:SanitizeChatLine(p149), v153, not v152)\n        v154.Origin = p148\n        v_u_68.CharacterSortedMsg:Get(v154.Origin).Fifo:PushBack(v154)\n        if v_u_9 then\n            v_u_68:CreateChatLineRender(p148, v154, false, v_u_68.CharacterSortedMsg:Get(v154.Origin).Fifo, true)\n        else\n            v_u_68:CreateChatLineRender(p148, v154, false, v_u_68.CharacterSortedMsg:Get(v154.Origin).Fifo, false)\n        end\n    end\nend\nfunction v_u_68.BubbleChatEnabled(_)\n    -- upvalues: (ref) v_u_15, (ref) v_u_18, (copy) v_u_3, (copy) v_u_1\n    if v_u_15 or v_u_18 and v_u_3.BubbleChatEnabled then\n        return false\n    end\n    local v155 = v_u_3:FindFirstChild(\"ClientChatModules\")\n    local v156 = v155 and v155:FindFirstChild(\"ChatSettings\")\n    if v156 then\n        local v157 = require(v156)\n        if v157.BubbleChatEnabled ~= nil then\n            return v157.BubbleChatEnabled\n        end\n    end\n    return v_u_1.BubbleChat\nend\nfunction v_u_68.ShowOwnFilteredMessage(_)\n    -- upvalues: (copy) v_u_3\n    local v158 = v_u_3:FindFirstChild(\"ClientChatModules\")\n    local v159 = v158 and v158:FindFirstChild(\"ChatSettings\")\n    if v159 then\n        return require(v159).ShowUserOwnFilteredMessage\n    else\n        return false\n    end\nend\nfunction findPlayer(p160)\n    -- upvalues: (copy) v_u_1\n    for _, v161 in pairs(v_u_1:GetPlayers()) do\n        if v161.Name == p160 then\n            return v161\n        end\n    end\nend\nv_u_3.Chatted:connect(function(p162, p163, p164)\n    -- upvalues: (copy) v_u_68\n    v_u_68:OnGameChatMessage(p162, p163, p164)\nend)\nlocal v_u_165\nif game.Workspace.CurrentCamera then\n    v_u_165 = game.Workspace.CurrentCamera:GetPropertyChangedSignal(\"CFrame\"):Connect(function(_)\n        -- upvalues: (copy) v_u_68\n        v_u_68:CameraCFrameChanged()\n    end)\nelse\n    v_u_165 = nil\nend\ngame.Workspace.Changed:Connect(function(p166)\n    -- upvalues: (ref) v_u_165, (copy) v_u_68\n    if p166 == \"CurrentCamera\" then\n        if v_u_165 then\n            v_u_165:disconnect()\n        end\n        if game.Workspace.CurrentCamera then\n            v_u_165 = game.Workspace.CurrentCamera:GetPropertyChangedSignal(\"CFrame\"):Connect(function(_)\n                -- upvalues: (ref) v_u_68\n                v_u_68:CameraCFrameChanged()\n            end)\n        end\n    end\nend)\nlocal v_u_167 = nil\nfunction getAllowedMessageTypes()\n    -- upvalues: (ref) v_u_167, (copy) v_u_3\n    if v_u_167 then\n        return v_u_167\n    end\n    local v168 = v_u_3:FindFirstChild(\"ClientChatModules\")\n    if not v168 then\n        return { \"Message\", \"Whisper\" }\n    end\n    local v169 = v168:FindFirstChild(\"ChatSettings\")\n    if v169 then\n        local v170 = require(v169)\n        if v170.BubbleChatMessageTypes then\n            v_u_167 = v170.BubbleChatMessageTypes\n            return v_u_167\n        end\n    end\n    local v171 = v168:FindFirstChild(\"ChatConstants\")\n    if v171 then\n        local v172 = require(v171)\n        v_u_167 = { v172.MessageTypeDefault, v172.MessageTypeWhisper }\n    end\n    return v_u_167\nend\nfunction checkAllowedMessageType(p173)\n    local v174 = getAllowedMessageTypes()\n    for v175 = 1, #v174 do\n        if v174[v175] == p173.MessageType then\n            return true\n        end\n    end\n    return false\nend\nlocal v176 = v2:WaitForChild(\"DefaultChatSystemChatEvents\")\nlocal v177 = v176:WaitForChild(\"OnMessageDoneFiltering\")\nv176:WaitForChild(\"OnNewMessage\").OnClientEvent:connect(function(p178, _)\n    -- upvalues: (ref) v_u_5, (copy) v_u_68\n    if checkAllowedMessageType(p178) then\n        local v179 = findPlayer(p178.FromSpeaker)\n        if v179 then\n            if p178.IsFiltered and p178.FromSpeaker ~= v_u_5.Name or p178.FromSpeaker == v_u_5.Name and not v_u_68:ShowOwnFilteredMessage() then\n                v_u_68:OnPlayerChatMessage(v179, p178.Message, nil)\n            end\n        else\n            return\n        end\n    else\n        return\n    end\nend)\nv177.OnClientEvent:connect(function(p180, _)\n    -- upvalues: (ref) v_u_5, (copy) v_u_68\n    if checkAllowedMessageType(p180) then\n        local v181 = findPlayer(p180.FromSpeaker)\n        if v181 then\n            if p180.FromSpeaker ~= v_u_5.Name or v_u_68:ShowOwnFilteredMessage() then\n                v_u_68:OnPlayerChatMessage(v181, p180.Message, nil)\n            end\n        else\n            return\n        end\n    else\n        return\n    end\nend)"},{"Path":"Workspace.rtghfghfdegew345235.Health","Name":"Health","ClassName":"Script","Failed":true,"Category":"Workspace","FileName":"Health_failed.lua","Source":"-- Failed to decompile: Unknown Bytecode"},{"Path":"Workspace.rtghfghfdegew345235.Animate","Name":"Animate","ClassName":"LocalScript","Category":"Workspace","FileName":"Animate59.lua","Source":"-- Decompiled with Velocity Script Decompiler\nlocal v_u_1 = script.Parent\nlocal v_u_2 = v_u_1:WaitForChild(\"Humanoid\")\nlocal v_u_3 = \"Standing\"\nlocal v4, v5 = pcall(function()\n    return UserSettings():IsUserFeatureEnabled(\"UserNoUpdateOnLoop\")\nend)\nlocal v_u_6 = v4 and v5\nlocal v7, v8 = pcall(function()\n    return UserSettings():IsUserFeatureEnabled(\"UserAnimateScaleRun\")\nend)\nlocal v_u_9 = v7 and v8\nlocal function v_u_10()\n    -- upvalues: (copy) v_u_9, (copy) v_u_1\n    return not v_u_9 and 1 or v_u_1:GetScale()\nend\nlocal v_u_11 = script:FindFirstChild(\"ScaleDampeningPercent\")\nlocal v_u_12 = \"\"\nlocal v_u_13 = nil\nlocal v_u_14 = nil\nlocal v_u_15 = nil\nlocal v_u_16 = 1\nlocal v_u_17 = nil\nlocal v_u_18 = nil\nlocal v_u_19 = {}\nlocal v_u_20 = {}\nlocal v_u_21 = {\n    [\"idle\"] = {\n        {\n            [\"id\"] = \"http://www.roblox.com/asset/?id=507766666\",\n            [\"weight\"] = 1\n        },\n        {\n            [\"id\"] = \"http://www.roblox.com/asset/?id=507766951\",\n            [\"weight\"] = 1\n        },\n        {\n            [\"id\"] = \"http://www.roblox.com/asset/?id=507766388\",\n            [\"weight\"] = 9\n        }\n    },\n    [\"walk\"] = {\n        {\n            [\"id\"] = \"http://www.roblox.com/asset/?id=507777826\",\n            [\"weight\"] = 10\n        }\n    },\n    [\"run\"] = {\n        {\n            [\"id\"] = \"http://www.roblox.com/asset/?id=507767714\",\n            [\"weight\"] = 10\n        }\n    },\n    [\"swim\"] = {\n        {\n            [\"id\"] = \"http://www.roblox.com/asset/?id=507784897\",\n            [\"weight\"] = 10\n        }\n    },\n    [\"swimidle\"] = {\n        {\n            [\"id\"] = \"http://www.roblox.com/asset/?id=507785072\",\n            [\"weight\"] = 10\n        }\n    },\n    [\"jump\"] = {\n        {\n            [\"id\"] = \"http://www.roblox.com/asset/?id=507765000\",\n            [\"weight\"] = 10\n        }\n    },\n    [\"fall\"] = {\n        {\n            [\"id\"] = \"http://www.roblox.com/asset/?id=507767968\",\n            [\"weight\"] = 10\n        }\n    },\n    [\"climb\"] = {\n        {\n            [\"id\"] = \"http://www.roblox.com/asset/?id=507765644\",\n            [\"weight\"] = 10\n        }\n    },\n    [\"sit\"] = {\n        {\n            [\"id\"] = \"http://www.roblox.com/asset/?id=2506281703\",\n            [\"weight\"] = 10\n        }\n    },\n    [\"toolnone\"] = {\n        {\n            [\"id\"] = \"http://www.roblox.com/asset/?id=507768375\",\n            [\"weight\"] = 10\n        }\n    },\n    [\"toolslash\"] = {\n        {\n            [\"id\"] = \"http://www.roblox.com/asset/?id=522635514\",\n            [\"weight\"] = 10\n        }\n    },\n    [\"toollunge\"] = {\n        {\n            [\"id\"] = \"http://www.roblox.com/asset/?id=522638767\",\n            [\"weight\"] = 10\n        }\n    },\n    [\"wave\"] = {\n        {\n            [\"id\"] = \"http://www.roblox.com/asset/?id=507770239\",\n            [\"weight\"] = 10\n        }\n    },\n    [\"point\"] = {\n        {\n            [\"id\"] = \"http://www.roblox.com/asset/?id=507770453\",\n            [\"weight\"] = 10\n        }\n    },\n    [\"dance\"] = {\n        {\n            [\"id\"] = \"http://www.roblox.com/asset/?id=507771019\",\n            [\"weight\"] = 10\n        },\n        {\n            [\"id\"] = \"http://www.roblox.com/asset/?id=507771955\",\n            [\"weight\"] = 10\n        },\n        {\n            [\"id\"] = \"http://www.roblox.com/asset/?id=507772104\",\n            [\"weight\"] = 10\n        }\n    },\n    [\"dance2\"] = {\n        {\n            [\"id\"] = \"http://www.roblox.com/asset/?id=507776043\",\n            [\"weight\"] = 10\n        },\n        {\n            [\"id\"] = \"http://www.roblox.com/asset/?id=507776720\",\n            [\"weight\"] = 10\n        },\n        {\n            [\"id\"] = \"http://www.roblox.com/asset/?id=507776879\",\n            [\"weight\"] = 10\n        }\n    },\n    [\"dance3\"] = {\n        {\n            [\"id\"] = \"http://www.roblox.com/asset/?id=507777268\",\n            [\"weight\"] = 10\n        },\n        {\n            [\"id\"] = \"http://www.roblox.com/asset/?id=507777451\",\n            [\"weight\"] = 10\n        },\n        {\n            [\"id\"] = \"http://www.roblox.com/asset/?id=507777623\",\n            [\"weight\"] = 10\n        }\n    },\n    [\"laugh\"] = {\n        {\n            [\"id\"] = \"http://www.roblox.com/asset/?id=507770818\",\n            [\"weight\"] = 10\n        }\n    },\n    [\"cheer\"] = {\n        {\n            [\"id\"] = \"http://www.roblox.com/asset/?id=507770677\",\n            [\"weight\"] = 10\n        }\n    }\n}\nlocal v_u_22 = {\n    [\"wave\"] = false,\n    [\"point\"] = false,\n    [\"dance\"] = true,\n    [\"dance2\"] = true,\n    [\"dance3\"] = true,\n    [\"laugh\"] = false,\n    [\"cheer\"] = false\n}\nmath.randomseed(tick())\nfunction findExistingAnimationInSet(p23, p24)\n    if p23 == nil or p24 == nil then\n        return 0\n    end\n    for v25 = 1, p23.count do\n        if p23[v25].anim.AnimationId == p24.AnimationId then\n            return v25\n        end\n    end\n    return 0\nend\nfunction configureAnimationSet(p_u_26, p_u_27)\n    -- upvalues: (copy) v_u_20, (copy) v_u_19, (copy) v_u_2\n    if v_u_20[p_u_26] ~= nil then\n        for _, v28 in pairs(v_u_20[p_u_26].connections) do\n            v28:disconnect()\n        end\n    end\n    v_u_20[p_u_26] = {}\n    v_u_20[p_u_26].count = 0\n    v_u_20[p_u_26].totalWeight = 0\n    v_u_20[p_u_26].connections = {}\n    local v_u_29 = true\n    local v30, _ = pcall(function()\n        -- upvalues: (ref) v_u_29\n        v_u_29 = game:GetService(\"StarterPlayer\").AllowCustomAnimations\n    end)\n    v_u_29 = not v30 and true or v_u_29\n    local v31 = script:FindFirstChild(p_u_26)\n    if v_u_29 and v31 ~= nil then\n        local v32 = v_u_20[p_u_26].connections\n        local v33 = v31.ChildAdded\n        table.insert(v32, v33:connect(function(_)\n            -- upvalues: (copy) p_u_26, (copy) p_u_27\n            configureAnimationSet(p_u_26, p_u_27)\n        end))\n        local v34 = v_u_20[p_u_26].connections\n        local v35 = v31.ChildRemoved\n        table.insert(v34, v35:connect(function(_)\n            -- upvalues: (copy) p_u_26, (copy) p_u_27\n            configureAnimationSet(p_u_26, p_u_27)\n        end))\n        for _, v36 in pairs(v31:GetChildren()) do\n            if v36:IsA(\"Animation\") then\n                local v37 = v36:FindFirstChild(\"Weight\")\n                local v38 = v37 == nil and 1 or v37.Value\n                v_u_20[p_u_26].count = v_u_20[p_u_26].count + 1\n                local v39 = v_u_20[p_u_26].count\n                v_u_20[p_u_26][v39] = {}\n                v_u_20[p_u_26][v39].anim = v36\n                v_u_20[p_u_26][v39].weight = v38\n                v_u_20[p_u_26].totalWeight = v_u_20[p_u_26].totalWeight + v_u_20[p_u_26][v39].weight\n                local v40 = v_u_20[p_u_26].connections\n                local v41 = v36.Changed\n                table.insert(v40, v41:connect(function(_)\n                    -- upvalues: (copy) p_u_26, (copy) p_u_27\n                    configureAnimationSet(p_u_26, p_u_27)\n                end))\n                local v42 = v_u_20[p_u_26].connections\n                local v43 = v36.ChildAdded\n                table.insert(v42, v43:connect(function(_)\n                    -- upvalues: (copy) p_u_26, (copy) p_u_27\n                    configureAnimationSet(p_u_26, p_u_27)\n                end))\n                local v44 = v_u_20[p_u_26].connections\n                local v45 = v36.ChildRemoved\n                table.insert(v44, v45:connect(function(_)\n                    -- upvalues: (copy) p_u_26, (copy) p_u_27\n                    configureAnimationSet(p_u_26, p_u_27)\n                end))\n            end\n        end\n    end\n    if v_u_20[p_u_26].count <= 0 then\n        for v46, v47 in pairs(p_u_27) do\n            v_u_20[p_u_26][v46] = {}\n            v_u_20[p_u_26][v46].anim = Instance.new(\"Animation\")\n            v_u_20[p_u_26][v46].anim.Name = p_u_26\n            v_u_20[p_u_26][v46].anim.AnimationId = v47.id\n            v_u_20[p_u_26][v46].weight = v47.weight\n            v_u_20[p_u_26].count = v_u_20[p_u_26].count + 1\n            v_u_20[p_u_26].totalWeight = v_u_20[p_u_26].totalWeight + v47.weight\n        end\n    end\n    for _, v48 in pairs(v_u_20) do\n        for v49 = 1, v48.count do\n            if v_u_19[v48[v49].anim.AnimationId] == nil then\n                v_u_2:LoadAnimation(v48[v49].anim)\n                v_u_19[v48[v49].anim.AnimationId] = true\n            end\n        end\n    end\nend\nfunction configureAnimationSetOld(p_u_50, p_u_51)\n    -- upvalues: (copy) v_u_20, (copy) v_u_2\n    if v_u_20[p_u_50] ~= nil then\n        for _, v52 in pairs(v_u_20[p_u_50].connections) do\n            v52:disconnect()\n        end\n    end\n    v_u_20[p_u_50] = {}\n    v_u_20[p_u_50].count = 0\n    v_u_20[p_u_50].totalWeight = 0\n    v_u_20[p_u_50].connections = {}\n    local v_u_53 = true\n    local v54, _ = pcall(function()\n        -- upvalues: (ref) v_u_53\n        v_u_53 = game:GetService(\"StarterPlayer\").AllowCustomAnimations\n    end)\n    v_u_53 = not v54 and true or v_u_53\n    local v55 = script:FindFirstChild(p_u_50)\n    if v_u_53 and v55 ~= nil then\n        local v56 = v_u_20[p_u_50].connections\n        local v57 = v55.ChildAdded\n        table.insert(v56, v57:connect(function(_)\n            -- upvalues: (copy) p_u_50, (copy) p_u_51\n            configureAnimationSet(p_u_50, p_u_51)\n        end))\n        local v58 = v_u_20[p_u_50].connections\n        local v59 = v55.ChildRemoved\n        table.insert(v58, v59:connect(function(_)\n            -- upvalues: (copy) p_u_50, (copy) p_u_51\n            configureAnimationSet(p_u_50, p_u_51)\n        end))\n        local v60 = 1\n        for _, v61 in pairs(v55:GetChildren()) do\n            if v61:IsA(\"Animation\") then\n                local v62 = v_u_20[p_u_50].connections\n                local v63 = v61.Changed\n                table.insert(v62, v63:connect(function(_)\n                    -- upvalues: (copy) p_u_50, (copy) p_u_51\n                    configureAnimationSet(p_u_50, p_u_51)\n                end))\n                v_u_20[p_u_50][v60] = {}\n                v_u_20[p_u_50][v60].anim = v61\n                local v64 = v61:FindFirstChild(\"Weight\")\n                if v64 == nil then\n                    v_u_20[p_u_50][v60].weight = 1\n                else\n                    v_u_20[p_u_50][v60].weight = v64.Value\n                end\n                v_u_20[p_u_50].count = v_u_20[p_u_50].count + 1\n                v_u_20[p_u_50].totalWeight = v_u_20[p_u_50].totalWeight + v_u_20[p_u_50][v60].weight\n                v60 = v60 + 1\n            end\n        end\n    end\n    if v_u_20[p_u_50].count <= 0 then\n        for v65, v66 in pairs(p_u_51) do\n            v_u_20[p_u_50][v65] = {}\n            v_u_20[p_u_50][v65].anim = Instance.new(\"Animation\")\n            v_u_20[p_u_50][v65].anim.Name = p_u_50\n            v_u_20[p_u_50][v65].anim.AnimationId = v66.id\n            v_u_20[p_u_50][v65].weight = v66.weight\n            v_u_20[p_u_50].count = v_u_20[p_u_50].count + 1\n            v_u_20[p_u_50].totalWeight = v_u_20[p_u_50].totalWeight + v66.weight\n        end\n    end\n    for _, v67 in pairs(v_u_20) do\n        for v68 = 1, v67.count do\n            v_u_2:LoadAnimation(v67[v68].anim)\n        end\n    end\nend\nfunction scriptChildModified(p69)\n    -- upvalues: (copy) v_u_21\n    local v70 = v_u_21[p69.Name]\n    if v70 ~= nil then\n        configureAnimationSet(p69.Name, v70)\n    end\nend\nscript.ChildAdded:connect(scriptChildModified)\nscript.ChildRemoved:connect(scriptChildModified)\nlocal v71\nif v_u_2 then\n    v71 = v_u_2:FindFirstChildOfClass(\"Animator\")\nelse\n    v71 = nil\nend\nif v71 then\n    local v72 = v71:GetPlayingAnimationTracks()\n    for _, v73 in ipairs(v72) do\n        v73:Stop(0)\n        v73:Destroy()\n    end\nend\nfor v74, v75 in pairs(v_u_21) do\n    configureAnimationSet(v74, v75)\nend\nlocal v_u_76 = \"None\"\nlocal v_u_77 = 0\nlocal v_u_78 = 0\nlocal v_u_79 = false\nfunction stopAllAnimations()\n    -- upvalues: (ref) v_u_12, (copy) v_u_22, (ref) v_u_79, (ref) v_u_13, (ref) v_u_15, (ref) v_u_14, (ref) v_u_18, (ref) v_u_17\n    local v80 = v_u_12\n    local v81 = v_u_22[v80] ~= nil and v_u_22[v80] == false and \"idle\" or v80\n    if v_u_79 then\n        v81 = \"idle\"\n        v_u_79 = false\n    end\n    v_u_12 = \"\"\n    v_u_13 = nil\n    if v_u_15 ~= nil then\n        v_u_15:disconnect()\n    end\n    if v_u_14 ~= nil then\n        v_u_14:Stop()\n        v_u_14:Destroy()\n        v_u_14 = nil\n    end\n    if v_u_18 ~= nil then\n        v_u_18:disconnect()\n    end\n    if v_u_17 ~= nil then\n        v_u_17:Stop()\n        v_u_17:Destroy()\n        v_u_17 = nil\n    end\n    return v81\nend\nfunction getHeightScale()\n    -- upvalues: (copy) v_u_2, (copy) v_u_10, (ref) v_u_11\n    if not v_u_2 then\n        return v_u_10()\n    end\n    if not v_u_2.AutomaticScalingEnabled then\n        return v_u_10()\n    end\n    local v82 = v_u_2.HipHeight / 2\n    if v_u_11 == nil then\n        v_u_11 = script:FindFirstChild(\"ScaleDampeningPercent\")\n    end\n    if v_u_11 ~= nil then\n        v82 = 1 + (v_u_2.HipHeight - 2) * v_u_11.Value / 2\n    end\n    return v82\nend\nlocal function v_u_88(p83)\n    -- upvalues: (ref) v_u_14, (ref) v_u_17\n    local v84 = p83 * 1.25 / getHeightScale()\n    local v85 = 0.0001\n    local v86 = 0.0001\n    local v87 = 1\n    if v84 <= 0.5 then\n        v87 = v84 / 0.5\n        v85 = 1\n    elseif v84 < 1 then\n        v86 = (v84 - 0.5) / 0.5\n        v85 = 1 - v86\n    else\n        v87 = v84 / 1\n        v86 = 1\n    end\n    v_u_14:AdjustWeight(v85)\n    v_u_17:AdjustWeight(v86)\n    v_u_14:AdjustSpeed(v87)\n    v_u_17:AdjustSpeed(v87)\nend\nfunction setAnimationSpeed(p89)\n    -- upvalues: (ref) v_u_12, (copy) v_u_88, (ref) v_u_16, (ref) v_u_14\n    if v_u_12 == \"walk\" then\n        v_u_88(p89)\n    elseif p89 ~= v_u_16 then\n        v_u_16 = p89\n        v_u_14:AdjustSpeed(v_u_16)\n    end\nend\nfunction keyFrameReachedFunc(p90)\n    -- upvalues: (ref) v_u_12, (copy) v_u_6, (ref) v_u_17, (ref) v_u_14, (copy) v_u_22, (ref) v_u_79, (ref) v_u_16, (copy) v_u_2\n    if p90 == \"End\" then\n        if v_u_12 == \"walk\" then\n            if v_u_6 ~= true then\n                v_u_17.TimePosition = 0\n                v_u_14.TimePosition = 0\n                return\n            end\n            if v_u_17.Looped ~= true then\n                v_u_17.TimePosition = 0\n            end\n            if v_u_14.Looped ~= true then\n                v_u_14.TimePosition = 0\n                return\n            end\n        else\n            local v91 = v_u_12\n            local v92 = v_u_22[v91] ~= nil and v_u_22[v91] == false and \"idle\" or v91\n            if v_u_79 then\n                if v_u_14.Looped then\n                    return\n                end\n                v92 = \"idle\"\n                v_u_79 = false\n            end\n            local v93 = v_u_16\n            playAnimation(v92, 0.15, v_u_2)\n            setAnimationSpeed(v93)\n        end\n    end\nend\nfunction rollAnimation(p94)\n    -- upvalues: (copy) v_u_20\n    local v95 = math.random(1, v_u_20[p94].totalWeight)\n    local v96 = 1\n    while v_u_20[p94][v96].weight < v95 do\n        v95 = v95 - v_u_20[p94][v96].weight\n        v96 = v96 + 1\n    end\n    return v96\nend\nlocal function v_u_102(p97, p98, p99, p100)\n    -- upvalues: (ref) v_u_13, (ref) v_u_14, (ref) v_u_17, (copy) v_u_6, (ref) v_u_16, (ref) v_u_12, (ref) v_u_15, (copy) v_u_20, (ref) v_u_18\n    if p97 ~= v_u_13 then\n        if v_u_14 ~= nil then\n            v_u_14:Stop(p99)\n            v_u_14:Destroy()\n        end\n        if v_u_17 ~= nil then\n            v_u_17:Stop(p99)\n            v_u_17:Destroy()\n            if v_u_6 == true then\n                v_u_17 = nil\n            end\n        end\n        v_u_16 = 1\n        v_u_14 = p100:LoadAnimation(p97)\n        v_u_14.Priority = Enum.AnimationPriority.Core\n        v_u_14:Play(p99)\n        v_u_12 = p98\n        v_u_13 = p97\n        if v_u_15 ~= nil then\n            v_u_15:disconnect()\n        end\n        v_u_15 = v_u_14.KeyframeReached:connect(keyFrameReachedFunc)\n        if p98 == \"walk\" then\n            local v101 = rollAnimation(\"run\")\n            v_u_17 = p100:LoadAnimation(v_u_20.run[v101].anim)\n            v_u_17.Priority = Enum.AnimationPriority.Core\n            v_u_17:Play(p99)\n            if v_u_18 ~= nil then\n                v_u_18:disconnect()\n            end\n            v_u_18 = v_u_17.KeyframeReached:connect(keyFrameReachedFunc)\n        end\n    end\nend\nfunction playAnimation(p103, p104, p105)\n    -- upvalues: (copy) v_u_20, (copy) v_u_102, (ref) v_u_79\n    local v106 = rollAnimation(p103)\n    v_u_102(v_u_20[p103][v106].anim, p103, p104, p105)\n    v_u_79 = false\nend\nfunction playEmote(p107, p108, p109)\n    -- upvalues: (copy) v_u_102, (ref) v_u_79\n    v_u_102(p107, p107.Name, p108, p109)\n    v_u_79 = true\nend\nlocal v_u_110 = \"\"\nlocal v_u_111 = nil\nlocal v_u_112 = nil\nlocal v_u_113 = nil\nfunction toolKeyFrameReachedFunc(p114)\n    -- upvalues: (ref) v_u_110, (copy) v_u_2\n    if p114 == \"End\" then\n        playToolAnimation(v_u_110, 0, v_u_2)\n    end\nend\nfunction playToolAnimation(p115, p116, p117, p118)\n    -- upvalues: (copy) v_u_20, (ref) v_u_112, (ref) v_u_111, (ref) v_u_110, (ref) v_u_113\n    local v119 = rollAnimation(p115)\n    local v120 = v_u_20[p115][v119].anim\n    if v_u_112 ~= v120 then\n        if v_u_111 ~= nil then\n            v_u_111:Stop()\n            v_u_111:Destroy()\n            p116 = 0\n        end\n        v_u_111 = p117:LoadAnimation(v120)\n        if p118 then\n            v_u_111.Priority = p118\n        end\n        v_u_111:Play(p116)\n        v_u_110 = p115\n        v_u_112 = v120\n        v_u_113 = v_u_111.KeyframeReached:connect(toolKeyFrameReachedFunc)\n    end\nend\nfunction stopToolAnimations()\n    -- upvalues: (ref) v_u_110, (ref) v_u_113, (ref) v_u_112, (ref) v_u_111\n    local v121 = v_u_110\n    if v_u_113 ~= nil then\n        v_u_113:disconnect()\n    end\n    v_u_110 = \"\"\n    v_u_112 = nil\n    if v_u_111 ~= nil then\n        v_u_111:Stop()\n        v_u_111:Destroy()\n        v_u_111 = nil\n    end\n    return v121\nend\nfunction onRunning(p122)\n    -- upvalues: (copy) v_u_9, (ref) v_u_79, (copy) v_u_2, (ref) v_u_3, (copy) v_u_22, (ref) v_u_12\n    local v123 = not v_u_9 and 1 or getHeightScale()\n    local v124 = v_u_79\n    if v124 then\n        v124 = v_u_2.MoveDirection == Vector3.new(0, 0, 0)\n    end\n    if (v124 and (v_u_2.WalkSpeed / v123 or 0.75) or 0.75) * v123 < p122 then\n        playAnimation(\"walk\", 0.2, v_u_2)\n        setAnimationSpeed(p122 / 16)\n        v_u_3 = \"Running\"\n    elseif v_u_22[v_u_12] == nil and not v_u_79 then\n        playAnimation(\"idle\", 0.2, v_u_2)\n        v_u_3 = \"Standing\"\n    end\nend\nfunction onDied()\n    -- upvalues: (ref) v_u_3\n    v_u_3 = \"Dead\"\nend\nfunction onJumping()\n    -- upvalues: (copy) v_u_2, (ref) v_u_78, (ref) v_u_3\n    playAnimation(\"jump\", 0.1, v_u_2)\n    v_u_78 = 0.31\n    v_u_3 = \"Jumping\"\nend\nfunction onClimbing(p125)\n    -- upvalues: (copy) v_u_9, (copy) v_u_2, (ref) v_u_3\n    if v_u_9 then\n        p125 = p125 / getHeightScale()\n    end\n    playAnimation(\"climb\", 0.1, v_u_2)\n    setAnimationSpeed(p125 / 5)\n    v_u_3 = \"Climbing\"\nend\nfunction onGettingUp()\n    -- upvalues: (ref) v_u_3\n    v_u_3 = \"GettingUp\"\nend\nfunction onFreeFall()\n    -- upvalues: (ref) v_u_78, (copy) v_u_2, (ref) v_u_3\n    if v_u_78 <= 0 then\n        playAnimation(\"fall\", 0.2, v_u_2)\n    end\n    v_u_3 = \"FreeFall\"\nend\nfunction onFallingDown()\n    -- upvalues: (ref) v_u_3\n    v_u_3 = \"FallingDown\"\nend\nfunction onSeated()\n    -- upvalues: (ref) v_u_3\n    v_u_3 = \"Seated\"\nend\nfunction onPlatformStanding()\n    -- upvalues: (ref) v_u_3\n    v_u_3 = \"PlatformStanding\"\nend\nfunction onSwimming(p126)\n    -- upvalues: (copy) v_u_9, (copy) v_u_2, (ref) v_u_3\n    if v_u_9 then\n        p126 = p126 / getHeightScale()\n    end\n    if p126 > 1 then\n        playAnimation(\"swim\", 0.4, v_u_2)\n        setAnimationSpeed(p126 / 10)\n        v_u_3 = \"Swimming\"\n    else\n        playAnimation(\"swimidle\", 0.4, v_u_2)\n        v_u_3 = \"Standing\"\n    end\nend\nfunction animateTool()\n    -- upvalues: (ref) v_u_76, (copy) v_u_2\n    if v_u_76 == \"None\" then\n        playToolAnimation(\"toolnone\", 0.1, v_u_2, Enum.AnimationPriority.Idle)\n        return\n    elseif v_u_76 == \"Slash\" then\n        playToolAnimation(\"toolslash\", 0, v_u_2, Enum.AnimationPriority.Action)\n        return\n    elseif v_u_76 == \"Lunge\" then\n        playToolAnimation(\"toollunge\", 0, v_u_2, Enum.AnimationPriority.Action)\n    end\nend\nfunction getToolAnim(p127)\n    for _, v128 in ipairs(p127:GetChildren()) do\n        if v128.Name == \"toolanim\" and v128.className == \"StringValue\" then\n            return v128\n        end\n    end\n    return nil\nend\nlocal v_u_129 = 0\nfunction stepAnimate(p130)\n    -- upvalues: (ref) v_u_129, (ref) v_u_78, (ref) v_u_3, (copy) v_u_2, (copy) v_u_1, (ref) v_u_76, (ref) v_u_77, (ref) v_u_112\n    local v131 = p130 - v_u_129\n    v_u_129 = p130\n    if v_u_78 > 0 then\n        v_u_78 = v_u_78 - v131\n    end\n    if v_u_3 == \"FreeFall\" and v_u_78 <= 0 then\n        playAnimation(\"fall\", 0.2, v_u_2)\n    else\n        if v_u_3 == \"Seated\" then\n            playAnimation(\"sit\", 0.5, v_u_2)\n            return\n        end\n        if v_u_3 == \"Running\" then\n            playAnimation(\"walk\", 0.2, v_u_2)\n        elseif v_u_3 == \"Dead\" or (v_u_3 == \"GettingUp\" or (v_u_3 == \"FallingDown\" or (v_u_3 == \"Seated\" or v_u_3 == \"PlatformStanding\"))) then\n            stopAllAnimations()\n        end\n    end\n    local v132 = v_u_1:FindFirstChildOfClass(\"Tool\")\n    if v132 and v132:FindFirstChild(\"Handle\") then\n        local v133 = getToolAnim(v132)\n        if v133 then\n            v_u_76 = v133.Value\n            v133.Parent = nil\n            v_u_77 = p130 + 0.3\n        end\n        if v_u_77 < p130 then\n            v_u_77 = 0\n            v_u_76 = \"None\"\n        end\n        animateTool()\n    else\n        stopToolAnimations()\n        v_u_76 = \"None\"\n        v_u_112 = nil\n        v_u_77 = 0\n    end\nend\nv_u_2.Died:connect(onDied)\nv_u_2.Running:connect(onRunning)\nv_u_2.Jumping:connect(onJumping)\nv_u_2.Climbing:connect(onClimbing)\nv_u_2.GettingUp:connect(onGettingUp)\nv_u_2.FreeFalling:connect(onFreeFall)\nv_u_2.FallingDown:connect(onFallingDown)\nv_u_2.Seated:connect(onSeated)\nv_u_2.PlatformStanding:connect(onPlatformStanding)\nv_u_2.Swimming:connect(onSwimming)\ngame:GetService(\"Players\").LocalPlayer.Chatted:connect(function(p134)\n    -- upvalues: (ref) v_u_3, (copy) v_u_22, (copy) v_u_2\n    local v135 = \"\"\n    if string.sub(p134, 1, 3) == \"/e \" then\n        v135 = string.sub(p134, 4)\n    elseif string.sub(p134, 1, 7) == \"/emote \" then\n        v135 = string.sub(p134, 8)\n    end\n    if v_u_3 == \"Standing\" and v_u_22[v135] ~= nil then\n        playAnimation(v135, 0.1, v_u_2)\n    end\nend)\nscript:WaitForChild(\"PlayEmote\").OnInvoke = function(p136)\n    -- upvalues: (ref) v_u_3, (copy) v_u_22, (copy) v_u_2, (ref) v_u_14\n    if v_u_3 == \"Standing\" then\n        if v_u_22[p136] ~= nil then\n            playAnimation(p136, 0.1, v_u_2)\n            return true, v_u_14\n        end\n        if typeof(p136) ~= \"Instance\" or not p136:IsA(\"Animation\") then\n            return false\n        end\n        playEmote(p136, 0.1, v_u_2)\n        return true, v_u_14\n    end\nend\nif v_u_1.Parent ~= nil then\n    playAnimation(\"idle\", 0.1, v_u_2)\n    local _ = \"Standing\"\nend\nwhile v_u_1.Parent ~= nil do\n    local _, v137 = wait(0.1)\n    stepAnimate(v137)\nend"},{"Path":"Workspace.sn1p3zzzz.Health","Name":"Health","ClassName":"Script","Failed":true,"Category":"Workspace","FileName":"Health_failed.lua","Source":"-- Failed to decompile: Unknown Bytecode"},{"Path":"Workspace.sn1p3zzzz.Animate","Name":"Animate","ClassName":"LocalScript","Category":"Workspace","FileName":"Animate60.lua","Source":"-- Decompiled with Velocity Script Decompiler\nlocal v_u_1 = script.Parent\nlocal v2 = v_u_1:WaitForChild(\"Torso\")\nlocal v_u_3 = v2:WaitForChild(\"Right Shoulder\")\nlocal v_u_4 = v2:WaitForChild(\"Left Shoulder\")\nlocal v_u_5 = v2:WaitForChild(\"Right Hip\")\nlocal v_u_6 = v2:WaitForChild(\"Left Hip\")\nv2:WaitForChild(\"Neck\")\nlocal v_u_7 = v_u_1:WaitForChild(\"Humanoid\")\nlocal v_u_8 = \"Standing\"\nlocal v9, v10 = pcall(function()\n    return UserSettings():IsUserFeatureEnabled(\"UserAnimateScaleRun\")\nend)\nlocal v_u_11 = v9 and v10\nlocal v_u_12 = \"\"\nlocal v_u_13 = nil\nlocal v_u_14 = nil\nlocal v_u_15 = nil\nlocal v_u_16 = 1\nlocal v_u_17 = {}\nlocal v_u_18 = {\n    [\"idle\"] = {\n        {\n            [\"id\"] = \"http://www.roblox.com/asset/?id=180435571\",\n            [\"weight\"] = 9\n        },\n        {\n            [\"id\"] = \"http://www.roblox.com/asset/?id=180435792\",\n            [\"weight\"] = 1\n        }\n    },\n    [\"walk\"] = {\n        {\n            [\"id\"] = \"http://www.roblox.com/asset/?id=180426354\",\n            [\"weight\"] = 10\n        }\n    },\n    [\"run\"] = {\n        {\n            [\"id\"] = \"run.xml\",\n            [\"weight\"] = 10\n        }\n    },\n    [\"jump\"] = {\n        {\n            [\"id\"] = \"http://www.roblox.com/asset/?id=125750702\",\n            [\"weight\"] = 10\n        }\n    },\n    [\"fall\"] = {\n        {\n            [\"id\"] = \"http://www.roblox.com/asset/?id=180436148\",\n            [\"weight\"] = 10\n        }\n    },\n    [\"climb\"] = {\n        {\n            [\"id\"] = \"http://www.roblox.com/asset/?id=180436334\",\n            [\"weight\"] = 10\n        }\n    },\n    [\"sit\"] = {\n        {\n            [\"id\"] = \"http://www.roblox.com/asset/?id=178130996\",\n            [\"weight\"] = 10\n        }\n    },\n    [\"toolnone\"] = {\n        {\n            [\"id\"] = \"http://www.roblox.com/asset/?id=182393478\",\n            [\"weight\"] = 10\n        }\n    },\n    [\"toolslash\"] = {\n        {\n            [\"id\"] = \"http://www.roblox.com/asset/?id=129967390\",\n            [\"weight\"] = 10\n        }\n    },\n    [\"toollunge\"] = {\n        {\n            [\"id\"] = \"http://www.roblox.com/asset/?id=129967478\",\n            [\"weight\"] = 10\n        }\n    },\n    [\"wave\"] = {\n        {\n            [\"id\"] = \"http://www.roblox.com/asset/?id=128777973\",\n            [\"weight\"] = 10\n        }\n    },\n    [\"point\"] = {\n        {\n            [\"id\"] = \"http://www.roblox.com/asset/?id=128853357\",\n            [\"weight\"] = 10\n        }\n    },\n    [\"dance1\"] = {\n        {\n            [\"id\"] = \"http://www.roblox.com/asset/?id=182435998\",\n            [\"weight\"] = 10\n        },\n        {\n            [\"id\"] = \"http://www.roblox.com/asset/?id=182491037\",\n            [\"weight\"] = 10\n        },\n        {\n            [\"id\"] = \"http://www.roblox.com/asset/?id=182491065\",\n            [\"weight\"] = 10\n        }\n    },\n    [\"dance2\"] = {\n        {\n            [\"id\"] = \"http://www.roblox.com/asset/?id=182436842\",\n            [\"weight\"] = 10\n        },\n        {\n            [\"id\"] = \"http://www.roblox.com/asset/?id=182491248\",\n            [\"weight\"] = 10\n        },\n        {\n            [\"id\"] = \"http://www.roblox.com/asset/?id=182491277\",\n            [\"weight\"] = 10\n        }\n    },\n    [\"dance3\"] = {\n        {\n            [\"id\"] = \"http://www.roblox.com/asset/?id=182436935\",\n            [\"weight\"] = 10\n        },\n        {\n            [\"id\"] = \"http://www.roblox.com/asset/?id=182491368\",\n            [\"weight\"] = 10\n        },\n        {\n            [\"id\"] = \"http://www.roblox.com/asset/?id=182491423\",\n            [\"weight\"] = 10\n        }\n    },\n    [\"laugh\"] = {\n        {\n            [\"id\"] = \"http://www.roblox.com/asset/?id=129423131\",\n            [\"weight\"] = 10\n        }\n    },\n    [\"cheer\"] = {\n        {\n            [\"id\"] = \"http://www.roblox.com/asset/?id=129423030\",\n            [\"weight\"] = 10\n        }\n    }\n}\nlocal v_u_19 = { \"dance1\", \"dance2\", \"dance3\" }\nlocal v_u_20 = {\n    [\"wave\"] = false,\n    [\"point\"] = false,\n    [\"dance1\"] = true,\n    [\"dance2\"] = true,\n    [\"dance3\"] = true,\n    [\"laugh\"] = false,\n    [\"cheer\"] = false\n}\nfunction configureAnimationSet(p_u_21, p_u_22)\n    -- upvalues: (copy) v_u_17\n    if v_u_17[p_u_21] ~= nil then\n        for _, v23 in pairs(v_u_17[p_u_21].connections) do\n            v23:disconnect()\n        end\n    end\n    v_u_17[p_u_21] = {}\n    v_u_17[p_u_21].count = 0\n    v_u_17[p_u_21].totalWeight = 0\n    v_u_17[p_u_21].connections = {}\n    local v24 = script:FindFirstChild(p_u_21)\n    if v24 ~= nil then\n        local v25 = v_u_17[p_u_21].connections\n        local v26 = v24.ChildAdded\n        table.insert(v25, v26:connect(function(_)\n            -- upvalues: (copy) p_u_21, (copy) p_u_22\n            configureAnimationSet(p_u_21, p_u_22)\n        end))\n        local v27 = v_u_17[p_u_21].connections\n        local v28 = v24.ChildRemoved\n        table.insert(v27, v28:connect(function(_)\n            -- upvalues: (copy) p_u_21, (copy) p_u_22\n            configureAnimationSet(p_u_21, p_u_22)\n        end))\n        local v29 = 1\n        for _, v30 in pairs(v24:GetChildren()) do\n            if v30:IsA(\"Animation\") then\n                local v31 = v_u_17[p_u_21].connections\n                local v32 = v30.Changed\n                table.insert(v31, v32:connect(function(_)\n                    -- upvalues: (copy) p_u_21, (copy) p_u_22\n                    configureAnimationSet(p_u_21, p_u_22)\n                end))\n                v_u_17[p_u_21][v29] = {}\n                v_u_17[p_u_21][v29].anim = v30\n                local v33 = v30:FindFirstChild(\"Weight\")\n                if v33 == nil then\n                    v_u_17[p_u_21][v29].weight = 1\n                else\n                    v_u_17[p_u_21][v29].weight = v33.Value\n                end\n                v_u_17[p_u_21].count = v_u_17[p_u_21].count + 1\n                v_u_17[p_u_21].totalWeight = v_u_17[p_u_21].totalWeight + v_u_17[p_u_21][v29].weight\n                v29 = v29 + 1\n            end\n        end\n    end\n    if v_u_17[p_u_21].count <= 0 then\n        for v34, v35 in pairs(p_u_22) do\n            v_u_17[p_u_21][v34] = {}\n            v_u_17[p_u_21][v34].anim = Instance.new(\"Animation\")\n            v_u_17[p_u_21][v34].anim.Name = p_u_21\n            v_u_17[p_u_21][v34].anim.AnimationId = v35.id\n            v_u_17[p_u_21][v34].weight = v35.weight\n            v_u_17[p_u_21].count = v_u_17[p_u_21].count + 1\n            v_u_17[p_u_21].totalWeight = v_u_17[p_u_21].totalWeight + v35.weight\n        end\n    end\nend\nfunction scriptChildModified(p36)\n    -- upvalues: (copy) v_u_18\n    local v37 = v_u_18[p36.Name]\n    if v37 ~= nil then\n        configureAnimationSet(p36.Name, v37)\n    end\nend\nscript.ChildAdded:connect(scriptChildModified)\nscript.ChildRemoved:connect(scriptChildModified)\nlocal v38\nif v_u_7 then\n    v38 = v_u_7:FindFirstChildOfClass(\"Animator\")\nelse\n    v38 = nil\nend\nif v38 then\n    local v39 = v38:GetPlayingAnimationTracks()\n    for _, v40 in ipairs(v39) do\n        v40:Stop(0)\n        v40:Destroy()\n    end\nend\nfor v41, v42 in pairs(v_u_18) do\n    configureAnimationSet(v41, v42)\nend\nlocal v_u_43 = \"None\"\nlocal v_u_44 = 0\nlocal v_u_45 = 0\nfunction stopAllAnimations()\n    -- upvalues: (ref) v_u_12, (copy) v_u_20, (ref) v_u_13, (ref) v_u_15, (ref) v_u_14\n    local v46 = v_u_12\n    local v47 = v_u_20[v46] ~= nil and v_u_20[v46] == false and \"idle\" or v46\n    v_u_12 = \"\"\n    v_u_13 = nil\n    if v_u_15 ~= nil then\n        v_u_15:disconnect()\n    end\n    if v_u_14 ~= nil then\n        v_u_14:Stop()\n        v_u_14:Destroy()\n        v_u_14 = nil\n    end\n    return v47\nend\nfunction setAnimationSpeed(p48)\n    -- upvalues: (ref) v_u_16, (ref) v_u_14\n    if p48 ~= v_u_16 then\n        v_u_16 = p48\n        v_u_14:AdjustSpeed(v_u_16)\n    end\nend\nfunction keyFrameReachedFunc(p49)\n    -- upvalues: (ref) v_u_12, (copy) v_u_20, (ref) v_u_16, (copy) v_u_7\n    if p49 == \"End\" then\n        local v50 = v_u_12\n        local v51 = v_u_20[v50] ~= nil and v_u_20[v50] == false and \"idle\" or v50\n        local v52 = v_u_16\n        playAnimation(v51, 0, v_u_7)\n        setAnimationSpeed(v52)\n    end\nend\nfunction playAnimation(p53, p54, p55)\n    -- upvalues: (copy) v_u_17, (ref) v_u_13, (ref) v_u_14, (ref) v_u_16, (ref) v_u_12, (ref) v_u_15\n    local v56 = math.random(1, v_u_17[p53].totalWeight)\n    local v57 = 1\n    while v_u_17[p53][v57].weight < v56 do\n        v56 = v56 - v_u_17[p53][v57].weight\n        v57 = v57 + 1\n    end\n    local v58 = v_u_17[p53][v57].anim\n    if v58 ~= v_u_13 then\n        if v_u_14 ~= nil then\n            v_u_14:Stop(p54)\n            v_u_14:Destroy()\n        end\n        v_u_16 = 1\n        v_u_14 = p55:LoadAnimation(v58)\n        v_u_14.Priority = Enum.AnimationPriority.Core\n        v_u_14:Play(p54)\n        v_u_12 = p53\n        v_u_13 = v58\n        if v_u_15 ~= nil then\n            v_u_15:disconnect()\n        end\n        v_u_15 = v_u_14.KeyframeReached:connect(keyFrameReachedFunc)\n    end\nend\nlocal v_u_59 = \"\"\nlocal v_u_60 = nil\nlocal v_u_61 = nil\nlocal v_u_62 = nil\nfunction toolKeyFrameReachedFunc(p63)\n    -- upvalues: (ref) v_u_59, (copy) v_u_7\n    if p63 == \"End\" then\n        playToolAnimation(v_u_59, 0, v_u_7)\n    end\nend\nfunction playToolAnimation(p64, p65, p66, p67)\n    -- upvalues: (copy) v_u_17, (ref) v_u_61, (ref) v_u_60, (ref) v_u_59, (ref) v_u_62\n    local v68 = math.random(1, v_u_17[p64].totalWeight)\n    local v69 = 1\n    while v_u_17[p64][v69].weight < v68 do\n        v68 = v68 - v_u_17[p64][v69].weight\n        v69 = v69 + 1\n    end\n    local v70 = v_u_17[p64][v69].anim\n    if v_u_61 ~= v70 then\n        if v_u_60 ~= nil then\n            v_u_60:Stop()\n            v_u_60:Destroy()\n            p65 = 0\n        end\n        v_u_60 = p66:LoadAnimation(v70)\n        if p67 then\n            v_u_60.Priority = p67\n        end\n        v_u_60:Play(p65)\n        v_u_59 = p64\n        v_u_61 = v70\n        v_u_62 = v_u_60.KeyframeReached:connect(toolKeyFrameReachedFunc)\n    end\nend\nfunction stopToolAnimations()\n    -- upvalues: (ref) v_u_59, (ref) v_u_62, (ref) v_u_61, (ref) v_u_60\n    local v71 = v_u_59\n    if v_u_62 ~= nil then\n        v_u_62:disconnect()\n    end\n    v_u_59 = \"\"\n    v_u_61 = nil\n    if v_u_60 ~= nil then\n        v_u_60:Stop()\n        v_u_60:Destroy()\n        v_u_60 = nil\n    end\n    return v71\nend\nfunction onRunning(p72)\n    -- upvalues: (copy) v_u_11, (copy) v_u_1, (copy) v_u_7, (ref) v_u_13, (ref) v_u_8, (copy) v_u_20, (ref) v_u_12\n    local v73 = p72 / (not v_u_11 and 1 or v_u_1:GetScale())\n    if v73 > 0.01 then\n        playAnimation(\"walk\", 0.1, v_u_7)\n        if v_u_13 and v_u_13.AnimationId == \"http://www.roblox.com/asset/?id=180426354\" then\n            setAnimationSpeed(v73 / 14.5)\n        end\n        v_u_8 = \"Running\"\n    elseif v_u_20[v_u_12] == nil then\n        playAnimation(\"idle\", 0.1, v_u_7)\n        v_u_8 = \"Standing\"\n    end\nend\nfunction onDied()\n    -- upvalues: (ref) v_u_8\n    v_u_8 = \"Dead\"\nend\nfunction onJumping()\n    -- upvalues: (copy) v_u_7, (ref) v_u_45, (ref) v_u_8\n    playAnimation(\"jump\", 0.1, v_u_7)\n    v_u_45 = 0.3\n    v_u_8 = \"Jumping\"\nend\nfunction onClimbing(p74)\n    -- upvalues: (copy) v_u_11, (copy) v_u_1, (copy) v_u_7, (ref) v_u_8\n    local v75 = p74 / (not v_u_11 and 1 or v_u_1:GetScale())\n    playAnimation(\"climb\", 0.1, v_u_7)\n    setAnimationSpeed(v75 / 12)\n    v_u_8 = \"Climbing\"\nend\nfunction onGettingUp()\n    -- upvalues: (ref) v_u_8\n    v_u_8 = \"GettingUp\"\nend\nfunction onFreeFall()\n    -- upvalues: (ref) v_u_45, (copy) v_u_7, (ref) v_u_8\n    if v_u_45 <= 0 then\n        playAnimation(\"fall\", 0.3, v_u_7)\n    end\n    v_u_8 = \"FreeFall\"\nend\nfunction onFallingDown()\n    -- upvalues: (ref) v_u_8\n    v_u_8 = \"FallingDown\"\nend\nfunction onSeated()\n    -- upvalues: (ref) v_u_8\n    v_u_8 = \"Seated\"\nend\nfunction onPlatformStanding()\n    -- upvalues: (ref) v_u_8\n    v_u_8 = \"PlatformStanding\"\nend\nfunction onSwimming(p76)\n    -- upvalues: (ref) v_u_8\n    if p76 > 0 then\n        v_u_8 = \"Running\"\n    else\n        v_u_8 = \"Standing\"\n    end\nend\nfunction getTool()\n    -- upvalues: (copy) v_u_1\n    for _, v77 in ipairs(v_u_1:GetChildren()) do\n        if v77.className == \"Tool\" then\n            return v77\n        end\n    end\n    return nil\nend\nfunction getToolAnim(p78)\n    for _, v79 in ipairs(p78:GetChildren()) do\n        if v79.Name == \"toolanim\" and v79.className == \"StringValue\" then\n            return v79\n        end\n    end\n    return nil\nend\nfunction animateTool()\n    -- upvalues: (ref) v_u_43, (copy) v_u_7\n    if v_u_43 == \"None\" then\n        playToolAnimation(\"toolnone\", 0.1, v_u_7, Enum.AnimationPriority.Idle)\n        return\n    elseif v_u_43 == \"Slash\" then\n        playToolAnimation(\"toolslash\", 0, v_u_7, Enum.AnimationPriority.Action)\n        return\n    elseif v_u_43 == \"Lunge\" then\n        playToolAnimation(\"toollunge\", 0, v_u_7, Enum.AnimationPriority.Action)\n    end\nend\nfunction moveSit()\n    -- upvalues: (copy) v_u_3, (copy) v_u_4, (copy) v_u_5, (copy) v_u_6\n    v_u_3.MaxVelocity = 0.15\n    v_u_4.MaxVelocity = 0.15\n    v_u_3:SetDesiredAngle(1.57)\n    v_u_4:SetDesiredAngle(-1.57)\n    v_u_5:SetDesiredAngle(1.57)\n    v_u_6:SetDesiredAngle(-1.57)\nend\nlocal v_u_80 = 0\nfunction move(p81)\n    -- upvalues: (ref) v_u_80, (ref) v_u_45, (ref) v_u_8, (copy) v_u_7, (copy) v_u_3, (copy) v_u_4, (copy) v_u_5, (copy) v_u_6, (ref) v_u_43, (ref) v_u_44, (ref) v_u_61\n    local v82 = 1\n    local v83 = 1\n    local v84 = p81 - v_u_80\n    v_u_80 = p81\n    local v85 = false\n    if v_u_45 > 0 then\n        v_u_45 = v_u_45 - v84\n    end\n    if v_u_8 == \"FreeFall\" and v_u_45 <= 0 then\n        playAnimation(\"fall\", 0.3, v_u_7)\n    else\n        if v_u_8 == \"Seated\" then\n            playAnimation(\"sit\", 0.5, v_u_7)\n            return\n        end\n        if v_u_8 == \"Running\" then\n            playAnimation(\"walk\", 0.1, v_u_7)\n        elseif v_u_8 == \"Dead\" or (v_u_8 == \"GettingUp\" or (v_u_8 == \"FallingDown\" or (v_u_8 == \"Seated\" or v_u_8 == \"PlatformStanding\"))) then\n            stopAllAnimations()\n            v85 = true\n            v83 = 1\n            v82 = 0.1\n        end\n    end\n    if v85 then\n        local v86 = p81 * v83\n        local v87 = v82 * math.sin(v86)\n        v_u_3:SetDesiredAngle(v87 + 0)\n        v_u_4:SetDesiredAngle(v87 - 0)\n        v_u_5:SetDesiredAngle(-v87)\n        v_u_6:SetDesiredAngle(-v87)\n    end\n    local v88 = getTool()\n    if v88 and v88:FindFirstChild(\"Handle\") then\n        local v89 = getToolAnim(v88)\n        if v89 then\n            v_u_43 = v89.Value\n            v89.Parent = nil\n            v_u_44 = p81 + 0.3\n        end\n        if v_u_44 < p81 then\n            v_u_44 = 0\n            v_u_43 = \"None\"\n        end\n        animateTool()\n    else\n        stopToolAnimations()\n        v_u_43 = \"None\"\n        v_u_61 = nil\n        v_u_44 = 0\n    end\nend\nv_u_7.Died:connect(onDied)\nv_u_7.Running:connect(onRunning)\nv_u_7.Jumping:connect(onJumping)\nv_u_7.Climbing:connect(onClimbing)\nv_u_7.GettingUp:connect(onGettingUp)\nv_u_7.FreeFalling:connect(onFreeFall)\nv_u_7.FallingDown:connect(onFallingDown)\nv_u_7.Seated:connect(onSeated)\nv_u_7.PlatformStanding:connect(onPlatformStanding)\nv_u_7.Swimming:connect(onSwimming)\ngame:GetService(\"Players\").LocalPlayer.Chatted:connect(function(p90)\n    -- upvalues: (copy) v_u_19, (ref) v_u_8, (copy) v_u_20, (copy) v_u_7\n    local v91 = \"\"\n    if p90 == \"/e dance\" then\n        v91 = v_u_19[math.random(1, #v_u_19)]\n    elseif string.sub(p90, 1, 3) == \"/e \" then\n        v91 = string.sub(p90, 4)\n    elseif string.sub(p90, 1, 7) == \"/emote \" then\n        v91 = string.sub(p90, 8)\n    end\n    if v_u_8 == \"Standing\" and v_u_20[v91] ~= nil then\n        playAnimation(v91, 0.1, v_u_7)\n    end\nend)\nscript:WaitForChild(\"PlayEmote\").OnInvoke = function(p92)\n    -- upvalues: (ref) v_u_8, (copy) v_u_20, (copy) v_u_7, (ref) v_u_14\n    if v_u_8 == \"Standing\" then\n        if v_u_20[p92] == nil then\n            return false\n        end\n        playAnimation(p92, 0.1, v_u_7)\n        return true, v_u_14\n    end\nend\nplayAnimation(\"idle\", 0.1, v_u_7)\nlocal _ = \"Standing\"\nwhile v_u_1.Parent ~= nil do\n    local _, v93 = wait(0.1)\n    move(v93)\nend"},{"Path":"Workspace.DahoodThe_bestgame.Health","Name":"Health","ClassName":"Script","Failed":true,"Category":"Workspace","FileName":"Health_failed.lua","Source":"-- Failed to decompile: Unknown Bytecode"},{"Path":"Workspace.DahoodThe_bestgame.Animate","Name":"Animate","ClassName":"LocalScript","Category":"Workspace","FileName":"Animate61.lua","Source":"-- Decompiled with Velocity Script Decompiler\nlocal v_u_1 = script.Parent\nlocal v_u_2 = v_u_1:WaitForChild(\"Humanoid\")\nlocal v_u_3 = \"Standing\"\nlocal v4, v5 = pcall(function()\n    return UserSettings():IsUserFeatureEnabled(\"UserNoUpdateOnLoop\")\nend)\nlocal v_u_6 = v4 and v5\nlocal v7, v8 = pcall(function()\n    return UserSettings():IsUserFeatureEnabled(\"UserAnimateScaleRun\")\nend)\nlocal v_u_9 = v7 and v8\nlocal function v_u_10()\n    -- upvalues: (copy) v_u_9, (copy) v_u_1\n    return not v_u_9 and 1 or v_u_1:GetScale()\nend\nlocal v_u_11 = script:FindFirstChild(\"ScaleDampeningPercent\")\nlocal v_u_12 = \"\"\nlocal v_u_13 = nil\nlocal v_u_14 = nil\nlocal v_u_15 = nil\nlocal v_u_16 = 1\nlocal v_u_17 = nil\nlocal v_u_18 = nil\nlocal v_u_19 = {}\nlocal v_u_20 = {}\nlocal v_u_21 = {\n    [\"idle\"] = {\n        {\n            [\"id\"] = \"http://www.roblox.com/asset/?id=507766666\",\n            [\"weight\"] = 1\n        },\n        {\n            [\"id\"] = \"http://www.roblox.com/asset/?id=507766951\",\n            [\"weight\"] = 1\n        },\n        {\n            [\"id\"] = \"http://www.roblox.com/asset/?id=507766388\",\n            [\"weight\"] = 9\n        }\n    },\n    [\"walk\"] = {\n        {\n            [\"id\"] = \"http://www.roblox.com/asset/?id=507777826\",\n            [\"weight\"] = 10\n        }\n    },\n    [\"run\"] = {\n        {\n            [\"id\"] = \"http://www.roblox.com/asset/?id=507767714\",\n            [\"weight\"] = 10\n        }\n    },\n    [\"swim\"] = {\n        {\n            [\"id\"] = \"http://www.roblox.com/asset/?id=507784897\",\n            [\"weight\"] = 10\n        }\n    },\n    [\"swimidle\"] = {\n        {\n            [\"id\"] = \"http://www.roblox.com/asset/?id=507785072\",\n            [\"weight\"] = 10\n        }\n    },\n    [\"jump\"] = {\n        {\n            [\"id\"] = \"http://www.roblox.com/asset/?id=507765000\",\n            [\"weight\"] = 10\n        }\n    },\n    [\"fall\"] = {\n        {\n            [\"id\"] = \"http://www.roblox.com/asset/?id=507767968\",\n            [\"weight\"] = 10\n        }\n    },\n    [\"climb\"] = {\n        {\n            [\"id\"] = \"http://www.roblox.com/asset/?id=507765644\",\n            [\"weight\"] = 10\n        }\n    },\n    [\"sit\"] = {\n        {\n            [\"id\"] = \"http://www.roblox.com/asset/?id=2506281703\",\n            [\"weight\"] = 10\n        }\n    },\n    [\"toolnone\"] = {\n        {\n            [\"id\"] = \"http://www.roblox.com/asset/?id=507768375\",\n            [\"weight\"] = 10\n        }\n    },\n    [\"toolslash\"] = {\n        {\n            [\"id\"] = \"http://www.roblox.com/asset/?id=522635514\",\n            [\"weight\"] = 10\n        }\n    },\n    [\"toollunge\"] = {\n        {\n            [\"id\"] = \"http://www.roblox.com/asset/?id=522638767\",\n            [\"weight\"] = 10\n        }\n    },\n    [\"wave\"] = {\n        {\n            [\"id\"] = \"http://www.roblox.com/asset/?id=507770239\",\n            [\"weight\"] = 10\n        }\n    },\n    [\"point\"] = {\n        {\n            [\"id\"] = \"http://www.roblox.com/asset/?id=507770453\",\n            [\"weight\"] = 10\n        }\n    },\n    [\"dance\"] = {\n        {\n            [\"id\"] = \"http://www.roblox.com/asset/?id=507771019\",\n            [\"weight\"] = 10\n        },\n        {\n            [\"id\"] = \"http://www.roblox.com/asset/?id=507771955\",\n            [\"weight\"] = 10\n        },\n        {\n            [\"id\"] = \"http://www.roblox.com/asset/?id=507772104\",\n            [\"weight\"] = 10\n        }\n    },\n    [\"dance2\"] = {\n        {\n            [\"id\"] = \"http://www.roblox.com/asset/?id=507776043\",\n            [\"weight\"] = 10\n        },\n        {\n            [\"id\"] = \"http://www.roblox.com/asset/?id=507776720\",\n            [\"weight\"] = 10\n        },\n        {\n            [\"id\"] = \"http://www.roblox.com/asset/?id=507776879\",\n            [\"weight\"] = 10\n        }\n    },\n    [\"dance3\"] = {\n        {\n            [\"id\"] = \"http://www.roblox.com/asset/?id=507777268\",\n            [\"weight\"] = 10\n        },\n        {\n            [\"id\"] = \"http://www.roblox.com/asset/?id=507777451\",\n            [\"weight\"] = 10\n        },\n        {\n            [\"id\"] = \"http://www.roblox.com/asset/?id=507777623\",\n            [\"weight\"] = 10\n        }\n    },\n    [\"laugh\"] = {\n        {\n            [\"id\"] = \"http://www.roblox.com/asset/?id=507770818\",\n            [\"weight\"] = 10\n        }\n    },\n    [\"cheer\"] = {\n        {\n            [\"id\"] = \"http://www.roblox.com/asset/?id=507770677\",\n            [\"weight\"] = 10\n        }\n    }\n}\nlocal v_u_22 = {\n    [\"wave\"] = false,\n    [\"point\"] = false,\n    [\"dance\"] = true,\n    [\"dance2\"] = true,\n    [\"dance3\"] = true,\n    [\"laugh\"] = false,\n    [\"cheer\"] = false\n}\nmath.randomseed(tick())\nfunction findExistingAnimationInSet(p23, p24)\n    if p23 == nil or p24 == nil then\n        return 0\n    end\n    for v25 = 1, p23.count do\n        if p23[v25].anim.AnimationId == p24.AnimationId then\n            return v25\n        end\n    end\n    return 0\nend\nfunction configureAnimationSet(p_u_26, p_u_27)\n    -- upvalues: (copy) v_u_20, (copy) v_u_19, (copy) v_u_2\n    if v_u_20[p_u_26] ~= nil then\n        for _, v28 in pairs(v_u_20[p_u_26].connections) do\n            v28:disconnect()\n        end\n    end\n    v_u_20[p_u_26] = {}\n    v_u_20[p_u_26].count = 0\n    v_u_20[p_u_26].totalWeight = 0\n    v_u_20[p_u_26].connections = {}\n    local v_u_29 = true\n    local v30, _ = pcall(function()\n        -- upvalues: (ref) v_u_29\n        v_u_29 = game:GetService(\"StarterPlayer\").AllowCustomAnimations\n    end)\n    v_u_29 = not v30 and true or v_u_29\n    local v31 = script:FindFirstChild(p_u_26)\n    if v_u_29 and v31 ~= nil then\n        local v32 = v_u_20[p_u_26].connections\n        local v33 = v31.ChildAdded\n        table.insert(v32, v33:connect(function(_)\n            -- upvalues: (copy) p_u_26, (copy) p_u_27\n            configureAnimationSet(p_u_26, p_u_27)\n        end))\n        local v34 = v_u_20[p_u_26].connections\n        local v35 = v31.ChildRemoved\n        table.insert(v34, v35:connect(function(_)\n            -- upvalues: (copy) p_u_26, (copy) p_u_27\n            configureAnimationSet(p_u_26, p_u_27)\n        end))\n        for _, v36 in pairs(v31:GetChildren()) do\n            if v36:IsA(\"Animation\") then\n                local v37 = v36:FindFirstChild(\"Weight\")\n                local v38 = v37 == nil and 1 or v37.Value\n                v_u_20[p_u_26].count = v_u_20[p_u_26].count + 1\n                local v39 = v_u_20[p_u_26].count\n                v_u_20[p_u_26][v39] = {}\n                v_u_20[p_u_26][v39].anim = v36\n                v_u_20[p_u_26][v39].weight = v38\n                v_u_20[p_u_26].totalWeight = v_u_20[p_u_26].totalWeight + v_u_20[p_u_26][v39].weight\n                local v40 = v_u_20[p_u_26].connections\n                local v41 = v36.Changed\n                table.insert(v40, v41:connect(function(_)\n                    -- upvalues: (copy) p_u_26, (copy) p_u_27\n                    configureAnimationSet(p_u_26, p_u_27)\n                end))\n                local v42 = v_u_20[p_u_26].connections\n                local v43 = v36.ChildAdded\n                table.insert(v42, v43:connect(function(_)\n                    -- upvalues: (copy) p_u_26, (copy) p_u_27\n                    configureAnimationSet(p_u_26, p_u_27)\n                end))\n                local v44 = v_u_20[p_u_26].connections\n                local v45 = v36.ChildRemoved\n                table.insert(v44, v45:connect(function(_)\n                    -- upvalues: (copy) p_u_26, (copy) p_u_27\n                    configureAnimationSet(p_u_26, p_u_27)\n                end))\n            end\n        end\n    end\n    if v_u_20[p_u_26].count <= 0 then\n        for v46, v47 in pairs(p_u_27) do\n            v_u_20[p_u_26][v46] = {}\n            v_u_20[p_u_26][v46].anim = Instance.new(\"Animation\")\n            v_u_20[p_u_26][v46].anim.Name = p_u_26\n            v_u_20[p_u_26][v46].anim.AnimationId = v47.id\n            v_u_20[p_u_26][v46].weight = v47.weight\n            v_u_20[p_u_26].count = v_u_20[p_u_26].count + 1\n            v_u_20[p_u_26].totalWeight = v_u_20[p_u_26].totalWeight + v47.weight\n        end\n    end\n    for _, v48 in pairs(v_u_20) do\n        for v49 = 1, v48.count do\n            if v_u_19[v48[v49].anim.AnimationId] == nil then\n                v_u_2:LoadAnimation(v48[v49].anim)\n                v_u_19[v48[v49].anim.AnimationId] = true\n            end\n        end\n    end\nend\nfunction configureAnimationSetOld(p_u_50, p_u_51)\n    -- upvalues: (copy) v_u_20, (copy) v_u_2\n    if v_u_20[p_u_50] ~= nil then\n        for _, v52 in pairs(v_u_20[p_u_50].connections) do\n            v52:disconnect()\n        end\n    end\n    v_u_20[p_u_50] = {}\n    v_u_20[p_u_50].count = 0\n    v_u_20[p_u_50].totalWeight = 0\n    v_u_20[p_u_50].connections = {}\n    local v_u_53 = true\n    local v54, _ = pcall(function()\n        -- upvalues: (ref) v_u_53\n        v_u_53 = game:GetService(\"StarterPlayer\").AllowCustomAnimations\n    end)\n    v_u_53 = not v54 and true or v_u_53\n    local v55 = script:FindFirstChild(p_u_50)\n    if v_u_53 and v55 ~= nil then\n        local v56 = v_u_20[p_u_50].connections\n        local v57 = v55.ChildAdded\n        table.insert(v56, v57:connect(function(_)\n            -- upvalues: (copy) p_u_50, (copy) p_u_51\n            configureAnimationSet(p_u_50, p_u_51)\n        end))\n        local v58 = v_u_20[p_u_50].connections\n        local v59 = v55.ChildRemoved\n        table.insert(v58, v59:connect(function(_)\n            -- upvalues: (copy) p_u_50, (copy) p_u_51\n            configureAnimationSet(p_u_50, p_u_51)\n        end))\n        local v60 = 1\n        for _, v61 in pairs(v55:GetChildren()) do\n            if v61:IsA(\"Animation\") then\n                local v62 = v_u_20[p_u_50].connections\n                local v63 = v61.Changed\n                table.insert(v62, v63:connect(function(_)\n                    -- upvalues: (copy) p_u_50, (copy) p_u_51\n                    configureAnimationSet(p_u_50, p_u_51)\n                end))\n                v_u_20[p_u_50][v60] = {}\n                v_u_20[p_u_50][v60].anim = v61\n                local v64 = v61:FindFirstChild(\"Weight\")\n                if v64 == nil then\n                    v_u_20[p_u_50][v60].weight = 1\n                else\n                    v_u_20[p_u_50][v60].weight = v64.Value\n                end\n                v_u_20[p_u_50].count = v_u_20[p_u_50].count + 1\n                v_u_20[p_u_50].totalWeight = v_u_20[p_u_50].totalWeight + v_u_20[p_u_50][v60].weight\n                v60 = v60 + 1\n            end\n        end\n    end\n    if v_u_20[p_u_50].count <= 0 then\n        for v65, v66 in pairs(p_u_51) do\n            v_u_20[p_u_50][v65] = {}\n            v_u_20[p_u_50][v65].anim = Instance.new(\"Animation\")\n            v_u_20[p_u_50][v65].anim.Name = p_u_50\n            v_u_20[p_u_50][v65].anim.AnimationId = v66.id\n            v_u_20[p_u_50][v65].weight = v66.weight\n            v_u_20[p_u_50].count = v_u_20[p_u_50].count + 1\n            v_u_20[p_u_50].totalWeight = v_u_20[p_u_50].totalWeight + v66.weight\n        end\n    end\n    for _, v67 in pairs(v_u_20) do\n        for v68 = 1, v67.count do\n            v_u_2:LoadAnimation(v67[v68].anim)\n        end\n    end\nend\nfunction scriptChildModified(p69)\n    -- upvalues: (copy) v_u_21\n    local v70 = v_u_21[p69.Name]\n    if v70 ~= nil then\n        configureAnimationSet(p69.Name, v70)\n    end\nend\nscript.ChildAdded:connect(scriptChildModified)\nscript.ChildRemoved:connect(scriptChildModified)\nlocal v71\nif v_u_2 then\n    v71 = v_u_2:FindFirstChildOfClass(\"Animator\")\nelse\n    v71 = nil\nend\nif v71 then\n    local v72 = v71:GetPlayingAnimationTracks()\n    for _, v73 in ipairs(v72) do\n        v73:Stop(0)\n        v73:Destroy()\n    end\nend\nfor v74, v75 in pairs(v_u_21) do\n    configureAnimationSet(v74, v75)\nend\nlocal v_u_76 = \"None\"\nlocal v_u_77 = 0\nlocal v_u_78 = 0\nlocal v_u_79 = false\nfunction stopAllAnimations()\n    -- upvalues: (ref) v_u_12, (copy) v_u_22, (ref) v_u_79, (ref) v_u_13, (ref) v_u_15, (ref) v_u_14, (ref) v_u_18, (ref) v_u_17\n    local v80 = v_u_12\n    local v81 = v_u_22[v80] ~= nil and v_u_22[v80] == false and \"idle\" or v80\n    if v_u_79 then\n        v81 = \"idle\"\n        v_u_79 = false\n    end\n    v_u_12 = \"\"\n    v_u_13 = nil\n    if v_u_15 ~= nil then\n        v_u_15:disconnect()\n    end\n    if v_u_14 ~= nil then\n        v_u_14:Stop()\n        v_u_14:Destroy()\n        v_u_14 = nil\n    end\n    if v_u_18 ~= nil then\n        v_u_18:disconnect()\n    end\n    if v_u_17 ~= nil then\n        v_u_17:Stop()\n        v_u_17:Destroy()\n        v_u_17 = nil\n    end\n    return v81\nend\nfunction getHeightScale()\n    -- upvalues: (copy) v_u_2, (copy) v_u_10, (ref) v_u_11\n    if not v_u_2 then\n        return v_u_10()\n    end\n    if not v_u_2.AutomaticScalingEnabled then\n        return v_u_10()\n    end\n    local v82 = v_u_2.HipHeight / 2\n    if v_u_11 == nil then\n        v_u_11 = script:FindFirstChild(\"ScaleDampeningPercent\")\n    end\n    if v_u_11 ~= nil then\n        v82 = 1 + (v_u_2.HipHeight - 2) * v_u_11.Value / 2\n    end\n    return v82\nend\nlocal function v_u_88(p83)\n    -- upvalues: (ref) v_u_14, (ref) v_u_17\n    local v84 = p83 * 1.25 / getHeightScale()\n    local v85 = 0.0001\n    local v86 = 0.0001\n    local v87 = 1\n    if v84 <= 0.5 then\n        v87 = v84 / 0.5\n        v85 = 1\n    elseif v84 < 1 then\n        v86 = (v84 - 0.5) / 0.5\n        v85 = 1 - v86\n    else\n        v87 = v84 / 1\n        v86 = 1\n    end\n    v_u_14:AdjustWeight(v85)\n    v_u_17:AdjustWeight(v86)\n    v_u_14:AdjustSpeed(v87)\n    v_u_17:AdjustSpeed(v87)\nend\nfunction setAnimationSpeed(p89)\n    -- upvalues: (ref) v_u_12, (copy) v_u_88, (ref) v_u_16, (ref) v_u_14\n    if v_u_12 == \"walk\" then\n        v_u_88(p89)\n    elseif p89 ~= v_u_16 then\n        v_u_16 = p89\n        v_u_14:AdjustSpeed(v_u_16)\n    end\nend\nfunction keyFrameReachedFunc(p90)\n    -- upvalues: (ref) v_u_12, (copy) v_u_6, (ref) v_u_17, (ref) v_u_14, (copy) v_u_22, (ref) v_u_79, (ref) v_u_16, (copy) v_u_2\n    if p90 == \"End\" then\n        if v_u_12 == \"walk\" then\n            if v_u_6 ~= true then\n                v_u_17.TimePosition = 0\n                v_u_14.TimePosition = 0\n                return\n            end\n            if v_u_17.Looped ~= true then\n                v_u_17.TimePosition = 0\n            end\n            if v_u_14.Looped ~= true then\n                v_u_14.TimePosition = 0\n                return\n            end\n        else\n            local v91 = v_u_12\n            local v92 = v_u_22[v91] ~= nil and v_u_22[v91] == false and \"idle\" or v91\n            if v_u_79 then\n                if v_u_14.Looped then\n                    return\n                end\n                v92 = \"idle\"\n                v_u_79 = false\n            end\n            local v93 = v_u_16\n            playAnimation(v92, 0.15, v_u_2)\n            setAnimationSpeed(v93)\n        end\n    end\nend\nfunction rollAnimation(p94)\n    -- upvalues: (copy) v_u_20\n    local v95 = math.random(1, v_u_20[p94].totalWeight)\n    local v96 = 1\n    while v_u_20[p94][v96].weight < v95 do\n        v95 = v95 - v_u_20[p94][v96].weight\n        v96 = v96 + 1\n    end\n    return v96\nend\nlocal function v_u_102(p97, p98, p99, p100)\n    -- upvalues: (ref) v_u_13, (ref) v_u_14, (ref) v_u_17, (copy) v_u_6, (ref) v_u_16, (ref) v_u_12, (ref) v_u_15, (copy) v_u_20, (ref) v_u_18\n    if p97 ~= v_u_13 then\n        if v_u_14 ~= nil then\n            v_u_14:Stop(p99)\n            v_u_14:Destroy()\n        end\n        if v_u_17 ~= nil then\n            v_u_17:Stop(p99)\n            v_u_17:Destroy()\n            if v_u_6 == true then\n                v_u_17 = nil\n            end\n        end\n        v_u_16 = 1\n        v_u_14 = p100:LoadAnimation(p97)\n        v_u_14.Priority = Enum.AnimationPriority.Core\n        v_u_14:Play(p99)\n        v_u_12 = p98\n        v_u_13 = p97\n        if v_u_15 ~= nil then\n            v_u_15:disconnect()\n        end\n        v_u_15 = v_u_14.KeyframeReached:connect(keyFrameReachedFunc)\n        if p98 == \"walk\" then\n            local v101 = rollAnimation(\"run\")\n            v_u_17 = p100:LoadAnimation(v_u_20.run[v101].anim)\n            v_u_17.Priority = Enum.AnimationPriority.Core\n            v_u_17:Play(p99)\n            if v_u_18 ~= nil then\n                v_u_18:disconnect()\n            end\n            v_u_18 = v_u_17.KeyframeReached:connect(keyFrameReachedFunc)\n        end\n    end\nend\nfunction playAnimation(p103, p104, p105)\n    -- upvalues: (copy) v_u_20, (copy) v_u_102, (ref) v_u_79\n    local v106 = rollAnimation(p103)\n    v_u_102(v_u_20[p103][v106].anim, p103, p104, p105)\n    v_u_79 = false\nend\nfunction playEmote(p107, p108, p109)\n    -- upvalues: (copy) v_u_102, (ref) v_u_79\n    v_u_102(p107, p107.Name, p108, p109)\n    v_u_79 = true\nend\nlocal v_u_110 = \"\"\nlocal v_u_111 = nil\nlocal v_u_112 = nil\nlocal v_u_113 = nil\nfunction toolKeyFrameReachedFunc(p114)\n    -- upvalues: (ref) v_u_110, (copy) v_u_2\n    if p114 == \"End\" then\n        playToolAnimation(v_u_110, 0, v_u_2)\n    end\nend\nfunction playToolAnimation(p115, p116, p117, p118)\n    -- upvalues: (copy) v_u_20, (ref) v_u_112, (ref) v_u_111, (ref) v_u_110, (ref) v_u_113\n    local v119 = rollAnimation(p115)\n    local v120 = v_u_20[p115][v119].anim\n    if v_u_112 ~= v120 then\n        if v_u_111 ~= nil then\n            v_u_111:Stop()\n            v_u_111:Destroy()\n            p116 = 0\n        end\n        v_u_111 = p117:LoadAnimation(v120)\n        if p118 then\n            v_u_111.Priority = p118\n        end\n        v_u_111:Play(p116)\n        v_u_110 = p115\n        v_u_112 = v120\n        v_u_113 = v_u_111.KeyframeReached:connect(toolKeyFrameReachedFunc)\n    end\nend\nfunction stopToolAnimations()\n    -- upvalues: (ref) v_u_110, (ref) v_u_113, (ref) v_u_112, (ref) v_u_111\n    local v121 = v_u_110\n    if v_u_113 ~= nil then\n        v_u_113:disconnect()\n    end\n    v_u_110 = \"\"\n    v_u_112 = nil\n    if v_u_111 ~= nil then\n        v_u_111:Stop()\n        v_u_111:Destroy()\n        v_u_111 = nil\n    end\n    return v121\nend\nfunction onRunning(p122)\n    -- upvalues: (copy) v_u_9, (ref) v_u_79, (copy) v_u_2, (ref) v_u_3, (copy) v_u_22, (ref) v_u_12\n    local v123 = not v_u_9 and 1 or getHeightScale()\n    local v124 = v_u_79\n    if v124 then\n        v124 = v_u_2.MoveDirection == Vector3.new(0, 0, 0)\n    end\n    if (v124 and (v_u_2.WalkSpeed / v123 or 0.75) or 0.75) * v123 < p122 then\n        playAnimation(\"walk\", 0.2, v_u_2)\n        setAnimationSpeed(p122 / 16)\n        v_u_3 = \"Running\"\n    elseif v_u_22[v_u_12] == nil and not v_u_79 then\n        playAnimation(\"idle\", 0.2, v_u_2)\n        v_u_3 = \"Standing\"\n    end\nend\nfunction onDied()\n    -- upvalues: (ref) v_u_3\n    v_u_3 = \"Dead\"\nend\nfunction onJumping()\n    -- upvalues: (copy) v_u_2, (ref) v_u_78, (ref) v_u_3\n    playAnimation(\"jump\", 0.1, v_u_2)\n    v_u_78 = 0.31\n    v_u_3 = \"Jumping\"\nend\nfunction onClimbing(p125)\n    -- upvalues: (copy) v_u_9, (copy) v_u_2, (ref) v_u_3\n    if v_u_9 then\n        p125 = p125 / getHeightScale()\n    end\n    playAnimation(\"climb\", 0.1, v_u_2)\n    setAnimationSpeed(p125 / 5)\n    v_u_3 = \"Climbing\"\nend\nfunction onGettingUp()\n    -- upvalues: (ref) v_u_3\n    v_u_3 = \"GettingUp\"\nend\nfunction onFreeFall()\n    -- upvalues: (ref) v_u_78, (copy) v_u_2, (ref) v_u_3\n    if v_u_78 <= 0 then\n        playAnimation(\"fall\", 0.2, v_u_2)\n    end\n    v_u_3 = \"FreeFall\"\nend\nfunction onFallingDown()\n    -- upvalues: (ref) v_u_3\n    v_u_3 = \"FallingDown\"\nend\nfunction onSeated()\n    -- upvalues: (ref) v_u_3\n    v_u_3 = \"Seated\"\nend\nfunction onPlatformStanding()\n    -- upvalues: (ref) v_u_3\n    v_u_3 = \"PlatformStanding\"\nend\nfunction onSwimming(p126)\n    -- upvalues: (copy) v_u_9, (copy) v_u_2, (ref) v_u_3\n    if v_u_9 then\n        p126 = p126 / getHeightScale()\n    end\n    if p126 > 1 then\n        playAnimation(\"swim\", 0.4, v_u_2)\n        setAnimationSpeed(p126 / 10)\n        v_u_3 = \"Swimming\"\n    else\n        playAnimation(\"swimidle\", 0.4, v_u_2)\n        v_u_3 = \"Standing\"\n    end\nend\nfunction animateTool()\n    -- upvalues: (ref) v_u_76, (copy) v_u_2\n    if v_u_76 == \"None\" then\n        playToolAnimation(\"toolnone\", 0.1, v_u_2, Enum.AnimationPriority.Idle)\n        return\n    elseif v_u_76 == \"Slash\" then\n        playToolAnimation(\"toolslash\", 0, v_u_2, Enum.AnimationPriority.Action)\n        return\n    elseif v_u_76 == \"Lunge\" then\n        playToolAnimation(\"toollunge\", 0, v_u_2, Enum.AnimationPriority.Action)\n    end\nend\nfunction getToolAnim(p127)\n    for _, v128 in ipairs(p127:GetChildren()) do\n        if v128.Name == \"toolanim\" and v128.className == \"StringValue\" then\n            return v128\n        end\n    end\n    return nil\nend\nlocal v_u_129 = 0\nfunction stepAnimate(p130)\n    -- upvalues: (ref) v_u_129, (ref) v_u_78, (ref) v_u_3, (copy) v_u_2, (copy) v_u_1, (ref) v_u_76, (ref) v_u_77, (ref) v_u_112\n    local v131 = p130 - v_u_129\n    v_u_129 = p130\n    if v_u_78 > 0 then\n        v_u_78 = v_u_78 - v131\n    end\n    if v_u_3 == \"FreeFall\" and v_u_78 <= 0 then\n        playAnimation(\"fall\", 0.2, v_u_2)\n    else\n        if v_u_3 == \"Seated\" then\n            playAnimation(\"sit\", 0.5, v_u_2)\n            return\n        end\n        if v_u_3 == \"Running\" then\n            playAnimation(\"walk\", 0.2, v_u_2)\n        elseif v_u_3 == \"Dead\" or (v_u_3 == \"GettingUp\" or (v_u_3 == \"FallingDown\" or (v_u_3 == \"Seated\" or v_u_3 == \"PlatformStanding\"))) then\n            stopAllAnimations()\n        end\n    end\n    local v132 = v_u_1:FindFirstChildOfClass(\"Tool\")\n    if v132 and v132:FindFirstChild(\"Handle\") then\n        local v133 = getToolAnim(v132)\n        if v133 then\n            v_u_76 = v133.Value\n            v133.Parent = nil\n            v_u_77 = p130 + 0.3\n        end\n        if v_u_77 < p130 then\n            v_u_77 = 0\n            v_u_76 = \"None\"\n        end\n        animateTool()\n    else\n        stopToolAnimations()\n        v_u_76 = \"None\"\n        v_u_112 = nil\n        v_u_77 = 0\n    end\nend\nv_u_2.Died:connect(onDied)\nv_u_2.Running:connect(onRunning)\nv_u_2.Jumping:connect(onJumping)\nv_u_2.Climbing:connect(onClimbing)\nv_u_2.GettingUp:connect(onGettingUp)\nv_u_2.FreeFalling:connect(onFreeFall)\nv_u_2.FallingDown:connect(onFallingDown)\nv_u_2.Seated:connect(onSeated)\nv_u_2.PlatformStanding:connect(onPlatformStanding)\nv_u_2.Swimming:connect(onSwimming)\ngame:GetService(\"Players\").LocalPlayer.Chatted:connect(function(p134)\n    -- upvalues: (ref) v_u_3, (copy) v_u_22, (copy) v_u_2\n    local v135 = \"\"\n    if string.sub(p134, 1, 3) == \"/e \" then\n        v135 = string.sub(p134, 4)\n    elseif string.sub(p134, 1, 7) == \"/emote \" then\n        v135 = string.sub(p134, 8)\n    end\n    if v_u_3 == \"Standing\" and v_u_22[v135] ~= nil then\n        playAnimation(v135, 0.1, v_u_2)\n    end\nend)\nscript:WaitForChild(\"PlayEmote\").OnInvoke = function(p136)\n    -- upvalues: (ref) v_u_3, (copy) v_u_22, (copy) v_u_2, (ref) v_u_14\n    if v_u_3 == \"Standing\" then\n        if v_u_22[p136] ~= nil then\n            playAnimation(p136, 0.1, v_u_2)\n            return true, v_u_14\n        end\n        if typeof(p136) ~= \"Instance\" or not p136:IsA(\"Animation\") then\n            return false\n        end\n        playEmote(p136, 0.1, v_u_2)\n        return true, v_u_14\n    end\nend\nif v_u_1.Parent ~= nil then\n    playAnimation(\"idle\", 0.1, v_u_2)\n    local _ = \"Standing\"\nend\nwhile v_u_1.Parent ~= nil do\n    local _, v137 = wait(0.1)\n    stepAnimate(v137)\nend"},{"Path":"Workspace.urUncledxd.Health","Name":"Health","ClassName":"Script","Failed":true,"Category":"Workspace","FileName":"Health_failed.lua","Source":"-- Failed to decompile: Unknown Bytecode"},{"Path":"Workspace.urUncledxd.Animate","Name":"Animate","ClassName":"LocalScript","Category":"Workspace","FileName":"Animate62.lua","Source":"-- Decompiled with Velocity Script Decompiler\nlocal v_u_1 = script.Parent\nlocal v_u_2 = v_u_1:WaitForChild(\"Humanoid\")\nlocal v_u_3 = \"Standing\"\nlocal v4, v5 = pcall(function()\n    return UserSettings():IsUserFeatureEnabled(\"UserNoUpdateOnLoop\")\nend)\nlocal v_u_6 = v4 and v5\nlocal v7, v8 = pcall(function()\n    return UserSettings():IsUserFeatureEnabled(\"UserAnimateScaleRun\")\nend)\nlocal v_u_9 = v7 and v8\nlocal function v_u_10()\n    -- upvalues: (copy) v_u_9, (copy) v_u_1\n    return not v_u_9 and 1 or v_u_1:GetScale()\nend\nlocal v_u_11 = script:FindFirstChild(\"ScaleDampeningPercent\")\nlocal v_u_12 = \"\"\nlocal v_u_13 = nil\nlocal v_u_14 = nil\nlocal v_u_15 = nil\nlocal v_u_16 = 1\nlocal v_u_17 = nil\nlocal v_u_18 = nil\nlocal v_u_19 = {}\nlocal v_u_20 = {}\nlocal v_u_21 = {\n    [\"idle\"] = {\n        {\n            [\"id\"] = \"http://www.roblox.com/asset/?id=507766666\",\n            [\"weight\"] = 1\n        },\n        {\n            [\"id\"] = \"http://www.roblox.com/asset/?id=507766951\",\n            [\"weight\"] = 1\n        },\n        {\n            [\"id\"] = \"http://www.roblox.com/asset/?id=507766388\",\n            [\"weight\"] = 9\n        }\n    },\n    [\"walk\"] = {\n        {\n            [\"id\"] = \"http://www.roblox.com/asset/?id=507777826\",\n            [\"weight\"] = 10\n        }\n    },\n    [\"run\"] = {\n        {\n            [\"id\"] = \"http://www.roblox.com/asset/?id=507767714\",\n            [\"weight\"] = 10\n        }\n    },\n    [\"swim\"] = {\n        {\n            [\"id\"] = \"http://www.roblox.com/asset/?id=507784897\",\n            [\"weight\"] = 10\n        }\n    },\n    [\"swimidle\"] = {\n        {\n            [\"id\"] = \"http://www.roblox.com/asset/?id=507785072\",\n            [\"weight\"] = 10\n        }\n    },\n    [\"jump\"] = {\n        {\n            [\"id\"] = \"http://www.roblox.com/asset/?id=507765000\",\n            [\"weight\"] = 10\n        }\n    },\n    [\"fall\"] = {\n        {\n            [\"id\"] = \"http://www.roblox.com/asset/?id=507767968\",\n            [\"weight\"] = 10\n        }\n    },\n    [\"climb\"] = {\n        {\n            [\"id\"] = \"http://www.roblox.com/asset/?id=507765644\",\n            [\"weight\"] = 10\n        }\n    },\n    [\"sit\"] = {\n        {\n            [\"id\"] = \"http://www.roblox.com/asset/?id=2506281703\",\n            [\"weight\"] = 10\n        }\n    },\n    [\"toolnone\"] = {\n        {\n            [\"id\"] = \"http://www.roblox.com/asset/?id=507768375\",\n            [\"weight\"] = 10\n        }\n    },\n    [\"toolslash\"] = {\n        {\n            [\"id\"] = \"http://www.roblox.com/asset/?id=522635514\",\n            [\"weight\"] = 10\n        }\n    },\n    [\"toollunge\"] = {\n        {\n            [\"id\"] = \"http://www.roblox.com/asset/?id=522638767\",\n            [\"weight\"] = 10\n        }\n    },\n    [\"wave\"] = {\n        {\n            [\"id\"] = \"http://www.roblox.com/asset/?id=507770239\",\n            [\"weight\"] = 10\n        }\n    },\n    [\"point\"] = {\n        {\n            [\"id\"] = \"http://www.roblox.com/asset/?id=507770453\",\n            [\"weight\"] = 10\n        }\n    },\n    [\"dance\"] = {\n        {\n            [\"id\"] = \"http://www.roblox.com/asset/?id=507771019\",\n            [\"weight\"] = 10\n        },\n        {\n            [\"id\"] = \"http://www.roblox.com/asset/?id=507771955\",\n            [\"weight\"] = 10\n        },\n        {\n            [\"id\"] = \"http://www.roblox.com/asset/?id=507772104\",\n            [\"weight\"] = 10\n        }\n    },\n    [\"dance2\"] = {\n        {\n            [\"id\"] = \"http://www.roblox.com/asset/?id=507776043\",\n            [\"weight\"] = 10\n        },\n        {\n            [\"id\"] = \"http://www.roblox.com/asset/?id=507776720\",\n            [\"weight\"] = 10\n        },\n        {\n            [\"id\"] = \"http://www.roblox.com/asset/?id=507776879\",\n            [\"weight\"] = 10\n        }\n    },\n    [\"dance3\"] = {\n        {\n            [\"id\"] = \"http://www.roblox.com/asset/?id=507777268\",\n            [\"weight\"] = 10\n        },\n        {\n            [\"id\"] = \"http://www.roblox.com/asset/?id=507777451\",\n            [\"weight\"] = 10\n        },\n        {\n            [\"id\"] = \"http://www.roblox.com/asset/?id=507777623\",\n            [\"weight\"] = 10\n        }\n    },\n    [\"laugh\"] = {\n        {\n            [\"id\"] = \"http://www.roblox.com/asset/?id=507770818\",\n            [\"weight\"] = 10\n        }\n    },\n    [\"cheer\"] = {\n        {\n            [\"id\"] = \"http://www.roblox.com/asset/?id=507770677\",\n            [\"weight\"] = 10\n        }\n    }\n}\nlocal v_u_22 = {\n    [\"wave\"] = false,\n    [\"point\"] = false,\n    [\"dance\"] = true,\n    [\"dance2\"] = true,\n    [\"dance3\"] = true,\n    [\"laugh\"] = false,\n    [\"cheer\"] = false\n}\nmath.randomseed(tick())\nfunction findExistingAnimationInSet(p23, p24)\n    if p23 == nil or p24 == nil then\n        return 0\n    end\n    for v25 = 1, p23.count do\n        if p23[v25].anim.AnimationId == p24.AnimationId then\n            return v25\n        end\n    end\n    return 0\nend\nfunction configureAnimationSet(p_u_26, p_u_27)\n    -- upvalues: (copy) v_u_20, (copy) v_u_19, (copy) v_u_2\n    if v_u_20[p_u_26] ~= nil then\n        for _, v28 in pairs(v_u_20[p_u_26].connections) do\n            v28:disconnect()\n        end\n    end\n    v_u_20[p_u_26] = {}\n    v_u_20[p_u_26].count = 0\n    v_u_20[p_u_26].totalWeight = 0\n    v_u_20[p_u_26].connections = {}\n    local v_u_29 = true\n    local v30, _ = pcall(function()\n        -- upvalues: (ref) v_u_29\n        v_u_29 = game:GetService(\"StarterPlayer\").AllowCustomAnimations\n    end)\n    v_u_29 = not v30 and true or v_u_29\n    local v31 = script:FindFirstChild(p_u_26)\n    if v_u_29 and v31 ~= nil then\n        local v32 = v_u_20[p_u_26].connections\n        local v33 = v31.ChildAdded\n        table.insert(v32, v33:connect(function(_)\n            -- upvalues: (copy) p_u_26, (copy) p_u_27\n            configureAnimationSet(p_u_26, p_u_27)\n        end))\n        local v34 = v_u_20[p_u_26].connections\n        local v35 = v31.ChildRemoved\n        table.insert(v34, v35:connect(function(_)\n            -- upvalues: (copy) p_u_26, (copy) p_u_27\n            configureAnimationSet(p_u_26, p_u_27)\n        end))\n        for _, v36 in pairs(v31:GetChildren()) do\n            if v36:IsA(\"Animation\") then\n                local v37 = v36:FindFirstChild(\"Weight\")\n                local v38 = v37 == nil and 1 or v37.Value\n                v_u_20[p_u_26].count = v_u_20[p_u_26].count + 1\n                local v39 = v_u_20[p_u_26].count\n                v_u_20[p_u_26][v39] = {}\n                v_u_20[p_u_26][v39].anim = v36\n                v_u_20[p_u_26][v39].weight = v38\n                v_u_20[p_u_26].totalWeight = v_u_20[p_u_26].totalWeight + v_u_20[p_u_26][v39].weight\n                local v40 = v_u_20[p_u_26].connections\n                local v41 = v36.Changed\n                table.insert(v40, v41:connect(function(_)\n                    -- upvalues: (copy) p_u_26, (copy) p_u_27\n                    configureAnimationSet(p_u_26, p_u_27)\n                end))\n                local v42 = v_u_20[p_u_26].connections\n                local v43 = v36.ChildAdded\n                table.insert(v42, v43:connect(function(_)\n                    -- upvalues: (copy) p_u_26, (copy) p_u_27\n                    configureAnimationSet(p_u_26, p_u_27)\n                end))\n                local v44 = v_u_20[p_u_26].connections\n                local v45 = v36.ChildRemoved\n                table.insert(v44, v45:connect(function(_)\n                    -- upvalues: (copy) p_u_26, (copy) p_u_27\n                    configureAnimationSet(p_u_26, p_u_27)\n                end))\n            end\n        end\n    end\n    if v_u_20[p_u_26].count <= 0 then\n        for v46, v47 in pairs(p_u_27) do\n            v_u_20[p_u_26][v46] = {}\n            v_u_20[p_u_26][v46].anim = Instance.new(\"Animation\")\n            v_u_20[p_u_26][v46].anim.Name = p_u_26\n            v_u_20[p_u_26][v46].anim.AnimationId = v47.id\n            v_u_20[p_u_26][v46].weight = v47.weight\n            v_u_20[p_u_26].count = v_u_20[p_u_26].count + 1\n            v_u_20[p_u_26].totalWeight = v_u_20[p_u_26].totalWeight + v47.weight\n        end\n    end\n    for _, v48 in pairs(v_u_20) do\n        for v49 = 1, v48.count do\n            if v_u_19[v48[v49].anim.AnimationId] == nil then\n                v_u_2:LoadAnimation(v48[v49].anim)\n                v_u_19[v48[v49].anim.AnimationId] = true\n            end\n        end\n    end\nend\nfunction configureAnimationSetOld(p_u_50, p_u_51)\n    -- upvalues: (copy) v_u_20, (copy) v_u_2\n    if v_u_20[p_u_50] ~= nil then\n        for _, v52 in pairs(v_u_20[p_u_50].connections) do\n            v52:disconnect()\n        end\n    end\n    v_u_20[p_u_50] = {}\n    v_u_20[p_u_50].count = 0\n    v_u_20[p_u_50].totalWeight = 0\n    v_u_20[p_u_50].connections = {}\n    local v_u_53 = true\n    local v54, _ = pcall(function()\n        -- upvalues: (ref) v_u_53\n        v_u_53 = game:GetService(\"StarterPlayer\").AllowCustomAnimations\n    end)\n    v_u_53 = not v54 and true or v_u_53\n    local v55 = script:FindFirstChild(p_u_50)\n    if v_u_53 and v55 ~= nil then\n        local v56 = v_u_20[p_u_50].connections\n        local v57 = v55.ChildAdded\n        table.insert(v56, v57:connect(function(_)\n            -- upvalues: (copy) p_u_50, (copy) p_u_51\n            configureAnimationSet(p_u_50, p_u_51)\n        end))\n        local v58 = v_u_20[p_u_50].connections\n        local v59 = v55.ChildRemoved\n        table.insert(v58, v59:connect(function(_)\n            -- upvalues: (copy) p_u_50, (copy) p_u_51\n            configureAnimationSet(p_u_50, p_u_51)\n        end))\n        local v60 = 1\n        for _, v61 in pairs(v55:GetChildren()) do\n            if v61:IsA(\"Animation\") then\n                local v62 = v_u_20[p_u_50].connections\n                local v63 = v61.Changed\n                table.insert(v62, v63:connect(function(_)\n                    -- upvalues: (copy) p_u_50, (copy) p_u_51\n                    configureAnimationSet(p_u_50, p_u_51)\n                end))\n                v_u_20[p_u_50][v60] = {}\n                v_u_20[p_u_50][v60].anim = v61\n                local v64 = v61:FindFirstChild(\"Weight\")\n                if v64 == nil then\n                    v_u_20[p_u_50][v60].weight = 1\n                else\n                    v_u_20[p_u_50][v60].weight = v64.Value\n                end\n                v_u_20[p_u_50].count = v_u_20[p_u_50].count + 1\n                v_u_20[p_u_50].totalWeight = v_u_20[p_u_50].totalWeight + v_u_20[p_u_50][v60].weight\n                v60 = v60 + 1\n            end\n        end\n    end\n    if v_u_20[p_u_50].count <= 0 then\n        for v65, v66 in pairs(p_u_51) do\n            v_u_20[p_u_50][v65] = {}\n            v_u_20[p_u_50][v65].anim = Instance.new(\"Animation\")\n            v_u_20[p_u_50][v65].anim.Name = p_u_50\n            v_u_20[p_u_50][v65].anim.AnimationId = v66.id\n            v_u_20[p_u_50][v65].weight = v66.weight\n            v_u_20[p_u_50].count = v_u_20[p_u_50].count + 1\n            v_u_20[p_u_50].totalWeight = v_u_20[p_u_50].totalWeight + v66.weight\n        end\n    end\n    for _, v67 in pairs(v_u_20) do\n        for v68 = 1, v67.count do\n            v_u_2:LoadAnimation(v67[v68].anim)\n        end\n    end\nend\nfunction scriptChildModified(p69)\n    -- upvalues: (copy) v_u_21\n    local v70 = v_u_21[p69.Name]\n    if v70 ~= nil then\n        configureAnimationSet(p69.Name, v70)\n    end\nend\nscript.ChildAdded:connect(scriptChildModified)\nscript.ChildRemoved:connect(scriptChildModified)\nlocal v71\nif v_u_2 then\n    v71 = v_u_2:FindFirstChildOfClass(\"Animator\")\nelse\n    v71 = nil\nend\nif v71 then\n    local v72 = v71:GetPlayingAnimationTracks()\n    for _, v73 in ipairs(v72) do\n        v73:Stop(0)\n        v73:Destroy()\n    end\nend\nfor v74, v75 in pairs(v_u_21) do\n    configureAnimationSet(v74, v75)\nend\nlocal v_u_76 = \"None\"\nlocal v_u_77 = 0\nlocal v_u_78 = 0\nlocal v_u_79 = false\nfunction stopAllAnimations()\n    -- upvalues: (ref) v_u_12, (copy) v_u_22, (ref) v_u_79, (ref) v_u_13, (ref) v_u_15, (ref) v_u_14, (ref) v_u_18, (ref) v_u_17\n    local v80 = v_u_12\n    local v81 = v_u_22[v80] ~= nil and v_u_22[v80] == false and \"idle\" or v80\n    if v_u_79 then\n        v81 = \"idle\"\n        v_u_79 = false\n    end\n    v_u_12 = \"\"\n    v_u_13 = nil\n    if v_u_15 ~= nil then\n        v_u_15:disconnect()\n    end\n    if v_u_14 ~= nil then\n        v_u_14:Stop()\n        v_u_14:Destroy()\n        v_u_14 = nil\n    end\n    if v_u_18 ~= nil then\n        v_u_18:disconnect()\n    end\n    if v_u_17 ~= nil then\n        v_u_17:Stop()\n        v_u_17:Destroy()\n        v_u_17 = nil\n    end\n    return v81\nend\nfunction getHeightScale()\n    -- upvalues: (copy) v_u_2, (copy) v_u_10, (ref) v_u_11\n    if not v_u_2 then\n        return v_u_10()\n    end\n    if not v_u_2.AutomaticScalingEnabled then\n        return v_u_10()\n    end\n    local v82 = v_u_2.HipHeight / 2\n    if v_u_11 == nil then\n        v_u_11 = script:FindFirstChild(\"ScaleDampeningPercent\")\n    end\n    if v_u_11 ~= nil then\n        v82 = 1 + (v_u_2.HipHeight - 2) * v_u_11.Value / 2\n    end\n    return v82\nend\nlocal function v_u_88(p83)\n    -- upvalues: (ref) v_u_14, (ref) v_u_17\n    local v84 = p83 * 1.25 / getHeightScale()\n    local v85 = 0.0001\n    local v86 = 0.0001\n    local v87 = 1\n    if v84 <= 0.5 then\n        v87 = v84 / 0.5\n        v85 = 1\n    elseif v84 < 1 then\n        v86 = (v84 - 0.5) / 0.5\n        v85 = 1 - v86\n    else\n        v87 = v84 / 1\n        v86 = 1\n    end\n    v_u_14:AdjustWeight(v85)\n    v_u_17:AdjustWeight(v86)\n    v_u_14:AdjustSpeed(v87)\n    v_u_17:AdjustSpeed(v87)\nend\nfunction setAnimationSpeed(p89)\n    -- upvalues: (ref) v_u_12, (copy) v_u_88, (ref) v_u_16, (ref) v_u_14\n    if v_u_12 == \"walk\" then\n        v_u_88(p89)\n    elseif p89 ~= v_u_16 then\n        v_u_16 = p89\n        v_u_14:AdjustSpeed(v_u_16)\n    end\nend\nfunction keyFrameReachedFunc(p90)\n    -- upvalues: (ref) v_u_12, (copy) v_u_6, (ref) v_u_17, (ref) v_u_14, (copy) v_u_22, (ref) v_u_79, (ref) v_u_16, (copy) v_u_2\n    if p90 == \"End\" then\n        if v_u_12 == \"walk\" then\n            if v_u_6 ~= true then\n                v_u_17.TimePosition = 0\n                v_u_14.TimePosition = 0\n                return\n            end\n            if v_u_17.Looped ~= true then\n                v_u_17.TimePosition = 0\n            end\n            if v_u_14.Looped ~= true then\n                v_u_14.TimePosition = 0\n                return\n            end\n        else\n            local v91 = v_u_12\n            local v92 = v_u_22[v91] ~= nil and v_u_22[v91] == false and \"idle\" or v91\n            if v_u_79 then\n                if v_u_14.Looped then\n                    return\n                end\n                v92 = \"idle\"\n                v_u_79 = false\n            end\n            local v93 = v_u_16\n            playAnimation(v92, 0.15, v_u_2)\n            setAnimationSpeed(v93)\n        end\n    end\nend\nfunction rollAnimation(p94)\n    -- upvalues: (copy) v_u_20\n    local v95 = math.random(1, v_u_20[p94].totalWeight)\n    local v96 = 1\n    while v_u_20[p94][v96].weight < v95 do\n        v95 = v95 - v_u_20[p94][v96].weight\n        v96 = v96 + 1\n    end\n    return v96\nend\nlocal function v_u_102(p97, p98, p99, p100)\n    -- upvalues: (ref) v_u_13, (ref) v_u_14, (ref) v_u_17, (copy) v_u_6, (ref) v_u_16, (ref) v_u_12, (ref) v_u_15, (copy) v_u_20, (ref) v_u_18\n    if p97 ~= v_u_13 then\n        if v_u_14 ~= nil then\n            v_u_14:Stop(p99)\n            v_u_14:Destroy()\n        end\n        if v_u_17 ~= nil then\n            v_u_17:Stop(p99)\n            v_u_17:Destroy()\n            if v_u_6 == true then\n                v_u_17 = nil\n            end\n        end\n        v_u_16 = 1\n        v_u_14 = p100:LoadAnimation(p97)\n        v_u_14.Priority = Enum.AnimationPriority.Core\n        v_u_14:Play(p99)\n        v_u_12 = p98\n        v_u_13 = p97\n        if v_u_15 ~= nil then\n            v_u_15:disconnect()\n        end\n        v_u_15 = v_u_14.KeyframeReached:connect(keyFrameReachedFunc)\n        if p98 == \"walk\" then\n            local v101 = rollAnimation(\"run\")\n            v_u_17 = p100:LoadAnimation(v_u_20.run[v101].anim)\n            v_u_17.Priority = Enum.AnimationPriority.Core\n            v_u_17:Play(p99)\n            if v_u_18 ~= nil then\n                v_u_18:disconnect()\n            end\n            v_u_18 = v_u_17.KeyframeReached:connect(keyFrameReachedFunc)\n        end\n    end\nend\nfunction playAnimation(p103, p104, p105)\n    -- upvalues: (copy) v_u_20, (copy) v_u_102, (ref) v_u_79\n    local v106 = rollAnimation(p103)\n    v_u_102(v_u_20[p103][v106].anim, p103, p104, p105)\n    v_u_79 = false\nend\nfunction playEmote(p107, p108, p109)\n    -- upvalues: (copy) v_u_102, (ref) v_u_79\n    v_u_102(p107, p107.Name, p108, p109)\n    v_u_79 = true\nend\nlocal v_u_110 = \"\"\nlocal v_u_111 = nil\nlocal v_u_112 = nil\nlocal v_u_113 = nil\nfunction toolKeyFrameReachedFunc(p114)\n    -- upvalues: (ref) v_u_110, (copy) v_u_2\n    if p114 == \"End\" then\n        playToolAnimation(v_u_110, 0, v_u_2)\n    end\nend\nfunction playToolAnimation(p115, p116, p117, p118)\n    -- upvalues: (copy) v_u_20, (ref) v_u_112, (ref) v_u_111, (ref) v_u_110, (ref) v_u_113\n    local v119 = rollAnimation(p115)\n    local v120 = v_u_20[p115][v119].anim\n    if v_u_112 ~= v120 then\n        if v_u_111 ~= nil then\n            v_u_111:Stop()\n            v_u_111:Destroy()\n            p116 = 0\n        end\n        v_u_111 = p117:LoadAnimation(v120)\n        if p118 then\n            v_u_111.Priority = p118\n        end\n        v_u_111:Play(p116)\n        v_u_110 = p115\n        v_u_112 = v120\n        v_u_113 = v_u_111.KeyframeReached:connect(toolKeyFrameReachedFunc)\n    end\nend\nfunction stopToolAnimations()\n    -- upvalues: (ref) v_u_110, (ref) v_u_113, (ref) v_u_112, (ref) v_u_111\n    local v121 = v_u_110\n    if v_u_113 ~= nil then\n        v_u_113:disconnect()\n    end\n    v_u_110 = \"\"\n    v_u_112 = nil\n    if v_u_111 ~= nil then\n        v_u_111:Stop()\n        v_u_111:Destroy()\n        v_u_111 = nil\n    end\n    return v121\nend\nfunction onRunning(p122)\n    -- upvalues: (copy) v_u_9, (ref) v_u_79, (copy) v_u_2, (ref) v_u_3, (copy) v_u_22, (ref) v_u_12\n    local v123 = not v_u_9 and 1 or getHeightScale()\n    local v124 = v_u_79\n    if v124 then\n        v124 = v_u_2.MoveDirection == Vector3.new(0, 0, 0)\n    end\n    if (v124 and (v_u_2.WalkSpeed / v123 or 0.75) or 0.75) * v123 < p122 then\n        playAnimation(\"walk\", 0.2, v_u_2)\n        setAnimationSpeed(p122 / 16)\n        v_u_3 = \"Running\"\n    elseif v_u_22[v_u_12] == nil and not v_u_79 then\n        playAnimation(\"idle\", 0.2, v_u_2)\n        v_u_3 = \"Standing\"\n    end\nend\nfunction onDied()\n    -- upvalues: (ref) v_u_3\n    v_u_3 = \"Dead\"\nend\nfunction onJumping()\n    -- upvalues: (copy) v_u_2, (ref) v_u_78, (ref) v_u_3\n    playAnimation(\"jump\", 0.1, v_u_2)\n    v_u_78 = 0.31\n    v_u_3 = \"Jumping\"\nend\nfunction onClimbing(p125)\n    -- upvalues: (copy) v_u_9, (copy) v_u_2, (ref) v_u_3\n    if v_u_9 then\n        p125 = p125 / getHeightScale()\n    end\n    playAnimation(\"climb\", 0.1, v_u_2)\n    setAnimationSpeed(p125 / 5)\n    v_u_3 = \"Climbing\"\nend\nfunction onGettingUp()\n    -- upvalues: (ref) v_u_3\n    v_u_3 = \"GettingUp\"\nend\nfunction onFreeFall()\n    -- upvalues: (ref) v_u_78, (copy) v_u_2, (ref) v_u_3\n    if v_u_78 <= 0 then\n        playAnimation(\"fall\", 0.2, v_u_2)\n    end\n    v_u_3 = \"FreeFall\"\nend\nfunction onFallingDown()\n    -- upvalues: (ref) v_u_3\n    v_u_3 = \"FallingDown\"\nend\nfunction onSeated()\n    -- upvalues: (ref) v_u_3\n    v_u_3 = \"Seated\"\nend\nfunction onPlatformStanding()\n    -- upvalues: (ref) v_u_3\n    v_u_3 = \"PlatformStanding\"\nend\nfunction onSwimming(p126)\n    -- upvalues: (copy) v_u_9, (copy) v_u_2, (ref) v_u_3\n    if v_u_9 then\n        p126 = p126 / getHeightScale()\n    end\n    if p126 > 1 then\n        playAnimation(\"swim\", 0.4, v_u_2)\n        setAnimationSpeed(p126 / 10)\n        v_u_3 = \"Swimming\"\n    else\n        playAnimation(\"swimidle\", 0.4, v_u_2)\n        v_u_3 = \"Standing\"\n    end\nend\nfunction animateTool()\n    -- upvalues: (ref) v_u_76, (copy) v_u_2\n    if v_u_76 == \"None\" then\n        playToolAnimation(\"toolnone\", 0.1, v_u_2, Enum.AnimationPriority.Idle)\n        return\n    elseif v_u_76 == \"Slash\" then\n        playToolAnimation(\"toolslash\", 0, v_u_2, Enum.AnimationPriority.Action)\n        return\n    elseif v_u_76 == \"Lunge\" then\n        playToolAnimation(\"toollunge\", 0, v_u_2, Enum.AnimationPriority.Action)\n    end\nend\nfunction getToolAnim(p127)\n    for _, v128 in ipairs(p127:GetChildren()) do\n        if v128.Name == \"toolanim\" and v128.className == \"StringValue\" then\n            return v128\n        end\n    end\n    return nil\nend\nlocal v_u_129 = 0\nfunction stepAnimate(p130)\n    -- upvalues: (ref) v_u_129, (ref) v_u_78, (ref) v_u_3, (copy) v_u_2, (copy) v_u_1, (ref) v_u_76, (ref) v_u_77, (ref) v_u_112\n    local v131 = p130 - v_u_129\n    v_u_129 = p130\n    if v_u_78 > 0 then\n        v_u_78 = v_u_78 - v131\n    end\n    if v_u_3 == \"FreeFall\" and v_u_78 <= 0 then\n        playAnimation(\"fall\", 0.2, v_u_2)\n    else\n        if v_u_3 == \"Seated\" then\n            playAnimation(\"sit\", 0.5, v_u_2)\n            return\n        end\n        if v_u_3 == \"Running\" then\n            playAnimation(\"walk\", 0.2, v_u_2)\n        elseif v_u_3 == \"Dead\" or (v_u_3 == \"GettingUp\" or (v_u_3 == \"FallingDown\" or (v_u_3 == \"Seated\" or v_u_3 == \"PlatformStanding\"))) then\n            stopAllAnimations()\n        end\n    end\n    local v132 = v_u_1:FindFirstChildOfClass(\"Tool\")\n    if v132 and v132:FindFirstChild(\"Handle\") then\n        local v133 = getToolAnim(v132)\n        if v133 then\n            v_u_76 = v133.Value\n            v133.Parent = nil\n            v_u_77 = p130 + 0.3\n        end\n        if v_u_77 < p130 then\n            v_u_77 = 0\n            v_u_76 = \"None\"\n        end\n        animateTool()\n    else\n        stopToolAnimations()\n        v_u_76 = \"None\"\n        v_u_112 = nil\n        v_u_77 = 0\n    end\nend\nv_u_2.Died:connect(onDied)\nv_u_2.Running:connect(onRunning)\nv_u_2.Jumping:connect(onJumping)\nv_u_2.Climbing:connect(onClimbing)\nv_u_2.GettingUp:connect(onGettingUp)\nv_u_2.FreeFalling:connect(onFreeFall)\nv_u_2.FallingDown:connect(onFallingDown)\nv_u_2.Seated:connect(onSeated)\nv_u_2.PlatformStanding:connect(onPlatformStanding)\nv_u_2.Swimming:connect(onSwimming)\ngame:GetService(\"Players\").LocalPlayer.Chatted:connect(function(p134)\n    -- upvalues: (ref) v_u_3, (copy) v_u_22, (copy) v_u_2\n    local v135 = \"\"\n    if string.sub(p134, 1, 3) == \"/e \" then\n        v135 = string.sub(p134, 4)\n    elseif string.sub(p134, 1, 7) == \"/emote \" then\n        v135 = string.sub(p134, 8)\n    end\n    if v_u_3 == \"Standing\" and v_u_22[v135] ~= nil then\n        playAnimation(v135, 0.1, v_u_2)\n    end\nend)\nscript:WaitForChild(\"PlayEmote\").OnInvoke = function(p136)\n    -- upvalues: (ref) v_u_3, (copy) v_u_22, (copy) v_u_2, (ref) v_u_14\n    if v_u_3 == \"Standing\" then\n        if v_u_22[p136] ~= nil then\n            playAnimation(p136, 0.1, v_u_2)\n            return true, v_u_14\n        end\n        if typeof(p136) ~= \"Instance\" or not p136:IsA(\"Animation\") then\n            return false\n        end\n        playEmote(p136, 0.1, v_u_2)\n        return true, v_u_14\n    end\nend\nif v_u_1.Parent ~= nil then\n    playAnimation(\"idle\", 0.1, v_u_2)\n    local _ = \"Standing\"\nend\nwhile v_u_1.Parent ~= nil do\n    local _, v137 = wait(0.1)\n    stepAnimate(v137)\nend"}],"DecompileDuration":7,"ScriptsFailed":4}